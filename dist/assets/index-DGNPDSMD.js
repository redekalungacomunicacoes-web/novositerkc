function ex(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _c={exports:{}},ji={},jc={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm;function rx(){if(pm)return Ge;pm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function k(O,K,fe){this.props=O,this.context=K,this.refs=j,this.updater=fe||_}k.prototype.isReactComponent={},k.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=k.prototype;function A(O,K,fe){this.props=O,this.context=K,this.refs=j,this.updater=fe||_}var D=A.prototype=new C;D.constructor=A,b(D,k.prototype),D.isPureReactComponent=!0;var W=Array.isArray,J=Object.prototype.hasOwnProperty,z={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function M(O,K,fe){var ge,Pe={},Ue=null,Ie=null;if(K!=null)for(ge in K.ref!==void 0&&(Ie=K.ref),K.key!==void 0&&(Ue=""+K.key),K)J.call(K,ge)&&!S.hasOwnProperty(ge)&&(Pe[ge]=K[ge]);var We=arguments.length-2;if(We===1)Pe.children=fe;else if(1<We){for(var Xe=Array(We),vt=0;vt<We;vt++)Xe[vt]=arguments[vt+2];Pe.children=Xe}if(O&&O.defaultProps)for(ge in We=O.defaultProps,We)Pe[ge]===void 0&&(Pe[ge]=We[ge]);return{$$typeof:e,type:O,key:Ue,ref:Ie,props:Pe,_owner:z.current}}function Q(O,K){return{$$typeof:e,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function Re(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function Le(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return K[fe]})}var pe=/\/+/g;function G(O,K){return typeof O=="object"&&O!==null&&O.key!=null?Le(""+O.key):K.toString(36)}function re(O,K,fe,ge,Pe){var Ue=typeof O;(Ue==="undefined"||Ue==="boolean")&&(O=null);var Ie=!1;if(O===null)Ie=!0;else switch(Ue){case"string":case"number":Ie=!0;break;case"object":switch(O.$$typeof){case e:case t:Ie=!0}}if(Ie)return Ie=O,Pe=Pe(Ie),O=ge===""?"."+G(Ie,0):ge,W(Pe)?(fe="",O!=null&&(fe=O.replace(pe,"$&/")+"/"),re(Pe,K,fe,"",function(vt){return vt})):Pe!=null&&(Re(Pe)&&(Pe=Q(Pe,fe+(!Pe.key||Ie&&Ie.key===Pe.key?"":(""+Pe.key).replace(pe,"$&/")+"/")+O)),K.push(Pe)),1;if(Ie=0,ge=ge===""?".":ge+":",W(O))for(var We=0;We<O.length;We++){Ue=O[We];var Xe=ge+G(Ue,We);Ie+=re(Ue,K,fe,Xe,Pe)}else if(Xe=x(O),typeof Xe=="function")for(O=Xe.call(O),We=0;!(Ue=O.next()).done;)Ue=Ue.value,Xe=ge+G(Ue,We++),Ie+=re(Ue,K,fe,Xe,Pe);else if(Ue==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ie}function oe(O,K,fe){if(O==null)return O;var ge=[],Pe=0;return re(O,ge,"","",function(Ue){return K.call(fe,Ue,Pe++)}),ge}function he(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Y={current:null},$={transition:null},ae={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:$,ReactCurrentOwner:z};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:oe,forEach:function(O,K,fe){oe(O,function(){K.apply(this,arguments)},fe)},count:function(O){var K=0;return oe(O,function(){K++}),K},toArray:function(O){return oe(O,function(K){return K})||[]},only:function(O){if(!Re(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ge.Component=k,Ge.Fragment=n,Ge.Profiler=o,Ge.PureComponent=A,Ge.StrictMode=a,Ge.Suspense=p,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Ge.act=te,Ge.cloneElement=function(O,K,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ge=b({},O.props),Pe=O.key,Ue=O.ref,Ie=O._owner;if(K!=null){if(K.ref!==void 0&&(Ue=K.ref,Ie=z.current),K.key!==void 0&&(Pe=""+K.key),O.type&&O.type.defaultProps)var We=O.type.defaultProps;for(Xe in K)J.call(K,Xe)&&!S.hasOwnProperty(Xe)&&(ge[Xe]=K[Xe]===void 0&&We!==void 0?We[Xe]:K[Xe])}var Xe=arguments.length-2;if(Xe===1)ge.children=fe;else if(1<Xe){We=Array(Xe);for(var vt=0;vt<Xe;vt++)We[vt]=arguments[vt+2];ge.children=We}return{$$typeof:e,type:O.type,key:Pe,ref:Ue,props:ge,_owner:Ie}},Ge.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:u,_context:O},O.Consumer=O},Ge.createElement=M,Ge.createFactory=function(O){var K=M.bind(null,O);return K.type=O,K},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(O){return{$$typeof:h,render:O}},Ge.isValidElement=Re,Ge.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:he}},Ge.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},Ge.startTransition=function(O){var K=$.transition;$.transition={};try{O()}finally{$.transition=K}},Ge.unstable_act=te,Ge.useCallback=function(O,K){return Y.current.useCallback(O,K)},Ge.useContext=function(O){return Y.current.useContext(O)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(O){return Y.current.useDeferredValue(O)},Ge.useEffect=function(O,K){return Y.current.useEffect(O,K)},Ge.useId=function(){return Y.current.useId()},Ge.useImperativeHandle=function(O,K,fe){return Y.current.useImperativeHandle(O,K,fe)},Ge.useInsertionEffect=function(O,K){return Y.current.useInsertionEffect(O,K)},Ge.useLayoutEffect=function(O,K){return Y.current.useLayoutEffect(O,K)},Ge.useMemo=function(O,K){return Y.current.useMemo(O,K)},Ge.useReducer=function(O,K,fe){return Y.current.useReducer(O,K,fe)},Ge.useRef=function(O){return Y.current.useRef(O)},Ge.useState=function(O){return Y.current.useState(O)},Ge.useSyncExternalStore=function(O,K,fe){return Y.current.useSyncExternalStore(O,K,fe)},Ge.useTransition=function(){return Y.current.useTransition()},Ge.version="18.3.1",Ge}var gm;function wd(){return gm||(gm=1,jc.exports=rx()),jc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function nx(){if(ym)return ji;ym=1;var e=wd(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,m){var y,v={},x=null,_=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(_=p.ref);for(y in p)a.call(p,y)&&!u.hasOwnProperty(y)&&(v[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)v[y]===void 0&&(v[y]=p[y]);return{$$typeof:t,type:h,key:x,ref:_,props:v,_owner:o.current}}return ji.Fragment=n,ji.jsx=d,ji.jsxs=d,ji}var vm;function sx(){return vm||(vm=1,_c.exports=nx()),_c.exports}var l=sx(),ol={},kc={exports:{}},dr={},Ec={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function ax(){return xm||(xm=1,(function(e){function t($,ae){var te=$.length;$.push(ae);e:for(;0<te;){var O=te-1>>>1,K=$[O];if(0<o(K,ae))$[O]=ae,$[te]=K,te=O;else break e}}function n($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var ae=$[0],te=$.pop();if(te!==ae){$[0]=te;e:for(var O=0,K=$.length,fe=K>>>1;O<fe;){var ge=2*(O+1)-1,Pe=$[ge],Ue=ge+1,Ie=$[Ue];if(0>o(Pe,te))Ue<K&&0>o(Ie,Pe)?($[O]=Ie,$[Ue]=te,O=Ue):($[O]=Pe,$[ge]=te,O=ge);else if(Ue<K&&0>o(Ie,te))$[O]=Ie,$[Ue]=te,O=Ue;else break e}}return ae}function o($,ae){var te=$.sortIndex-ae.sortIndex;return te!==0?te:$.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var p=[],m=[],y=1,v=null,x=3,_=!1,b=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D($){for(var ae=n(m);ae!==null;){if(ae.callback===null)a(m);else if(ae.startTime<=$)a(m),ae.sortIndex=ae.expirationTime,t(p,ae);else break;ae=n(m)}}function W($){if(j=!1,D($),!b)if(n(p)!==null)b=!0,he(J);else{var ae=n(m);ae!==null&&Y(W,ae.startTime-$)}}function J($,ae){b=!1,j&&(j=!1,C(M),M=-1),_=!0;var te=x;try{for(D(ae),v=n(p);v!==null&&(!(v.expirationTime>ae)||$&&!Le());){var O=v.callback;if(typeof O=="function"){v.callback=null,x=v.priorityLevel;var K=O(v.expirationTime<=ae);ae=e.unstable_now(),typeof K=="function"?v.callback=K:v===n(p)&&a(p),D(ae)}else a(p);v=n(p)}if(v!==null)var fe=!0;else{var ge=n(m);ge!==null&&Y(W,ge.startTime-ae),fe=!1}return fe}finally{v=null,x=te,_=!1}}var z=!1,S=null,M=-1,Q=5,Re=-1;function Le(){return!(e.unstable_now()-Re<Q)}function pe(){if(S!==null){var $=e.unstable_now();Re=$;var ae=!0;try{ae=S(!0,$)}finally{ae?G():(z=!1,S=null)}}else z=!1}var G;if(typeof A=="function")G=function(){A(pe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,oe=re.port2;re.port1.onmessage=pe,G=function(){oe.postMessage(null)}}else G=function(){k(pe,0)};function he($){S=$,z||(z=!0,G())}function Y($,ae){M=k(function(){$(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){b||_||(b=!0,he(J))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var te=x;x=ae;try{return $()}finally{x=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=x;x=$;try{return ae()}finally{x=te}},e.unstable_scheduleCallback=function($,ae,te){var O=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,$){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=te+K,$={id:y++,callback:ae,priorityLevel:$,startTime:te,expirationTime:K,sortIndex:-1},te>O?($.sortIndex=te,t(m,$),n(p)===null&&$===n(m)&&(j?(C(M),M=-1):j=!0,Y(W,te-O))):($.sortIndex=K,t(p,$),b||_||(b=!0,he(J))),$},e.unstable_shouldYield=Le,e.unstable_wrapCallback=function($){var ae=x;return function(){var te=x;x=ae;try{return $.apply(this,arguments)}finally{x=te}}}})(Nc)),Nc}var wm;function ix(){return wm||(wm=1,Ec.exports=ax()),Ec.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function ox(){if(bm)return dr;bm=1;var e=wd(),t=ix();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,i=1;i<arguments.length;i++)s+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)a.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function x(r){return p.call(v,r)?!0:p.call(y,r)?!1:m.test(r)?v[r]=!0:(y[r]=!0,!1)}function _(r,s,i,c){if(i!==null&&i.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,i,c){if(s===null||typeof s>"u"||_(r,s,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(r,s,i,c,f,g,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=i,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=w}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new j(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function A(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(C,A);k[s]=new j(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(C,A);k[s]=new j(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(C,A);k[s]=new j(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function D(r,s,i,c){var f=k.hasOwnProperty(s)?k[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,i,f,c)&&(i=null),c||f===null?x(s)&&(i===null?r.removeAttribute(s):r.setAttribute(s,""+i)):f.mustUseProperty?r[f.propertyName]=i===null?f.type===3?!1:"":i:(s=f.attributeName,c=f.attributeNamespace,i===null?r.removeAttribute(s):(f=f.type,i=f===3||f===4&&i===!0?"":""+i,c?r.setAttributeNS(c,s,i):r.setAttribute(s,i))))}var W=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),z=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),Re=Symbol.for("react.provider"),Le=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),$=Symbol.iterator;function ae(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var te=Object.assign,O;function K(r){if(O===void 0)try{throw Error()}catch(i){var s=i.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+r}var fe=!1;function ge(r,s){if(!r||fe)return"";fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(q){var c=q}Reflect.construct(r,[],s)}else{try{s.call()}catch(q){c=q}r.call(s.prototype)}else{try{throw Error()}catch(q){c=q}r()}}catch(q){if(q&&c&&typeof q.stack=="string"){for(var f=q.stack.split(`
`),g=c.stack.split(`
`),w=f.length-1,N=g.length-1;1<=w&&0<=N&&f[w]!==g[N];)N--;for(;1<=w&&0<=N;w--,N--)if(f[w]!==g[N]){if(w!==1||N!==1)do if(w--,N--,0>N||f[w]!==g[N]){var P=`
`+f[w].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=w&&0<=N);break}}}finally{fe=!1,Error.prepareStackTrace=i}return(r=r?r.displayName||r.name:"")?K(r):""}function Pe(r){switch(r.tag){case 5:return K(r.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return r=ge(r.type,!1),r;case 11:return r=ge(r.type.render,!1),r;case 1:return r=ge(r.type,!0),r;default:return""}}function Ue(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case z:return"Portal";case Q:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case re:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Le:return(r.displayName||"Context")+".Consumer";case Re:return(r._context.displayName||"Context")+".Provider";case pe:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case oe:return s=r.displayName||null,s!==null?s:Ue(r.type)||"Memo";case he:s=r._payload,r=r._init;try{return Ue(r(s))}catch{}}return null}function Ie(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ue(s);case 8:return s===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function We(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(r){var s=Xe(r)?"checked":"value",i=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,g=i.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(r,s,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function sr(r){r._valueTracker||(r._valueTracker=vt(r))}function lt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var i=s.getValue(),c="";return r&&(c=Xe(r)?r.checked?"true":"false":r.value),r=c,r!==i?(s.setValue(r),!0):!1}function fr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function an(r,s){var i=s.checked;return te({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??r._wrapperState.initialChecked})}function Bs(r,s){var i=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;i=We(s.value!=null?s.value:i),r._wrapperState={initialChecked:c,initialValue:i,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function mr(r,s){s=s.checked,s!=null&&D(r,"checked",s,!1)}function En(r,s){mr(r,s);var i=We(s.value),c=s.type;if(i!=null)c==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+i):r.value!==""+i&&(r.value=""+i);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Nn(r,s.type,i):s.hasOwnProperty("defaultValue")&&Nn(r,s.type,We(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Vs(r,s,i){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,i||s===r.value||(r.value=s),r.defaultValue=s}i=r.name,i!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,i!==""&&(r.name=i)}function Nn(r,s,i){(s!=="number"||fr(r.ownerDocument)!==r)&&(i==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+i&&(r.defaultValue=""+i))}var Sn=Array.isArray;function Ir(r,s,i,c){if(r=r.options,s){s={};for(var f=0;f<i.length;f++)s["$"+i[f]]=!0;for(i=0;i<r.length;i++)f=s.hasOwnProperty("$"+r[i].value),r[i].selected!==f&&(r[i].selected=f),f&&c&&(r[i].defaultSelected=!0)}else{for(i=""+We(i),s=null,f=0;f<r.length;f++){if(r[f].value===i){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function T(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function V(r,s){var i=s.value;if(i==null){if(i=s.children,s=s.defaultValue,i!=null){if(s!=null)throw Error(n(92));if(Sn(i)){if(1<i.length)throw Error(n(93));i=i[0]}s=i}s==null&&(s=""),i=s}r._wrapperState={initialValue:We(i)}}function H(r,s){var i=We(s.value),c=We(s.defaultValue);i!=null&&(i=""+i,i!==r.value&&(r.value=i),s.defaultValue==null&&r.defaultValue!==i&&(r.defaultValue=i)),c!=null&&(r.defaultValue=""+c)}function ce(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ue(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ue(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var de,Ve=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,i,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,i,c,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(de=de||document.createElement("div"),de.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=de.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function st(r,s){if(s){var i=r.firstChild;if(i&&i===r.lastChild&&i.nodeType===3){i.nodeValue=s;return}}r.textContent=s}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(r){hs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),mt[s]=mt[r]})});function Cn(r,s,i){return s==null||typeof s=="boolean"||s===""?"":i||typeof s!="number"||s===0||mt.hasOwnProperty(r)&&mt[r]?(""+s).trim():s+"px"}function Wt(r,s){r=r.style;for(var i in s)if(s.hasOwnProperty(i)){var c=i.indexOf("--")===0,f=Cn(i,s[i],c);i==="float"&&(i="cssFloat"),c?r.setProperty(i,f):r[i]=f}}var qs=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(r,s){if(s){if(qs[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Rn(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var An=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Tn=null,ln=null,Gr=null;function no(r){if(r=li(r)){if(typeof Tn!="function")throw Error(n(280));var s=r.stateNode;s&&(s=_o(s),Tn(r.stateNode,r.type,s))}}function za(r){ln?Gr?Gr.push(r):Gr=[r]:ln=r}function so(){if(ln){var r=ln,s=Gr;if(Gr=ln=null,no(r),s)for(r=0;r<s.length;r++)no(s[r])}}function Ba(r,s){return r(s)}function fs(){}var Pn=!1;function Va(r,s,i){if(Pn)return r(s,i);Pn=!0;try{return Ba(r,s,i)}finally{Pn=!1,(ln!==null||Gr!==null)&&(fs(),so())}}function ms(r,s){var i=r.stateNode;if(i===null)return null;var c=_o(i);if(c===null)return null;i=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(i&&typeof i!="function")throw Error(n(231,s,typeof i));return i}var qa=!1;if(h)try{var R={};Object.defineProperty(R,"passive",{get:function(){qa=!0}}),window.addEventListener("test",R,R),window.removeEventListener("test",R,R)}catch{qa=!1}function I(r,s,i,c,f,g,w,N,P){var q=Array.prototype.slice.call(arguments,3);try{s.apply(i,q)}catch(ee){this.onError(ee)}}var B=!1,Z=null,le=!1,Ne=null,Oe={onError:function(r){B=!0,Z=r}};function ve(r,s,i,c,f,g,w,N,P){B=!1,Z=null,I.apply(Oe,arguments)}function we(r,s,i,c,f,g,w,N,P){if(ve.apply(this,arguments),B){if(B){var q=Z;B=!1,Z=null}else throw Error(n(198));le||(le=!0,Ne=q)}}function ke(r){var s=r,i=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(i=s.return),r=s.return;while(r)}return s.tag===3?i:null}function qe(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ae(r){if(ke(r)!==r)throw Error(n(188))}function He(r){var s=r.alternate;if(!s){if(s=ke(r),s===null)throw Error(n(188));return s!==r?null:r}for(var i=r,c=s;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return Ae(f),r;if(g===c)return Ae(f),s;g=g.sibling}throw Error(n(188))}if(i.return!==c.return)i=f,c=g;else{for(var w=!1,N=f.child;N;){if(N===i){w=!0,i=f,c=g;break}if(N===c){w=!0,c=f,i=g;break}N=N.sibling}if(!w){for(N=g.child;N;){if(N===i){w=!0,i=g,c=f;break}if(N===c){w=!0,c=g,i=f;break}N=N.sibling}if(!w)throw Error(n(189))}}if(i.alternate!==c)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?r:s}function Qe(r){return r=He(r),r!==null?St(r):null}function St(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=St(r);if(s!==null)return s;r=r.sibling}return null}var kt=t.unstable_scheduleCallback,$t=t.unstable_cancelCallback,nt=t.unstable_shouldYield,ar=t.unstable_requestPaint,at=t.unstable_now,ps=t.unstable_getCurrentPriorityLevel,jr=t.unstable_ImmediatePriority,pr=t.unstable_UserBlockingPriority,On=t.unstable_NormalPriority,gs=t.unstable_LowPriority,Jr=t.unstable_IdlePriority,un=null,er=null;function Ze(r){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(un,r,void 0,(r.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:pt,Ln=Math.log,cn=Math.LN2;function pt(r){return r>>>=0,r===0?32:31-(Ln(r)/cn|0)|0}var dn=64,ys=4194304;function vs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ao(r,s){var i=r.pendingLanes;if(i===0)return 0;var c=0,f=r.suspendedLanes,g=r.pingedLanes,w=i&268435455;if(w!==0){var N=w&~f;N!==0?c=vs(N):(g&=w,g!==0&&(c=vs(g)))}else w=i&~f,w!==0?c=vs(w):g!==0&&(c=vs(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=i&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)i=31-ot(s),f=1<<i,c|=r[i],s&=~f;return c}function xy(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wy(r,s){for(var i=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-ot(g),N=1<<w,P=f[w];P===-1?((N&i)===0||(N&c)!==0)&&(f[w]=xy(N,s)):P<=s&&(r.expiredLanes|=N),g&=~N}}function Vl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Hd(){var r=dn;return dn<<=1,(dn&4194240)===0&&(dn=64),r}function ql(r){for(var s=[],i=0;31>i;i++)s.push(r);return s}function Ha(r,s,i){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-ot(s),r[s]=i}function by(r,s){var i=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<i;){var f=31-ot(i),g=1<<f;s[f]=0,c[f]=-1,r[f]=-1,i&=~g}}function Hl(r,s){var i=r.entangledLanes|=s;for(r=r.entanglements;i;){var c=31-ot(i),f=1<<c;f&s|r[c]&s&&(r[c]|=s),i&=~f}}var it=0;function Wd(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Kd,Wl,Gd,Jd,Qd,Kl=!1,io=[],In=null,Dn=null,$n=null,Wa=new Map,Ka=new Map,Fn=[],_y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yd(r,s){switch(r){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Wa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(s.pointerId)}}function Ga(r,s,i,c,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:i,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},s!==null&&(s=li(s),s!==null&&Wl(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function jy(r,s,i,c,f){switch(s){case"focusin":return In=Ga(In,r,s,i,c,f),!0;case"dragenter":return Dn=Ga(Dn,r,s,i,c,f),!0;case"mouseover":return $n=Ga($n,r,s,i,c,f),!0;case"pointerover":var g=f.pointerId;return Wa.set(g,Ga(Wa.get(g)||null,r,s,i,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Ka.set(g,Ga(Ka.get(g)||null,r,s,i,c,f)),!0}return!1}function Xd(r){var s=xs(r.target);if(s!==null){var i=ke(s);if(i!==null){if(s=i.tag,s===13){if(s=qe(i),s!==null){r.blockedOn=s,Qd(r.priority,function(){Gd(i)});return}}else if(s===3&&i.stateNode.current.memoizedState.isDehydrated){r.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}r.blockedOn=null}function oo(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var i=Jl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(i===null){i=r.nativeEvent;var c=new i.constructor(i.type,i);An=c,i.target.dispatchEvent(c),An=null}else return s=li(i),s!==null&&Wl(s),r.blockedOn=i,!1;s.shift()}return!0}function Zd(r,s,i){oo(r)&&i.delete(s)}function ky(){Kl=!1,In!==null&&oo(In)&&(In=null),Dn!==null&&oo(Dn)&&(Dn=null),$n!==null&&oo($n)&&($n=null),Wa.forEach(Zd),Ka.forEach(Zd)}function Ja(r,s){r.blockedOn===s&&(r.blockedOn=null,Kl||(Kl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ky)))}function Qa(r){function s(f){return Ja(f,r)}if(0<io.length){Ja(io[0],r);for(var i=1;i<io.length;i++){var c=io[i];c.blockedOn===r&&(c.blockedOn=null)}}for(In!==null&&Ja(In,r),Dn!==null&&Ja(Dn,r),$n!==null&&Ja($n,r),Wa.forEach(s),Ka.forEach(s),i=0;i<Fn.length;i++)c=Fn[i],c.blockedOn===r&&(c.blockedOn=null);for(;0<Fn.length&&(i=Fn[0],i.blockedOn===null);)Xd(i),i.blockedOn===null&&Fn.shift()}var Ws=W.ReactCurrentBatchConfig,lo=!0;function Ey(r,s,i,c){var f=it,g=Ws.transition;Ws.transition=null;try{it=1,Gl(r,s,i,c)}finally{it=f,Ws.transition=g}}function Ny(r,s,i,c){var f=it,g=Ws.transition;Ws.transition=null;try{it=4,Gl(r,s,i,c)}finally{it=f,Ws.transition=g}}function Gl(r,s,i,c){if(lo){var f=Jl(r,s,i,c);if(f===null)hu(r,s,c,uo,i),Yd(r,c);else if(jy(f,r,s,i,c))c.stopPropagation();else if(Yd(r,c),s&4&&-1<_y.indexOf(r)){for(;f!==null;){var g=li(f);if(g!==null&&Kd(g),g=Jl(r,s,i,c),g===null&&hu(r,s,c,uo,i),g===f)break;f=g}f!==null&&c.stopPropagation()}else hu(r,s,c,null,i)}}var uo=null;function Jl(r,s,i,c){if(uo=null,r=Hs(c),r=xs(r),r!==null)if(s=ke(r),s===null)r=null;else if(i=s.tag,i===13){if(r=qe(s),r!==null)return r;r=null}else if(i===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return uo=r,null}function eh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ps()){case jr:return 1;case pr:return 4;case On:case gs:return 16;case Jr:return 536870912;default:return 16}default:return 16}}var Mn=null,Ql=null,co=null;function th(){if(co)return co;var r,s=Ql,i=s.length,c,f="value"in Mn?Mn.value:Mn.textContent,g=f.length;for(r=0;r<i&&s[r]===f[r];r++);var w=i-r;for(c=1;c<=w&&s[i-c]===f[g-c];c++);return co=f.slice(r,1<c?1-c:void 0)}function ho(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function fo(){return!0}function rh(){return!1}function gr(r){function s(i,c,f,g,w){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(i=r[N],this[N]=i?i(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?fo:rh,this.isPropagationStopped=rh,this}return te(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),s}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=gr(Ks),Ya=te({},Ks,{view:0,detail:0}),Sy=gr(Ya),Xl,Zl,Xa,mo=te({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xa&&(Xa&&r.type==="mousemove"?(Xl=r.screenX-Xa.screenX,Zl=r.screenY-Xa.screenY):Zl=Xl=0,Xa=r),Xl)},movementY:function(r){return"movementY"in r?r.movementY:Zl}}),nh=gr(mo),Cy=te({},mo,{dataTransfer:0}),Ry=gr(Cy),Ay=te({},Ya,{relatedTarget:0}),eu=gr(Ay),Ty=te({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),Py=gr(Ty),Oy=te({},Ks,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ly=gr(Oy),Iy=te({},Ks,{data:0}),sh=gr(Iy),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function My(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Fy[r])?!!s[r]:!1}function tu(){return My}var Uy=te({},Ya,{key:function(r){if(r.key){var s=Dy[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ho(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?$y[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tu,charCode:function(r){return r.type==="keypress"?ho(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ho(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zy=gr(Uy),By=te({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=gr(By),Vy=te({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tu}),qy=gr(Vy),Hy=te({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=gr(Hy),Ky=te({},mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=gr(Ky),Jy=[9,13,27,32],ru=h&&"CompositionEvent"in window,Za=null;h&&"documentMode"in document&&(Za=document.documentMode);var Qy=h&&"TextEvent"in window&&!Za,ih=h&&(!ru||Za&&8<Za&&11>=Za),oh=" ",lh=!1;function uh(r,s){switch(r){case"keyup":return Jy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Gs=!1;function Yy(r,s){switch(r){case"compositionend":return ch(s);case"keypress":return s.which!==32?null:(lh=!0,oh);case"textInput":return r=s.data,r===oh&&lh?null:r;default:return null}}function Xy(r,s){if(Gs)return r==="compositionend"||!ru&&uh(r,s)?(r=th(),co=Ql=Mn=null,Gs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ih&&s.locale!=="ko"?null:s.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Zy[r.type]:s==="textarea"}function hh(r,s,i,c){za(c),s=xo(s,"onChange"),0<s.length&&(i=new Yl("onChange","change",null,i,c),r.push({event:i,listeners:s}))}var ei=null,ti=null;function ev(r){Ah(r,0)}function po(r){var s=Zs(r);if(lt(s))return r}function tv(r,s){if(r==="change")return s}var fh=!1;if(h){var nu;if(h){var su="oninput"in document;if(!su){var mh=document.createElement("div");mh.setAttribute("oninput","return;"),su=typeof mh.oninput=="function"}nu=su}else nu=!1;fh=nu&&(!document.documentMode||9<document.documentMode)}function ph(){ei&&(ei.detachEvent("onpropertychange",gh),ti=ei=null)}function gh(r){if(r.propertyName==="value"&&po(ti)){var s=[];hh(s,ti,r,Hs(r)),Va(ev,s)}}function rv(r,s,i){r==="focusin"?(ph(),ei=s,ti=i,ei.attachEvent("onpropertychange",gh)):r==="focusout"&&ph()}function nv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return po(ti)}function sv(r,s){if(r==="click")return po(s)}function av(r,s){if(r==="input"||r==="change")return po(s)}function iv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Dr=typeof Object.is=="function"?Object.is:iv;function ri(r,s){if(Dr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var i=Object.keys(r),c=Object.keys(s);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!p.call(s,f)||!Dr(r[f],s[f]))return!1}return!0}function yh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vh(r,s){var i=yh(r);r=0;for(var c;i;){if(i.nodeType===3){if(c=r+i.textContent.length,r<=s&&c>=s)return{node:i,offset:s-r};r=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=yh(i)}}function xh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?xh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wh(){for(var r=window,s=fr();s instanceof r.HTMLIFrameElement;){try{var i=typeof s.contentWindow.location.href=="string"}catch{i=!1}if(i)r=s.contentWindow;else break;s=fr(r.document)}return s}function au(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ov(r){var s=wh(),i=r.focusedElem,c=r.selectionRange;if(s!==i&&i&&i.ownerDocument&&xh(i.ownerDocument.documentElement,i)){if(c!==null&&au(i)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in i)i.selectionStart=s,i.selectionEnd=Math.min(r,i.value.length);else if(r=(s=i.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=i.textContent.length,g=Math.min(c.start,f);c=c.end===void 0?g:Math.min(c.end,f),!r.extend&&g>c&&(f=c,c=g,g=f),f=vh(i,g);var w=vh(i,c);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=i;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<s.length;i++)r=s[i],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var lv=h&&"documentMode"in document&&11>=document.documentMode,Js=null,iu=null,ni=null,ou=!1;function bh(r,s,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ou||Js==null||Js!==fr(c)||(c=Js,"selectionStart"in c&&au(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ni&&ri(ni,c)||(ni=c,c=xo(iu,"onSelect"),0<c.length&&(s=new Yl("onSelect","select",null,s,i),r.push({event:s,listeners:c}),s.target=Js)))}function go(r,s){var i={};return i[r.toLowerCase()]=s.toLowerCase(),i["Webkit"+r]="webkit"+s,i["Moz"+r]="moz"+s,i}var Qs={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},lu={},_h={};h&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function yo(r){if(lu[r])return lu[r];if(!Qs[r])return r;var s=Qs[r],i;for(i in s)if(s.hasOwnProperty(i)&&i in _h)return lu[r]=s[i];return r}var jh=yo("animationend"),kh=yo("animationiteration"),Eh=yo("animationstart"),Nh=yo("transitionend"),Sh=new Map,Ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(r,s){Sh.set(r,s),u(s,[r])}for(var uu=0;uu<Ch.length;uu++){var cu=Ch[uu],uv=cu.toLowerCase(),cv=cu[0].toUpperCase()+cu.slice(1);Un(uv,"on"+cv)}Un(jh,"onAnimationEnd"),Un(kh,"onAnimationIteration"),Un(Eh,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Nh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Rh(r,s,i){var c=r.type||"unknown-event";r.currentTarget=i,we(c,s,void 0,r),r.currentTarget=null}function Ah(r,s){s=(s&4)!==0;for(var i=0;i<r.length;i++){var c=r[i],f=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var w=c.length-1;0<=w;w--){var N=c[w],P=N.instance,q=N.currentTarget;if(N=N.listener,P!==g&&f.isPropagationStopped())break e;Rh(f,N,q),g=P}else for(w=0;w<c.length;w++){if(N=c[w],P=N.instance,q=N.currentTarget,N=N.listener,P!==g&&f.isPropagationStopped())break e;Rh(f,N,q),g=P}}}if(le)throw r=Ne,le=!1,Ne=null,r}function ht(r,s){var i=s[vu];i===void 0&&(i=s[vu]=new Set);var c=r+"__bubble";i.has(c)||(Th(s,r,2,!1),i.add(c))}function du(r,s,i){var c=0;s&&(c|=4),Th(i,r,c,s)}var vo="_reactListening"+Math.random().toString(36).slice(2);function ai(r){if(!r[vo]){r[vo]=!0,a.forEach(function(i){i!=="selectionchange"&&(dv.has(i)||du(i,!1,r),du(i,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vo]||(s[vo]=!0,du("selectionchange",!1,s))}}function Th(r,s,i,c){switch(eh(s)){case 1:var f=Ey;break;case 4:f=Ny;break;default:f=Gl}i=f.bind(null,s,i,r),f=void 0,!qa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,i,{capture:!0,passive:f}):r.addEventListener(s,i,!0):f!==void 0?r.addEventListener(s,i,{passive:f}):r.addEventListener(s,i,!1)}function hu(r,s,i,c,f){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var N=c.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;w=w.return}for(;N!==null;){if(w=xs(N),w===null)return;if(P=w.tag,P===5||P===6){c=g=w;continue e}N=N.parentNode}}c=c.return}Va(function(){var q=g,ee=Hs(i),ne=[];e:{var X=Sh.get(r);if(X!==void 0){var me=Yl,be=r;switch(r){case"keypress":if(ho(i)===0)break e;case"keydown":case"keyup":me=zy;break;case"focusin":be="focus",me=eu;break;case"focusout":be="blur",me=eu;break;case"beforeblur":case"afterblur":me=eu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=qy;break;case jh:case kh:case Eh:me=Py;break;case Nh:me=Wy;break;case"scroll":me=Sy;break;case"wheel":me=Gy;break;case"copy":case"cut":case"paste":me=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ah}var Ee=(s&4)!==0,Et=!Ee&&r==="scroll",F=Ee?X!==null?X+"Capture":null:X;Ee=[];for(var L=q,U;L!==null;){U=L;var ie=U.stateNode;if(U.tag===5&&ie!==null&&(U=ie,F!==null&&(ie=ms(L,F),ie!=null&&Ee.push(ii(L,ie,U)))),Et)break;L=L.return}0<Ee.length&&(X=new me(X,be,null,i,ee),ne.push({event:X,listeners:Ee}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",X&&i!==An&&(be=i.relatedTarget||i.fromElement)&&(xs(be)||be[hn]))break e;if((me||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,me?(be=i.relatedTarget||i.toElement,me=q,be=be?xs(be):null,be!==null&&(Et=ke(be),be!==Et||be.tag!==5&&be.tag!==6)&&(be=null)):(me=null,be=q),me!==be)){if(Ee=nh,ie="onMouseLeave",F="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=ah,ie="onPointerLeave",F="onPointerEnter",L="pointer"),Et=me==null?X:Zs(me),U=be==null?X:Zs(be),X=new Ee(ie,L+"leave",me,i,ee),X.target=Et,X.relatedTarget=U,ie=null,xs(ee)===q&&(Ee=new Ee(F,L+"enter",be,i,ee),Ee.target=U,Ee.relatedTarget=Et,ie=Ee),Et=ie,me&&be)t:{for(Ee=me,F=be,L=0,U=Ee;U;U=Ys(U))L++;for(U=0,ie=F;ie;ie=Ys(ie))U++;for(;0<L-U;)Ee=Ys(Ee),L--;for(;0<U-L;)F=Ys(F),U--;for(;L--;){if(Ee===F||F!==null&&Ee===F.alternate)break t;Ee=Ys(Ee),F=Ys(F)}Ee=null}else Ee=null;me!==null&&Ph(ne,X,me,Ee,!1),be!==null&&Et!==null&&Ph(ne,Et,be,Ee,!0)}}e:{if(X=q?Zs(q):window,me=X.nodeName&&X.nodeName.toLowerCase(),me==="select"||me==="input"&&X.type==="file")var Se=tv;else if(dh(X))if(fh)Se=av;else{Se=nv;var De=rv}else(me=X.nodeName)&&me.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(Se=sv);if(Se&&(Se=Se(r,q))){hh(ne,Se,i,ee);break e}De&&De(r,X,q),r==="focusout"&&(De=X._wrapperState)&&De.controlled&&X.type==="number"&&Nn(X,"number",X.value)}switch(De=q?Zs(q):window,r){case"focusin":(dh(De)||De.contentEditable==="true")&&(Js=De,iu=q,ni=null);break;case"focusout":ni=iu=Js=null;break;case"mousedown":ou=!0;break;case"contextmenu":case"mouseup":case"dragend":ou=!1,bh(ne,i,ee);break;case"selectionchange":if(lv)break;case"keydown":case"keyup":bh(ne,i,ee)}var $e;if(ru)e:{switch(r){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Gs?uh(r,i)&&(Be="onCompositionEnd"):r==="keydown"&&i.keyCode===229&&(Be="onCompositionStart");Be&&(ih&&i.locale!=="ko"&&(Gs||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Gs&&($e=th()):(Mn=ee,Ql="value"in Mn?Mn.value:Mn.textContent,Gs=!0)),De=xo(q,Be),0<De.length&&(Be=new sh(Be,r,null,i,ee),ne.push({event:Be,listeners:De}),$e?Be.data=$e:($e=ch(i),$e!==null&&(Be.data=$e)))),($e=Qy?Yy(r,i):Xy(r,i))&&(q=xo(q,"onBeforeInput"),0<q.length&&(ee=new sh("onBeforeInput","beforeinput",null,i,ee),ne.push({event:ee,listeners:q}),ee.data=$e))}Ah(ne,s)})}function ii(r,s,i){return{instance:r,listener:s,currentTarget:i}}function xo(r,s){for(var i=s+"Capture",c=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ms(r,i),g!=null&&c.unshift(ii(r,g,f)),g=ms(r,s),g!=null&&c.push(ii(r,g,f))),r=r.return}return c}function Ys(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ph(r,s,i,c,f){for(var g=s._reactName,w=[];i!==null&&i!==c;){var N=i,P=N.alternate,q=N.stateNode;if(P!==null&&P===c)break;N.tag===5&&q!==null&&(N=q,f?(P=ms(i,g),P!=null&&w.unshift(ii(i,P,N))):f||(P=ms(i,g),P!=null&&w.push(ii(i,P,N)))),i=i.return}w.length!==0&&r.push({event:s,listeners:w})}var hv=/\r\n?/g,fv=/\u0000|\uFFFD/g;function Oh(r){return(typeof r=="string"?r:""+r).replace(hv,`
`).replace(fv,"")}function wo(r,s,i){if(s=Oh(s),Oh(r)!==s&&i)throw Error(n(425))}function bo(){}var fu=null,mu=null;function pu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,mv=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,pv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(r){return Lh.resolve(null).then(r).catch(gv)}:gu;function gv(r){setTimeout(function(){throw r})}function yu(r,s){var i=s,c=0;do{var f=i.nextSibling;if(r.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"){if(c===0){r.removeChild(f),Qa(s);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=f}while(i);Qa(s)}function zn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ih(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="$"||i==="$!"||i==="$?"){if(s===0)return r;s--}else i==="/$"&&s++}r=r.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Xs,oi="__reactProps$"+Xs,hn="__reactContainer$"+Xs,vu="__reactEvents$"+Xs,yv="__reactListeners$"+Xs,vv="__reactHandles$"+Xs;function xs(r){var s=r[Qr];if(s)return s;for(var i=r.parentNode;i;){if(s=i[hn]||i[Qr]){if(i=s.alternate,s.child!==null||i!==null&&i.child!==null)for(r=Ih(r);r!==null;){if(i=r[Qr])return i;r=Ih(r)}return s}r=i,i=r.parentNode}return null}function li(r){return r=r[Qr]||r[hn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Zs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function _o(r){return r[oi]||null}var xu=[],ea=-1;function Bn(r){return{current:r}}function ft(r){0>ea||(r.current=xu[ea],xu[ea]=null,ea--)}function ct(r,s){ea++,xu[ea]=r.current,r.current=s}var Vn={},Kt=Bn(Vn),ir=Bn(!1),ws=Vn;function ta(r,s){var i=r.type.contextTypes;if(!i)return Vn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in i)f[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function or(r){return r=r.childContextTypes,r!=null}function jo(){ft(ir),ft(Kt)}function Dh(r,s,i){if(Kt.current!==Vn)throw Error(n(168));ct(Kt,s),ct(ir,i)}function $h(r,s,i){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,Ie(r)||"Unknown",f));return te({},i,c)}function ko(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Vn,ws=Kt.current,ct(Kt,r),ct(ir,ir.current),!0}function Fh(r,s,i){var c=r.stateNode;if(!c)throw Error(n(169));i?(r=$h(r,s,ws),c.__reactInternalMemoizedMergedChildContext=r,ft(ir),ft(Kt),ct(Kt,r)):ft(ir),ct(ir,i)}var fn=null,Eo=!1,wu=!1;function Mh(r){fn===null?fn=[r]:fn.push(r)}function xv(r){Eo=!0,Mh(r)}function qn(){if(!wu&&fn!==null){wu=!0;var r=0,s=it;try{var i=fn;for(it=1;r<i.length;r++){var c=i[r];do c=c(!0);while(c!==null)}fn=null,Eo=!1}catch(f){throw fn!==null&&(fn=fn.slice(r+1)),kt(jr,qn),f}finally{it=s,wu=!1}}return null}var ra=[],na=0,No=null,So=0,kr=[],Er=0,bs=null,mn=1,pn="";function _s(r,s){ra[na++]=So,ra[na++]=No,No=r,So=s}function Uh(r,s,i){kr[Er++]=mn,kr[Er++]=pn,kr[Er++]=bs,bs=r;var c=mn;r=pn;var f=32-ot(c)-1;c&=~(1<<f),i+=1;var g=32-ot(s)+f;if(30<g){var w=f-f%5;g=(c&(1<<w)-1).toString(32),c>>=w,f-=w,mn=1<<32-ot(s)+f|i<<f|c,pn=g+r}else mn=1<<g|i<<f|c,pn=r}function bu(r){r.return!==null&&(_s(r,1),Uh(r,1,0))}function _u(r){for(;r===No;)No=ra[--na],ra[na]=null,So=ra[--na],ra[na]=null;for(;r===bs;)bs=kr[--Er],kr[Er]=null,pn=kr[--Er],kr[Er]=null,mn=kr[--Er],kr[Er]=null}var yr=null,vr=null,gt=!1,$r=null;function zh(r,s){var i=Rr(5,null,null,0);i.elementType="DELETED",i.stateNode=s,i.return=r,s=r.deletions,s===null?(r.deletions=[i],r.flags|=16):s.push(i)}function Bh(r,s){switch(r.tag){case 5:var i=r.type;return s=s.nodeType!==1||i.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,yr=r,vr=zn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,yr=r,vr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(i=bs!==null?{id:mn,overflow:pn}:null,r.memoizedState={dehydrated:s,treeContext:i,retryLane:1073741824},i=Rr(18,null,null,0),i.stateNode=s,i.return=r,r.child=i,yr=r,vr=null,!0):!1;default:return!1}}function ju(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ku(r){if(gt){var s=vr;if(s){var i=s;if(!Bh(r,s)){if(ju(r))throw Error(n(418));s=zn(i.nextSibling);var c=yr;s&&Bh(r,s)?zh(c,i):(r.flags=r.flags&-4097|2,gt=!1,yr=r)}}else{if(ju(r))throw Error(n(418));r.flags=r.flags&-4097|2,gt=!1,yr=r}}}function Vh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yr=r}function Co(r){if(r!==yr)return!1;if(!gt)return Vh(r),gt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!pu(r.type,r.memoizedProps)),s&&(s=vr)){if(ju(r))throw qh(),Error(n(418));for(;s;)zh(r,s),s=zn(s.nextSibling)}if(Vh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var i=r.data;if(i==="/$"){if(s===0){vr=zn(r.nextSibling);break e}s--}else i!=="$"&&i!=="$!"&&i!=="$?"||s++}r=r.nextSibling}vr=null}}else vr=yr?zn(r.stateNode.nextSibling):null;return!0}function qh(){for(var r=vr;r;)r=zn(r.nextSibling)}function sa(){vr=yr=null,gt=!1}function Eu(r){$r===null?$r=[r]:$r.push(r)}var wv=W.ReactCurrentBatchConfig;function ui(r,s,i){if(r=i.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var c=i.stateNode}if(!c)throw Error(n(147,r));var f=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(w){var N=f.refs;w===null?delete N[g]:N[g]=w},s._stringRef=g,s)}if(typeof r!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,r))}return r}function Ro(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Hh(r){var s=r._init;return s(r._payload)}function Wh(r){function s(F,L){if(r){var U=F.deletions;U===null?(F.deletions=[L],F.flags|=16):U.push(L)}}function i(F,L){if(!r)return null;for(;L!==null;)s(F,L),L=L.sibling;return null}function c(F,L){for(F=new Map;L!==null;)L.key!==null?F.set(L.key,L):F.set(L.index,L),L=L.sibling;return F}function f(F,L){return F=Xn(F,L),F.index=0,F.sibling=null,F}function g(F,L,U){return F.index=U,r?(U=F.alternate,U!==null?(U=U.index,U<L?(F.flags|=2,L):U):(F.flags|=2,L)):(F.flags|=1048576,L)}function w(F){return r&&F.alternate===null&&(F.flags|=2),F}function N(F,L,U,ie){return L===null||L.tag!==6?(L=gc(U,F.mode,ie),L.return=F,L):(L=f(L,U),L.return=F,L)}function P(F,L,U,ie){var Se=U.type;return Se===S?ee(F,L,U.props.children,ie,U.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===he&&Hh(Se)===L.type)?(ie=f(L,U.props),ie.ref=ui(F,L,U),ie.return=F,ie):(ie=Zo(U.type,U.key,U.props,null,F.mode,ie),ie.ref=ui(F,L,U),ie.return=F,ie)}function q(F,L,U,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==U.containerInfo||L.stateNode.implementation!==U.implementation?(L=yc(U,F.mode,ie),L.return=F,L):(L=f(L,U.children||[]),L.return=F,L)}function ee(F,L,U,ie,Se){return L===null||L.tag!==7?(L=As(U,F.mode,ie,Se),L.return=F,L):(L=f(L,U),L.return=F,L)}function ne(F,L,U){if(typeof L=="string"&&L!==""||typeof L=="number")return L=gc(""+L,F.mode,U),L.return=F,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case J:return U=Zo(L.type,L.key,L.props,null,F.mode,U),U.ref=ui(F,null,L),U.return=F,U;case z:return L=yc(L,F.mode,U),L.return=F,L;case he:var ie=L._init;return ne(F,ie(L._payload),U)}if(Sn(L)||ae(L))return L=As(L,F.mode,U,null),L.return=F,L;Ro(F,L)}return null}function X(F,L,U,ie){var Se=L!==null?L.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return Se!==null?null:N(F,L,""+U,ie);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case J:return U.key===Se?P(F,L,U,ie):null;case z:return U.key===Se?q(F,L,U,ie):null;case he:return Se=U._init,X(F,L,Se(U._payload),ie)}if(Sn(U)||ae(U))return Se!==null?null:ee(F,L,U,ie,null);Ro(F,U)}return null}function me(F,L,U,ie,Se){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return F=F.get(U)||null,N(L,F,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case J:return F=F.get(ie.key===null?U:ie.key)||null,P(L,F,ie,Se);case z:return F=F.get(ie.key===null?U:ie.key)||null,q(L,F,ie,Se);case he:var De=ie._init;return me(F,L,U,De(ie._payload),Se)}if(Sn(ie)||ae(ie))return F=F.get(U)||null,ee(L,F,ie,Se,null);Ro(L,ie)}return null}function be(F,L,U,ie){for(var Se=null,De=null,$e=L,Be=L=0,Ut=null;$e!==null&&Be<U.length;Be++){$e.index>Be?(Ut=$e,$e=null):Ut=$e.sibling;var tt=X(F,$e,U[Be],ie);if(tt===null){$e===null&&($e=Ut);break}r&&$e&&tt.alternate===null&&s(F,$e),L=g(tt,L,Be),De===null?Se=tt:De.sibling=tt,De=tt,$e=Ut}if(Be===U.length)return i(F,$e),gt&&_s(F,Be),Se;if($e===null){for(;Be<U.length;Be++)$e=ne(F,U[Be],ie),$e!==null&&(L=g($e,L,Be),De===null?Se=$e:De.sibling=$e,De=$e);return gt&&_s(F,Be),Se}for($e=c(F,$e);Be<U.length;Be++)Ut=me($e,F,Be,U[Be],ie),Ut!==null&&(r&&Ut.alternate!==null&&$e.delete(Ut.key===null?Be:Ut.key),L=g(Ut,L,Be),De===null?Se=Ut:De.sibling=Ut,De=Ut);return r&&$e.forEach(function(Zn){return s(F,Zn)}),gt&&_s(F,Be),Se}function Ee(F,L,U,ie){var Se=ae(U);if(typeof Se!="function")throw Error(n(150));if(U=Se.call(U),U==null)throw Error(n(151));for(var De=Se=null,$e=L,Be=L=0,Ut=null,tt=U.next();$e!==null&&!tt.done;Be++,tt=U.next()){$e.index>Be?(Ut=$e,$e=null):Ut=$e.sibling;var Zn=X(F,$e,tt.value,ie);if(Zn===null){$e===null&&($e=Ut);break}r&&$e&&Zn.alternate===null&&s(F,$e),L=g(Zn,L,Be),De===null?Se=Zn:De.sibling=Zn,De=Zn,$e=Ut}if(tt.done)return i(F,$e),gt&&_s(F,Be),Se;if($e===null){for(;!tt.done;Be++,tt=U.next())tt=ne(F,tt.value,ie),tt!==null&&(L=g(tt,L,Be),De===null?Se=tt:De.sibling=tt,De=tt);return gt&&_s(F,Be),Se}for($e=c(F,$e);!tt.done;Be++,tt=U.next())tt=me($e,F,Be,tt.value,ie),tt!==null&&(r&&tt.alternate!==null&&$e.delete(tt.key===null?Be:tt.key),L=g(tt,L,Be),De===null?Se=tt:De.sibling=tt,De=tt);return r&&$e.forEach(function(Zv){return s(F,Zv)}),gt&&_s(F,Be),Se}function Et(F,L,U,ie){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case J:e:{for(var Se=U.key,De=L;De!==null;){if(De.key===Se){if(Se=U.type,Se===S){if(De.tag===7){i(F,De.sibling),L=f(De,U.props.children),L.return=F,F=L;break e}}else if(De.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===he&&Hh(Se)===De.type){i(F,De.sibling),L=f(De,U.props),L.ref=ui(F,De,U),L.return=F,F=L;break e}i(F,De);break}else s(F,De);De=De.sibling}U.type===S?(L=As(U.props.children,F.mode,ie,U.key),L.return=F,F=L):(ie=Zo(U.type,U.key,U.props,null,F.mode,ie),ie.ref=ui(F,L,U),ie.return=F,F=ie)}return w(F);case z:e:{for(De=U.key;L!==null;){if(L.key===De)if(L.tag===4&&L.stateNode.containerInfo===U.containerInfo&&L.stateNode.implementation===U.implementation){i(F,L.sibling),L=f(L,U.children||[]),L.return=F,F=L;break e}else{i(F,L);break}else s(F,L);L=L.sibling}L=yc(U,F.mode,ie),L.return=F,F=L}return w(F);case he:return De=U._init,Et(F,L,De(U._payload),ie)}if(Sn(U))return be(F,L,U,ie);if(ae(U))return Ee(F,L,U,ie);Ro(F,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,L!==null&&L.tag===6?(i(F,L.sibling),L=f(L,U),L.return=F,F=L):(i(F,L),L=gc(U,F.mode,ie),L.return=F,F=L),w(F)):i(F,L)}return Et}var aa=Wh(!0),Kh=Wh(!1),Ao=Bn(null),To=null,ia=null,Nu=null;function Su(){Nu=ia=To=null}function Cu(r){var s=Ao.current;ft(Ao),r._currentValue=s}function Ru(r,s,i){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===i)break;r=r.return}}function oa(r,s){To=r,Nu=ia=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(lr=!0),r.firstContext=null)}function Nr(r){var s=r._currentValue;if(Nu!==r)if(r={context:r,memoizedValue:s,next:null},ia===null){if(To===null)throw Error(n(308));ia=r,To.dependencies={lanes:0,firstContext:r}}else ia=ia.next=r;return s}var js=null;function Au(r){js===null?js=[r]:js.push(r)}function Gh(r,s,i,c){var f=s.interleaved;return f===null?(i.next=i,Au(s)):(i.next=f.next,f.next=i),s.interleaved=i,gn(r,c)}function gn(r,s){r.lanes|=s;var i=r.alternate;for(i!==null&&(i.lanes|=s),i=r,r=r.return;r!==null;)r.childLanes|=s,i=r.alternate,i!==null&&(i.childLanes|=s),i=r,r=r.return;return i.tag===3?i.stateNode:null}var Hn=!1;function Tu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function yn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Wn(r,s,i){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(et&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,gn(r,i)}return f=c.interleaved,f===null?(s.next=s,Au(c)):(s.next=f.next,f.next=s),c.interleaved=s,gn(r,i)}function Po(r,s,i){if(s=s.updateQueue,s!==null&&(s=s.shared,(i&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,i|=c,s.lanes=i,Hl(r,i)}}function Qh(r,s){var i=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};g===null?f=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?f=g=s:g=g.next=s}else f=g=s;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=i;return}r=i.lastBaseUpdate,r===null?i.firstBaseUpdate=s:r.next=s,i.lastBaseUpdate=s}function Oo(r,s,i,c){var f=r.updateQueue;Hn=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var P=N,q=P.next;P.next=null,w===null?g=q:w.next=q,w=P;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==w&&(N===null?ee.firstBaseUpdate=q:N.next=q,ee.lastBaseUpdate=P))}if(g!==null){var ne=f.baseState;w=0,ee=q=P=null,N=g;do{var X=N.lane,me=N.eventTime;if((c&X)===X){ee!==null&&(ee=ee.next={eventTime:me,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var be=r,Ee=N;switch(X=s,me=i,Ee.tag){case 1:if(be=Ee.payload,typeof be=="function"){ne=be.call(me,ne,X);break e}ne=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Ee.payload,X=typeof be=="function"?be.call(me,ne,X):be,X==null)break e;ne=te({},ne,X);break e;case 2:Hn=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,X=f.effects,X===null?f.effects=[N]:X.push(N))}else me={eventTime:me,lane:X,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(q=ee=me,P=ne):ee=ee.next=me,w|=X;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;X=N,N=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);if(ee===null&&(P=ne),f.baseState=P,f.firstBaseUpdate=q,f.lastBaseUpdate=ee,s=f.shared.interleaved,s!==null){f=s;do w|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ns|=w,r.lanes=w,r.memoizedState=ne}}function Yh(r,s,i){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=i,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var ci={},Yr=Bn(ci),di=Bn(ci),hi=Bn(ci);function ks(r){if(r===ci)throw Error(n(174));return r}function Pu(r,s){switch(ct(hi,s),ct(di,r),ct(Yr,ci),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:se(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=se(s,r)}ft(Yr),ct(Yr,s)}function la(){ft(Yr),ft(di),ft(hi)}function Xh(r){ks(hi.current);var s=ks(Yr.current),i=se(s,r.type);s!==i&&(ct(di,r),ct(Yr,i))}function Ou(r){di.current===r&&(ft(Yr),ft(di))}var xt=Bn(0);function Lo(r){for(var s=r;s!==null;){if(s.tag===13){var i=s.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Lu=[];function Iu(){for(var r=0;r<Lu.length;r++)Lu[r]._workInProgressVersionPrimary=null;Lu.length=0}var Io=W.ReactCurrentDispatcher,Du=W.ReactCurrentBatchConfig,Es=0,wt=null,Pt=null,Ft=null,Do=!1,fi=!1,mi=0,bv=0;function Gt(){throw Error(n(321))}function $u(r,s){if(s===null)return!1;for(var i=0;i<s.length&&i<r.length;i++)if(!Dr(r[i],s[i]))return!1;return!0}function Fu(r,s,i,c,f,g){if(Es=g,wt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Io.current=r===null||r.memoizedState===null?Ev:Nv,r=i(c,f),fi){g=0;do{if(fi=!1,mi=0,25<=g)throw Error(n(301));g+=1,Ft=Pt=null,s.updateQueue=null,Io.current=Sv,r=i(c,f)}while(fi)}if(Io.current=Mo,s=Pt!==null&&Pt.next!==null,Es=0,Ft=Pt=wt=null,Do=!1,s)throw Error(n(300));return r}function Mu(){var r=mi!==0;return mi=0,r}function Xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?wt.memoizedState=Ft=r:Ft=Ft.next=r,Ft}function Sr(){if(Pt===null){var r=wt.alternate;r=r!==null?r.memoizedState:null}else r=Pt.next;var s=Ft===null?wt.memoizedState:Ft.next;if(s!==null)Ft=s,Pt=r;else{if(r===null)throw Error(n(310));Pt=r,r={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ft===null?wt.memoizedState=Ft=r:Ft=Ft.next=r}return Ft}function pi(r,s){return typeof s=="function"?s(r):s}function Uu(r){var s=Sr(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var c=Pt,f=c.baseQueue,g=i.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}c.baseQueue=f=g,i.pending=null}if(f!==null){g=f.next,c=c.baseState;var N=w=null,P=null,q=g;do{var ee=q.lane;if((Es&ee)===ee)P!==null&&(P=P.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),c=q.hasEagerState?q.eagerState:r(c,q.action);else{var ne={lane:ee,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};P===null?(N=P=ne,w=c):P=P.next=ne,wt.lanes|=ee,Ns|=ee}q=q.next}while(q!==null&&q!==g);P===null?w=c:P.next=N,Dr(c,s.memoizedState)||(lr=!0),s.memoizedState=c,s.baseState=w,s.baseQueue=P,i.lastRenderedState=c}if(r=i.interleaved,r!==null){f=r;do g=f.lane,wt.lanes|=g,Ns|=g,f=f.next;while(f!==r)}else f===null&&(i.lanes=0);return[s.memoizedState,i.dispatch]}function zu(r){var s=Sr(),i=s.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=r;var c=i.dispatch,f=i.pending,g=s.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Dr(g,s.memoizedState)||(lr=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),i.lastRenderedState=g}return[g,c]}function Zh(){}function ef(r,s){var i=wt,c=Sr(),f=s(),g=!Dr(c.memoizedState,f);if(g&&(c.memoizedState=f,lr=!0),c=c.queue,Bu(nf.bind(null,i,c,r),[r]),c.getSnapshot!==s||g||Ft!==null&&Ft.memoizedState.tag&1){if(i.flags|=2048,gi(9,rf.bind(null,i,c,f,s),void 0,null),Mt===null)throw Error(n(349));(Es&30)!==0||tf(i,s,f)}return f}function tf(r,s,i){r.flags|=16384,r={getSnapshot:s,value:i},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.stores=[r]):(i=s.stores,i===null?s.stores=[r]:i.push(r))}function rf(r,s,i,c){s.value=i,s.getSnapshot=c,sf(s)&&af(r)}function nf(r,s,i){return i(function(){sf(s)&&af(r)})}function sf(r){var s=r.getSnapshot;r=r.value;try{var i=s();return!Dr(r,i)}catch{return!0}}function af(r){var s=gn(r,1);s!==null&&zr(s,r,1,-1)}function of(r){var s=Xr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:r},s.queue=r,r=r.dispatch=kv.bind(null,wt,r),[s.memoizedState,r]}function gi(r,s,i,c){return r={tag:r,create:s,destroy:i,deps:c,next:null},s=wt.updateQueue,s===null?(s={lastEffect:null,stores:null},wt.updateQueue=s,s.lastEffect=r.next=r):(i=s.lastEffect,i===null?s.lastEffect=r.next=r:(c=i.next,i.next=r,r.next=c,s.lastEffect=r)),r}function lf(){return Sr().memoizedState}function $o(r,s,i,c){var f=Xr();wt.flags|=r,f.memoizedState=gi(1|s,i,void 0,c===void 0?null:c)}function Fo(r,s,i,c){var f=Sr();c=c===void 0?null:c;var g=void 0;if(Pt!==null){var w=Pt.memoizedState;if(g=w.destroy,c!==null&&$u(c,w.deps)){f.memoizedState=gi(s,i,g,c);return}}wt.flags|=r,f.memoizedState=gi(1|s,i,g,c)}function uf(r,s){return $o(8390656,8,r,s)}function Bu(r,s){return Fo(2048,8,r,s)}function cf(r,s){return Fo(4,2,r,s)}function df(r,s){return Fo(4,4,r,s)}function hf(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ff(r,s,i){return i=i!=null?i.concat([r]):null,Fo(4,4,hf.bind(null,s,r),i)}function Vu(){}function mf(r,s){var i=Sr();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&$u(s,c[1])?c[0]:(i.memoizedState=[r,s],r)}function pf(r,s){var i=Sr();s=s===void 0?null:s;var c=i.memoizedState;return c!==null&&s!==null&&$u(s,c[1])?c[0]:(r=r(),i.memoizedState=[r,s],r)}function gf(r,s,i){return(Es&21)===0?(r.baseState&&(r.baseState=!1,lr=!0),r.memoizedState=i):(Dr(i,s)||(i=Hd(),wt.lanes|=i,Ns|=i,r.baseState=!0),s)}function _v(r,s){var i=it;it=i!==0&&4>i?i:4,r(!0);var c=Du.transition;Du.transition={};try{r(!1),s()}finally{it=i,Du.transition=c}}function yf(){return Sr().memoizedState}function jv(r,s,i){var c=Qn(r);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},vf(r))xf(s,i);else if(i=Gh(r,s,i,c),i!==null){var f=rr();zr(i,r,c,f),wf(i,s,c)}}function kv(r,s,i){var c=Qn(r),f={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(vf(r))xf(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var w=s.lastRenderedState,N=g(w,i);if(f.hasEagerState=!0,f.eagerState=N,Dr(N,w)){var P=s.interleaved;P===null?(f.next=f,Au(s)):(f.next=P.next,P.next=f),s.interleaved=f;return}}catch{}finally{}i=Gh(r,s,f,c),i!==null&&(f=rr(),zr(i,r,c,f),wf(i,s,c))}}function vf(r){var s=r.alternate;return r===wt||s!==null&&s===wt}function xf(r,s){fi=Do=!0;var i=r.pending;i===null?s.next=s:(s.next=i.next,i.next=s),r.pending=s}function wf(r,s,i){if((i&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,i|=c,s.lanes=i,Hl(r,i)}}var Mo={readContext:Nr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},Ev={readContext:Nr,useCallback:function(r,s){return Xr().memoizedState=[r,s===void 0?null:s],r},useContext:Nr,useEffect:uf,useImperativeHandle:function(r,s,i){return i=i!=null?i.concat([r]):null,$o(4194308,4,hf.bind(null,s,r),i)},useLayoutEffect:function(r,s){return $o(4194308,4,r,s)},useInsertionEffect:function(r,s){return $o(4,2,r,s)},useMemo:function(r,s){var i=Xr();return s=s===void 0?null:s,r=r(),i.memoizedState=[r,s],r},useReducer:function(r,s,i){var c=Xr();return s=i!==void 0?i(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=jv.bind(null,wt,r),[c.memoizedState,r]},useRef:function(r){var s=Xr();return r={current:r},s.memoizedState=r},useState:of,useDebugValue:Vu,useDeferredValue:function(r){return Xr().memoizedState=r},useTransition:function(){var r=of(!1),s=r[0];return r=_v.bind(null,r[1]),Xr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,i){var c=wt,f=Xr();if(gt){if(i===void 0)throw Error(n(407));i=i()}else{if(i=s(),Mt===null)throw Error(n(349));(Es&30)!==0||tf(c,s,i)}f.memoizedState=i;var g={value:i,getSnapshot:s};return f.queue=g,uf(nf.bind(null,c,g,r),[r]),c.flags|=2048,gi(9,rf.bind(null,c,g,i,s),void 0,null),i},useId:function(){var r=Xr(),s=Mt.identifierPrefix;if(gt){var i=pn,c=mn;i=(c&~(1<<32-ot(c)-1)).toString(32)+i,s=":"+s+"R"+i,i=mi++,0<i&&(s+="H"+i.toString(32)),s+=":"}else i=bv++,s=":"+s+"r"+i.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Nv={readContext:Nr,useCallback:mf,useContext:Nr,useEffect:Bu,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:df,useMemo:pf,useReducer:Uu,useRef:lf,useState:function(){return Uu(pi)},useDebugValue:Vu,useDeferredValue:function(r){var s=Sr();return gf(s,Pt.memoizedState,r)},useTransition:function(){var r=Uu(pi)[0],s=Sr().memoizedState;return[r,s]},useMutableSource:Zh,useSyncExternalStore:ef,useId:yf,unstable_isNewReconciler:!1},Sv={readContext:Nr,useCallback:mf,useContext:Nr,useEffect:Bu,useImperativeHandle:ff,useInsertionEffect:cf,useLayoutEffect:df,useMemo:pf,useReducer:zu,useRef:lf,useState:function(){return zu(pi)},useDebugValue:Vu,useDeferredValue:function(r){var s=Sr();return Pt===null?s.memoizedState=r:gf(s,Pt.memoizedState,r)},useTransition:function(){var r=zu(pi)[0],s=Sr().memoizedState;return[r,s]},useMutableSource:Zh,useSyncExternalStore:ef,useId:yf,unstable_isNewReconciler:!1};function Fr(r,s){if(r&&r.defaultProps){s=te({},s),r=r.defaultProps;for(var i in r)s[i]===void 0&&(s[i]=r[i]);return s}return s}function qu(r,s,i,c){s=r.memoizedState,i=i(c,s),i=i==null?s:te({},s,i),r.memoizedState=i,r.lanes===0&&(r.updateQueue.baseState=i)}var Uo={isMounted:function(r){return(r=r._reactInternals)?ke(r)===r:!1},enqueueSetState:function(r,s,i){r=r._reactInternals;var c=rr(),f=Qn(r),g=yn(c,f);g.payload=s,i!=null&&(g.callback=i),s=Wn(r,g,f),s!==null&&(zr(s,r,f,c),Po(s,r,f))},enqueueReplaceState:function(r,s,i){r=r._reactInternals;var c=rr(),f=Qn(r),g=yn(c,f);g.tag=1,g.payload=s,i!=null&&(g.callback=i),s=Wn(r,g,f),s!==null&&(zr(s,r,f,c),Po(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var i=rr(),c=Qn(r),f=yn(i,c);f.tag=2,s!=null&&(f.callback=s),s=Wn(r,f,c),s!==null&&(zr(s,r,c,i),Po(s,r,c))}};function bf(r,s,i,c,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,w):s.prototype&&s.prototype.isPureReactComponent?!ri(i,c)||!ri(f,g):!0}function _f(r,s,i){var c=!1,f=Vn,g=s.contextType;return typeof g=="object"&&g!==null?g=Nr(g):(f=or(s)?ws:Kt.current,c=s.contextTypes,g=(c=c!=null)?ta(r,f):Vn),s=new s(i,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uo,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function jf(r,s,i,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(i,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(i,c),s.state!==r&&Uo.enqueueReplaceState(s,s.state,null)}function Hu(r,s,i,c){var f=r.stateNode;f.props=i,f.state=r.memoizedState,f.refs={},Tu(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Nr(g):(g=or(s)?ws:Kt.current,f.context=ta(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(qu(r,s,g,i),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Uo.enqueueReplaceState(f,f.state,null),Oo(r,i,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ua(r,s){try{var i="",c=s;do i+=Pe(c),c=c.return;while(c);var f=i}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function Wu(r,s,i){return{value:r,source:null,stack:i??null,digest:s??null}}function Ku(r,s){try{console.error(s.value)}catch(i){setTimeout(function(){throw i})}}var Cv=typeof WeakMap=="function"?WeakMap:Map;function kf(r,s,i){i=yn(-1,i),i.tag=3,i.payload={element:null};var c=s.value;return i.callback=function(){Ko||(Ko=!0,lc=c),Ku(r,s)},i}function Ef(r,s,i){i=yn(-1,i),i.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;i.payload=function(){return c(f)},i.callback=function(){Ku(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(i.callback=function(){Ku(r,s),typeof c!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),i}function Nf(r,s,i){var c=r.pingCache;if(c===null){c=r.pingCache=new Cv;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(i)||(f.add(i),r=Bv.bind(null,r,s,i),s.then(r,r))}function Sf(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Cf(r,s,i,c,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(s=yn(-1,1),s.tag=2,Wn(i,s,1))),i.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Rv=W.ReactCurrentOwner,lr=!1;function tr(r,s,i,c){s.child=r===null?Kh(s,null,i,c):aa(s,r.child,i,c)}function Rf(r,s,i,c,f){i=i.render;var g=s.ref;return oa(s,f),c=Fu(r,s,i,c,g,f),i=Mu(),r!==null&&!lr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,vn(r,s,f)):(gt&&i&&bu(s),s.flags|=1,tr(r,s,c,f),s.child)}function Af(r,s,i,c,f){if(r===null){var g=i.type;return typeof g=="function"&&!pc(g)&&g.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(s.tag=15,s.type=g,Tf(r,s,g,c,f)):(r=Zo(i.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,(r.lanes&f)===0){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:ri,i(w,c)&&r.ref===s.ref)return vn(r,s,f)}return s.flags|=1,r=Xn(g,c),r.ref=s.ref,r.return=s,s.child=r}function Tf(r,s,i,c,f){if(r!==null){var g=r.memoizedProps;if(ri(g,c)&&r.ref===s.ref)if(lr=!1,s.pendingProps=c=g,(r.lanes&f)!==0)(r.flags&131072)!==0&&(lr=!0);else return s.lanes=r.lanes,vn(r,s,f)}return Gu(r,s,i,c,f)}function Pf(r,s,i){var c=s.pendingProps,f=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(da,xr),xr|=i;else{if((i&1073741824)===0)return r=g!==null?g.baseLanes|i:i,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,ct(da,xr),xr|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:i,ct(da,xr),xr|=c}else g!==null?(c=g.baseLanes|i,s.memoizedState=null):c=i,ct(da,xr),xr|=c;return tr(r,s,f,i),s.child}function Of(r,s){var i=s.ref;(r===null&&i!==null||r!==null&&r.ref!==i)&&(s.flags|=512,s.flags|=2097152)}function Gu(r,s,i,c,f){var g=or(i)?ws:Kt.current;return g=ta(s,g),oa(s,f),i=Fu(r,s,i,c,g,f),c=Mu(),r!==null&&!lr?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,vn(r,s,f)):(gt&&c&&bu(s),s.flags|=1,tr(r,s,i,f),s.child)}function Lf(r,s,i,c,f){if(or(i)){var g=!0;ko(s)}else g=!1;if(oa(s,f),s.stateNode===null)Bo(r,s),_f(s,i,c),Hu(s,i,c,f),c=!0;else if(r===null){var w=s.stateNode,N=s.memoizedProps;w.props=N;var P=w.context,q=i.contextType;typeof q=="object"&&q!==null?q=Nr(q):(q=or(i)?ws:Kt.current,q=ta(s,q));var ee=i.getDerivedStateFromProps,ne=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function";ne||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==c||P!==q)&&jf(s,w,c,q),Hn=!1;var X=s.memoizedState;w.state=X,Oo(s,c,w,f),P=s.memoizedState,N!==c||X!==P||ir.current||Hn?(typeof ee=="function"&&(qu(s,i,ee,c),P=s.memoizedState),(N=Hn||bf(s,i,N,c,X,P,q))?(ne||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=P),w.props=c,w.state=P,w.context=q,c=N):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{w=s.stateNode,Jh(r,s),N=s.memoizedProps,q=s.type===s.elementType?N:Fr(s.type,N),w.props=q,ne=s.pendingProps,X=w.context,P=i.contextType,typeof P=="object"&&P!==null?P=Nr(P):(P=or(i)?ws:Kt.current,P=ta(s,P));var me=i.getDerivedStateFromProps;(ee=typeof me=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==ne||X!==P)&&jf(s,w,c,P),Hn=!1,X=s.memoizedState,w.state=X,Oo(s,c,w,f);var be=s.memoizedState;N!==ne||X!==be||ir.current||Hn?(typeof me=="function"&&(qu(s,i,me,c),be=s.memoizedState),(q=Hn||bf(s,i,q,c,X,be,P)||!1)?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,be,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,be,P)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=be),w.props=c,w.state=be,w.context=P,c=q):(typeof w.componentDidUpdate!="function"||N===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),c=!1)}return Ju(r,s,i,c,g,f)}function Ju(r,s,i,c,f,g){Of(r,s);var w=(s.flags&128)!==0;if(!c&&!w)return f&&Fh(s,i,!1),vn(r,s,g);c=s.stateNode,Rv.current=s;var N=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&w?(s.child=aa(s,r.child,null,g),s.child=aa(s,null,N,g)):tr(r,s,N,g),s.memoizedState=c.state,f&&Fh(s,i,!0),s.child}function If(r){var s=r.stateNode;s.pendingContext?Dh(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Dh(r,s.context,!1),Pu(r,s.containerInfo)}function Df(r,s,i,c,f){return sa(),Eu(f),s.flags|=256,tr(r,s,i,c),s.child}var Qu={dehydrated:null,treeContext:null,retryLane:0};function Yu(r){return{baseLanes:r,cachePool:null,transitions:null}}function $f(r,s,i){var c=s.pendingProps,f=xt.current,g=!1,w=(s.flags&128)!==0,N;if((N=w)||(N=r!==null&&r.memoizedState===null?!1:(f&2)!==0),N?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),ct(xt,f&1),r===null)return ku(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=c.children,r=c.fallback,g?(c=s.mode,g=s.child,w={mode:"hidden",children:w},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=w):g=el(w,c,0,null),r=As(r,c,i,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=Yu(i),s.memoizedState=Qu,r):Xu(s,w));if(f=r.memoizedState,f!==null&&(N=f.dehydrated,N!==null))return Av(r,s,w,c,N,f,i);if(g){g=c.fallback,w=s.mode,f=r.child,N=f.sibling;var P={mode:"hidden",children:c.children};return(w&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=P,s.deletions=null):(c=Xn(f,P),c.subtreeFlags=f.subtreeFlags&14680064),N!==null?g=Xn(N,g):(g=As(g,w,i,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,w=r.child.memoizedState,w=w===null?Yu(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~i,s.memoizedState=Qu,c}return g=r.child,r=g.sibling,c=Xn(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=i),c.return=s,c.sibling=null,r!==null&&(i=s.deletions,i===null?(s.deletions=[r],s.flags|=16):i.push(r)),s.child=c,s.memoizedState=null,c}function Xu(r,s){return s=el({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function zo(r,s,i,c){return c!==null&&Eu(c),aa(s,r.child,null,i),r=Xu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Av(r,s,i,c,f,g,w){if(i)return s.flags&256?(s.flags&=-257,c=Wu(Error(n(422))),zo(r,s,w,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,f=s.mode,c=el({mode:"visible",children:c.children},f,0,null),g=As(g,f,w,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&aa(s,r.child,null,w),s.child.memoizedState=Yu(w),s.memoizedState=Qu,g);if((s.mode&1)===0)return zo(r,s,w,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var N=c.dgst;return c=N,g=Error(n(419)),c=Wu(g,c,void 0),zo(r,s,w,c)}if(N=(w&r.childLanes)!==0,lr||N){if(c=Mt,c!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|w))!==0?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,gn(r,f),zr(c,r,f,-1))}return mc(),c=Wu(Error(n(421))),zo(r,s,w,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=Vv.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,vr=zn(f.nextSibling),yr=s,gt=!0,$r=null,r!==null&&(kr[Er++]=mn,kr[Er++]=pn,kr[Er++]=bs,mn=r.id,pn=r.overflow,bs=s),s=Xu(s,c.children),s.flags|=4096,s)}function Ff(r,s,i){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Ru(r.return,s,i)}function Zu(r,s,i,c,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=i,g.tailMode=f)}function Mf(r,s,i){var c=s.pendingProps,f=c.revealOrder,g=c.tail;if(tr(r,s,c.children,i),c=xt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ff(r,i,s);else if(r.tag===19)Ff(r,i,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(ct(xt,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(i=s.child,f=null;i!==null;)r=i.alternate,r!==null&&Lo(r)===null&&(f=i),i=i.sibling;i=f,i===null?(f=s.child,s.child=null):(f=i.sibling,i.sibling=null),Zu(s,!1,f,i,g);break;case"backwards":for(i=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Lo(r)===null){s.child=f;break}r=f.sibling,f.sibling=i,i=f,f=r}Zu(s,!0,i,null,g);break;case"together":Zu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Bo(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function vn(r,s,i){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,(i&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,i=Xn(r,r.pendingProps),s.child=i,i.return=s;r.sibling!==null;)r=r.sibling,i=i.sibling=Xn(r,r.pendingProps),i.return=s;i.sibling=null}return s.child}function Tv(r,s,i){switch(s.tag){case 3:If(s),sa();break;case 5:Xh(s);break;case 1:or(s.type)&&ko(s);break;case 4:Pu(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;ct(Ao,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(ct(xt,xt.current&1),s.flags|=128,null):(i&s.child.childLanes)!==0?$f(r,s,i):(ct(xt,xt.current&1),r=vn(r,s,i),r!==null?r.sibling:null);ct(xt,xt.current&1);break;case 19:if(c=(i&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Mf(r,s,i);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ct(xt,xt.current),c)break;return null;case 22:case 23:return s.lanes=0,Pf(r,s,i)}return vn(r,s,i)}var Uf,ec,zf,Bf;Uf=function(r,s){for(var i=s.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ec=function(){},zf=function(r,s,i,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,ks(Yr.current);var g=null;switch(i){case"input":f=an(r,f),c=an(r,c),g=[];break;case"select":f=te({},f,{value:void 0}),c=te({},c,{value:void 0}),g=[];break;case"textarea":f=T(r,f),c=T(r,c),g=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=bo)}on(i,c);var w;i=null;for(q in f)if(!c.hasOwnProperty(q)&&f.hasOwnProperty(q)&&f[q]!=null)if(q==="style"){var N=f[q];for(w in N)N.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?g||(g=[]):(g=g||[]).push(q,null));for(q in c){var P=c[q];if(N=f!=null?f[q]:void 0,c.hasOwnProperty(q)&&P!==N&&(P!=null||N!=null))if(q==="style")if(N){for(w in N)!N.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in P)P.hasOwnProperty(w)&&N[w]!==P[w]&&(i||(i={}),i[w]=P[w])}else i||(g||(g=[]),g.push(q,i)),i=P;else q==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,N=N?N.__html:void 0,P!=null&&N!==P&&(g=g||[]).push(q,P)):q==="children"?typeof P!="string"&&typeof P!="number"||(g=g||[]).push(q,""+P):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(P!=null&&q==="onScroll"&&ht("scroll",r),g||N===P||(g=[])):(g=g||[]).push(q,P))}i&&(g=g||[]).push("style",i);var q=g;(s.updateQueue=q)&&(s.flags|=4)}},Bf=function(r,s,i,c){i!==c&&(s.flags|=4)};function yi(r,s){if(!gt)switch(r.tailMode){case"hidden":s=r.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?r.tail=null:i.sibling=null;break;case"collapsed":i=r.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,i=0,c=0;if(s)for(var f=r.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=i,s}function Pv(r,s,i){var c=s.pendingProps;switch(_u(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return or(s.type)&&jo(),Jt(s),null;case 3:return c=s.stateNode,la(),ft(ir),ft(Kt),Iu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Co(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$r!==null&&(dc($r),$r=null))),ec(r,s),Jt(s),null;case 5:Ou(s);var f=ks(hi.current);if(i=s.type,r!==null&&s.stateNode!=null)zf(r,s,i,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return Jt(s),null}if(r=ks(Yr.current),Co(s)){c=s.stateNode,i=s.type;var g=s.memoizedProps;switch(c[Qr]=s,c[oi]=g,r=(s.mode&1)!==0,i){case"dialog":ht("cancel",c),ht("close",c);break;case"iframe":case"object":case"embed":ht("load",c);break;case"video":case"audio":for(f=0;f<si.length;f++)ht(si[f],c);break;case"source":ht("error",c);break;case"img":case"image":case"link":ht("error",c),ht("load",c);break;case"details":ht("toggle",c);break;case"input":Bs(c,g),ht("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},ht("invalid",c);break;case"textarea":V(c,g),ht("invalid",c)}on(i,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var N=g[w];w==="children"?typeof N=="string"?c.textContent!==N&&(g.suppressHydrationWarning!==!0&&wo(c.textContent,N,r),f=["children",N]):typeof N=="number"&&c.textContent!==""+N&&(g.suppressHydrationWarning!==!0&&wo(c.textContent,N,r),f=["children",""+N]):o.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&ht("scroll",c)}switch(i){case"input":sr(c),Vs(c,g,!0);break;case"textarea":sr(c),ce(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=bo)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ue(i)),r==="http://www.w3.org/1999/xhtml"?i==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=w.createElement(i,{is:c.is}):(r=w.createElement(i),i==="select"&&(w=r,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):r=w.createElementNS(r,i),r[Qr]=s,r[oi]=c,Uf(r,s,!1,!1),s.stateNode=r;e:{switch(w=Rn(i,c),i){case"dialog":ht("cancel",r),ht("close",r),f=c;break;case"iframe":case"object":case"embed":ht("load",r),f=c;break;case"video":case"audio":for(f=0;f<si.length;f++)ht(si[f],r);f=c;break;case"source":ht("error",r),f=c;break;case"img":case"image":case"link":ht("error",r),ht("load",r),f=c;break;case"details":ht("toggle",r),f=c;break;case"input":Bs(r,c),f=an(r,c),ht("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=te({},c,{value:void 0}),ht("invalid",r);break;case"textarea":V(r,c),f=T(r,c),ht("invalid",r);break;default:f=c}on(i,f),N=f;for(g in N)if(N.hasOwnProperty(g)){var P=N[g];g==="style"?Wt(r,P):g==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&Ve(r,P)):g==="children"?typeof P=="string"?(i!=="textarea"||P!=="")&&st(r,P):typeof P=="number"&&st(r,""+P):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?P!=null&&g==="onScroll"&&ht("scroll",r):P!=null&&D(r,g,P,w))}switch(i){case"input":sr(r),Vs(r,c,!1);break;case"textarea":sr(r),ce(r);break;case"option":c.value!=null&&r.setAttribute("value",""+We(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Ir(r,!!c.multiple,g,!1):c.defaultValue!=null&&Ir(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=bo)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jt(s),null;case 6:if(r&&s.stateNode!=null)Bf(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(i=ks(hi.current),ks(Yr.current),Co(s)){if(c=s.stateNode,i=s.memoizedProps,c[Qr]=s,(g=c.nodeValue!==i)&&(r=yr,r!==null))switch(r.tag){case 3:wo(c.nodeValue,i,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&wo(c.nodeValue,i,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[Qr]=s,s.stateNode=c}return Jt(s),null;case 13:if(ft(xt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(gt&&vr!==null&&(s.mode&1)!==0&&(s.flags&128)===0)qh(),sa(),s.flags|=98560,g=!1;else if(g=Co(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Qr]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),g=!1}else $r!==null&&(dc($r),$r=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=i,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(xt.current&1)!==0?Ot===0&&(Ot=3):mc())),s.updateQueue!==null&&(s.flags|=4),Jt(s),null);case 4:return la(),ec(r,s),r===null&&ai(s.stateNode.containerInfo),Jt(s),null;case 10:return Cu(s.type._context),Jt(s),null;case 17:return or(s.type)&&jo(),Jt(s),null;case 19:if(ft(xt),g=s.memoizedState,g===null)return Jt(s),null;if(c=(s.flags&128)!==0,w=g.rendering,w===null)if(c)yi(g,!1);else{if(Ot!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Lo(r),w!==null){for(s.flags|=128,yi(g,!1),c=w.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=i,i=s.child;i!==null;)g=i,r=c,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i=i.sibling;return ct(xt,xt.current&1|2),s.child}r=r.sibling}g.tail!==null&&at()>ha&&(s.flags|=128,c=!0,yi(g,!1),s.lanes=4194304)}else{if(!c)if(r=Lo(w),r!==null){if(s.flags|=128,c=!0,i=r.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),yi(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!gt)return Jt(s),null}else 2*at()-g.renderingStartTime>ha&&i!==1073741824&&(s.flags|=128,c=!0,yi(g,!1),s.lanes=4194304);g.isBackwards?(w.sibling=s.child,s.child=w):(i=g.last,i!==null?i.sibling=w:s.child=w,g.last=w)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=at(),s.sibling=null,i=xt.current,ct(xt,c?i&1|2:i&1),s):(Jt(s),null);case 22:case 23:return fc(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(xr&1073741824)!==0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Ov(r,s){switch(_u(s),s.tag){case 1:return or(s.type)&&jo(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return la(),ft(ir),ft(Kt),Iu(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ou(s),null;case 13:if(ft(xt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));sa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ft(xt),null;case 4:return la(),null;case 10:return Cu(s.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var Vo=!1,Qt=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ca(r,s){var i=r.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){bt(r,s,c)}else i.current=null}function tc(r,s,i){try{i()}catch(c){bt(r,s,c)}}var Vf=!1;function Iv(r,s){if(fu=lo,r=wh(),au(r)){if("selectionStart"in r)var i={start:r.selectionStart,end:r.selectionEnd};else e:{i=(i=r.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,N=-1,P=-1,q=0,ee=0,ne=r,X=null;t:for(;;){for(var me;ne!==i||f!==0&&ne.nodeType!==3||(N=w+f),ne!==g||c!==0&&ne.nodeType!==3||(P=w+c),ne.nodeType===3&&(w+=ne.nodeValue.length),(me=ne.firstChild)!==null;)X=ne,ne=me;for(;;){if(ne===r)break t;if(X===i&&++q===f&&(N=w),X===g&&++ee===c&&(P=w),(me=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=me}i=N===-1||P===-1?null:{start:N,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(mu={focusedElem:r,selectionRange:i},lo=!1,xe=s;xe!==null;)if(s=xe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,xe=r;else for(;xe!==null;){s=xe;try{var be=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Ee=be.memoizedProps,Et=be.memoizedState,F=s.stateNode,L=F.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:Fr(s.type,Ee),Et);F.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var U=s.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ie){bt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,xe=r;break}xe=s.return}return be=Vf,Vf=!1,be}function vi(r,s,i){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&tc(s,i,g)}f=f.next}while(f!==c)}}function qo(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&r)===r){var c=i.create;i.destroy=c()}i=i.next}while(i!==s)}}function rc(r){var s=r.ref;if(s!==null){var i=r.stateNode;switch(r.tag){case 5:r=i;break;default:r=i}typeof s=="function"?s(r):s.current=r}}function qf(r){var s=r.alternate;s!==null&&(r.alternate=null,qf(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Qr],delete s[oi],delete s[vu],delete s[yv],delete s[vv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hf(r){return r.tag===5||r.tag===3||r.tag===4}function Wf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hf(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function nc(r,s,i){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?i.nodeType===8?i.parentNode.insertBefore(r,s):i.insertBefore(r,s):(i.nodeType===8?(s=i.parentNode,s.insertBefore(r,i)):(s=i,s.appendChild(r)),i=i._reactRootContainer,i!=null||s.onclick!==null||(s.onclick=bo));else if(c!==4&&(r=r.child,r!==null))for(nc(r,s,i),r=r.sibling;r!==null;)nc(r,s,i),r=r.sibling}function sc(r,s,i){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?i.insertBefore(r,s):i.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(sc(r,s,i),r=r.sibling;r!==null;)sc(r,s,i),r=r.sibling}var Bt=null,Mr=!1;function Kn(r,s,i){for(i=i.child;i!==null;)Kf(r,s,i),i=i.sibling}function Kf(r,s,i){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(un,i)}catch{}switch(i.tag){case 5:Qt||ca(i,s);case 6:var c=Bt,f=Mr;Bt=null,Kn(r,s,i),Bt=c,Mr=f,Bt!==null&&(Mr?(r=Bt,i=i.stateNode,r.nodeType===8?r.parentNode.removeChild(i):r.removeChild(i)):Bt.removeChild(i.stateNode));break;case 18:Bt!==null&&(Mr?(r=Bt,i=i.stateNode,r.nodeType===8?yu(r.parentNode,i):r.nodeType===1&&yu(r,i),Qa(r)):yu(Bt,i.stateNode));break;case 4:c=Bt,f=Mr,Bt=i.stateNode.containerInfo,Mr=!0,Kn(r,s,i),Bt=c,Mr=f;break;case 0:case 11:case 14:case 15:if(!Qt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&((g&2)!==0||(g&4)!==0)&&tc(i,s,w),f=f.next}while(f!==c)}Kn(r,s,i);break;case 1:if(!Qt&&(ca(i,s),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(N){bt(i,s,N)}Kn(r,s,i);break;case 21:Kn(r,s,i);break;case 22:i.mode&1?(Qt=(c=Qt)||i.memoizedState!==null,Kn(r,s,i),Qt=c):Kn(r,s,i);break;default:Kn(r,s,i)}}function Gf(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var i=r.stateNode;i===null&&(i=r.stateNode=new Lv),s.forEach(function(c){var f=qv.bind(null,r,c);i.has(c)||(i.add(c),c.then(f,f))})}}function Ur(r,s){var i=s.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c];try{var g=r,w=s,N=w;e:for(;N!==null;){switch(N.tag){case 5:Bt=N.stateNode,Mr=!1;break e;case 3:Bt=N.stateNode.containerInfo,Mr=!0;break e;case 4:Bt=N.stateNode.containerInfo,Mr=!0;break e}N=N.return}if(Bt===null)throw Error(n(160));Kf(g,w,f),Bt=null,Mr=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(q){bt(f,s,q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Jf(s,r),s=s.sibling}function Jf(r,s){var i=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Ur(s,r),Zr(r),c&4){try{vi(3,r,r.return),qo(3,r)}catch(Ee){bt(r,r.return,Ee)}try{vi(5,r,r.return)}catch(Ee){bt(r,r.return,Ee)}}break;case 1:Ur(s,r),Zr(r),c&512&&i!==null&&ca(i,i.return);break;case 5:if(Ur(s,r),Zr(r),c&512&&i!==null&&ca(i,i.return),r.flags&32){var f=r.stateNode;try{st(f,"")}catch(Ee){bt(r,r.return,Ee)}}if(c&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=i!==null?i.memoizedProps:g,N=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{N==="input"&&g.type==="radio"&&g.name!=null&&mr(f,g),Rn(N,w);var q=Rn(N,g);for(w=0;w<P.length;w+=2){var ee=P[w],ne=P[w+1];ee==="style"?Wt(f,ne):ee==="dangerouslySetInnerHTML"?Ve(f,ne):ee==="children"?st(f,ne):D(f,ee,ne,q)}switch(N){case"input":En(f,g);break;case"textarea":H(f,g);break;case"select":var X=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?Ir(f,!!g.multiple,me,!1):X!==!!g.multiple&&(g.defaultValue!=null?Ir(f,!!g.multiple,g.defaultValue,!0):Ir(f,!!g.multiple,g.multiple?[]:"",!1))}f[oi]=g}catch(Ee){bt(r,r.return,Ee)}}break;case 6:if(Ur(s,r),Zr(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Ee){bt(r,r.return,Ee)}}break;case 3:if(Ur(s,r),Zr(r),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Qa(s.containerInfo)}catch(Ee){bt(r,r.return,Ee)}break;case 4:Ur(s,r),Zr(r);break;case 13:Ur(s,r),Zr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(oc=at())),c&4&&Gf(r);break;case 22:if(ee=i!==null&&i.memoizedState!==null,r.mode&1?(Qt=(q=Qt)||ee,Ur(s,r),Qt=q):Ur(s,r),Zr(r),c&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!ee&&(r.mode&1)!==0)for(xe=r,ee=r.child;ee!==null;){for(ne=xe=ee;xe!==null;){switch(X=xe,me=X.child,X.tag){case 0:case 11:case 14:case 15:vi(4,X,X.return);break;case 1:ca(X,X.return);var be=X.stateNode;if(typeof be.componentWillUnmount=="function"){c=X,i=X.return;try{s=c,be.props=s.memoizedProps,be.state=s.memoizedState,be.componentWillUnmount()}catch(Ee){bt(c,i,Ee)}}break;case 5:ca(X,X.return);break;case 22:if(X.memoizedState!==null){Xf(ne);continue}}me!==null?(me.return=X,xe=me):Xf(ne)}ee=ee.sibling}e:for(ee=null,ne=r;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,q?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(N=ne.stateNode,P=ne.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,N.style.display=Cn("display",w))}catch(Ee){bt(r,r.return,Ee)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=q?"":ne.memoizedProps}catch(Ee){bt(r,r.return,Ee)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===r)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===r)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===r)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Ur(s,r),Zr(r),c&4&&Gf(r);break;case 21:break;default:Ur(s,r),Zr(r)}}function Zr(r){var s=r.flags;if(s&2){try{e:{for(var i=r.return;i!==null;){if(Hf(i)){var c=i;break e}i=i.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(st(f,""),c.flags&=-33);var g=Wf(r);sc(r,g,f);break;case 3:case 4:var w=c.stateNode.containerInfo,N=Wf(r);nc(r,N,w);break;default:throw Error(n(161))}}catch(P){bt(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Dv(r,s,i){xe=r,Qf(r)}function Qf(r,s,i){for(var c=(r.mode&1)!==0;xe!==null;){var f=xe,g=f.child;if(f.tag===22&&c){var w=f.memoizedState!==null||Vo;if(!w){var N=f.alternate,P=N!==null&&N.memoizedState!==null||Qt;N=Vo;var q=Qt;if(Vo=w,(Qt=P)&&!q)for(xe=f;xe!==null;)w=xe,P=w.child,w.tag===22&&w.memoizedState!==null?Zf(f):P!==null?(P.return=w,xe=P):Zf(f);for(;g!==null;)xe=g,Qf(g),g=g.sibling;xe=f,Vo=N,Qt=q}Yf(r)}else(f.subtreeFlags&8772)!==0&&g!==null?(g.return=f,xe=g):Yf(r)}}function Yf(r){for(;xe!==null;){var s=xe;if((s.flags&8772)!==0){var i=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Qt||qo(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Qt)if(i===null)c.componentDidMount();else{var f=s.elementType===s.type?i.memoizedProps:Fr(s.type,i.memoizedProps);c.componentDidUpdate(f,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Yh(s,g,c);break;case 3:var w=s.updateQueue;if(w!==null){if(i=null,s.child!==null)switch(s.child.tag){case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}Yh(s,w,i)}break;case 5:var N=s.stateNode;if(i===null&&s.flags&4){i=N;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&i.focus();break;case"img":P.src&&(i.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var q=s.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Qa(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||s.flags&512&&rc(s)}catch(X){bt(s,s.return,X)}}if(s===r){xe=null;break}if(i=s.sibling,i!==null){i.return=s.return,xe=i;break}xe=s.return}}function Xf(r){for(;xe!==null;){var s=xe;if(s===r){xe=null;break}var i=s.sibling;if(i!==null){i.return=s.return,xe=i;break}xe=s.return}}function Zf(r){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var i=s.return;try{qo(4,s)}catch(P){bt(s,i,P)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(P){bt(s,f,P)}}var g=s.return;try{rc(s)}catch(P){bt(s,g,P)}break;case 5:var w=s.return;try{rc(s)}catch(P){bt(s,w,P)}}}catch(P){bt(s,s.return,P)}if(s===r){xe=null;break}var N=s.sibling;if(N!==null){N.return=s.return,xe=N;break}xe=s.return}}var $v=Math.ceil,Ho=W.ReactCurrentDispatcher,ac=W.ReactCurrentOwner,Cr=W.ReactCurrentBatchConfig,et=0,Mt=null,Ct=null,Vt=0,xr=0,da=Bn(0),Ot=0,xi=null,Ns=0,Wo=0,ic=0,wi=null,ur=null,oc=0,ha=1/0,xn=null,Ko=!1,lc=null,Gn=null,Go=!1,Jn=null,Jo=0,bi=0,uc=null,Qo=-1,Yo=0;function rr(){return(et&6)!==0?at():Qo!==-1?Qo:Qo=at()}function Qn(r){return(r.mode&1)===0?1:(et&2)!==0&&Vt!==0?Vt&-Vt:wv.transition!==null?(Yo===0&&(Yo=Hd()),Yo):(r=it,r!==0||(r=window.event,r=r===void 0?16:eh(r.type)),r)}function zr(r,s,i,c){if(50<bi)throw bi=0,uc=null,Error(n(185));Ha(r,i,c),((et&2)===0||r!==Mt)&&(r===Mt&&((et&2)===0&&(Wo|=i),Ot===4&&Yn(r,Vt)),cr(r,c),i===1&&et===0&&(s.mode&1)===0&&(ha=at()+500,Eo&&qn()))}function cr(r,s){var i=r.callbackNode;wy(r,s);var c=ao(r,r===Mt?Vt:0);if(c===0)i!==null&&$t(i),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(i!=null&&$t(i),s===1)r.tag===0?xv(tm.bind(null,r)):Mh(tm.bind(null,r)),pv(function(){(et&6)===0&&qn()}),i=null;else{switch(Wd(c)){case 1:i=jr;break;case 4:i=pr;break;case 16:i=On;break;case 536870912:i=Jr;break;default:i=On}i=um(i,em.bind(null,r))}r.callbackPriority=s,r.callbackNode=i}}function em(r,s){if(Qo=-1,Yo=0,(et&6)!==0)throw Error(n(327));var i=r.callbackNode;if(fa()&&r.callbackNode!==i)return null;var c=ao(r,r===Mt?Vt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Xo(r,c);else{s=c;var f=et;et|=2;var g=nm();(Mt!==r||Vt!==s)&&(xn=null,ha=at()+500,Cs(r,s));do try{Uv();break}catch(N){rm(r,N)}while(!0);Su(),Ho.current=g,et=f,Ct!==null?s=0:(Mt=null,Vt=0,s=Ot)}if(s!==0){if(s===2&&(f=Vl(r),f!==0&&(c=f,s=cc(r,f))),s===1)throw i=xi,Cs(r,0),Yn(r,c),cr(r,at()),i;if(s===6)Yn(r,c);else{if(f=r.current.alternate,(c&30)===0&&!Fv(f)&&(s=Xo(r,c),s===2&&(g=Vl(r),g!==0&&(c=g,s=cc(r,g))),s===1))throw i=xi,Cs(r,0),Yn(r,c),cr(r,at()),i;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Rs(r,ur,xn);break;case 3:if(Yn(r,c),(c&130023424)===c&&(s=oc+500-at(),10<s)){if(ao(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){rr(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=gu(Rs.bind(null,r,ur,xn),s);break}Rs(r,ur,xn);break;case 4:if(Yn(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var w=31-ot(c);g=1<<w,w=s[w],w>f&&(f=w),c&=~g}if(c=f,c=at()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*$v(c/1960))-c,10<c){r.timeoutHandle=gu(Rs.bind(null,r,ur,xn),c);break}Rs(r,ur,xn);break;case 5:Rs(r,ur,xn);break;default:throw Error(n(329))}}}return cr(r,at()),r.callbackNode===i?em.bind(null,r):null}function cc(r,s){var i=wi;return r.current.memoizedState.isDehydrated&&(Cs(r,s).flags|=256),r=Xo(r,s),r!==2&&(s=ur,ur=i,s!==null&&dc(s)),r}function dc(r){ur===null?ur=r:ur.push.apply(ur,r)}function Fv(r){for(var s=r;;){if(s.flags&16384){var i=s.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var f=i[c],g=f.getSnapshot;f=f.value;try{if(!Dr(g(),f))return!1}catch{return!1}}}if(i=s.child,s.subtreeFlags&16384&&i!==null)i.return=s,s=i;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yn(r,s){for(s&=~ic,s&=~Wo,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var i=31-ot(s),c=1<<i;r[i]=-1,s&=~c}}function tm(r){if((et&6)!==0)throw Error(n(327));fa();var s=ao(r,0);if((s&1)===0)return cr(r,at()),null;var i=Xo(r,s);if(r.tag!==0&&i===2){var c=Vl(r);c!==0&&(s=c,i=cc(r,c))}if(i===1)throw i=xi,Cs(r,0),Yn(r,s),cr(r,at()),i;if(i===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Rs(r,ur,xn),cr(r,at()),null}function hc(r,s){var i=et;et|=1;try{return r(s)}finally{et=i,et===0&&(ha=at()+500,Eo&&qn())}}function Ss(r){Jn!==null&&Jn.tag===0&&(et&6)===0&&fa();var s=et;et|=1;var i=Cr.transition,c=it;try{if(Cr.transition=null,it=1,r)return r()}finally{it=c,Cr.transition=i,et=s,(et&6)===0&&qn()}}function fc(){xr=da.current,ft(da)}function Cs(r,s){r.finishedWork=null,r.finishedLanes=0;var i=r.timeoutHandle;if(i!==-1&&(r.timeoutHandle=-1,mv(i)),Ct!==null)for(i=Ct.return;i!==null;){var c=i;switch(_u(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&jo();break;case 3:la(),ft(ir),ft(Kt),Iu();break;case 5:Ou(c);break;case 4:la();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:Cu(c.type._context);break;case 22:case 23:fc()}i=i.return}if(Mt=r,Ct=r=Xn(r.current,null),Vt=xr=s,Ot=0,xi=null,ic=Wo=Ns=0,ur=wi=null,js!==null){for(s=0;s<js.length;s++)if(i=js[s],c=i.interleaved,c!==null){i.interleaved=null;var f=c.next,g=i.pending;if(g!==null){var w=g.next;g.next=f,c.next=w}i.pending=c}js=null}return r}function rm(r,s){do{var i=Ct;try{if(Su(),Io.current=Mo,Do){for(var c=wt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Do=!1}if(Es=0,Ft=Pt=wt=null,fi=!1,mi=0,ac.current=null,i===null||i.return===null){Ot=1,xi=s,Ct=null;break}e:{var g=r,w=i.return,N=i,P=s;if(s=Vt,N.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var q=P,ee=N,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var X=ee.alternate;X?(ee.updateQueue=X.updateQueue,ee.memoizedState=X.memoizedState,ee.lanes=X.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var me=Sf(w);if(me!==null){me.flags&=-257,Cf(me,w,N,g,s),me.mode&1&&Nf(g,q,s),s=me,P=q;var be=s.updateQueue;if(be===null){var Ee=new Set;Ee.add(P),s.updateQueue=Ee}else be.add(P);break e}else{if((s&1)===0){Nf(g,q,s),mc();break e}P=Error(n(426))}}else if(gt&&N.mode&1){var Et=Sf(w);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Cf(Et,w,N,g,s),Eu(ua(P,N));break e}}g=P=ua(P,N),Ot!==4&&(Ot=2),wi===null?wi=[g]:wi.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var F=kf(g,P,s);Qh(g,F);break e;case 1:N=P;var L=g.type,U=g.stateNode;if((g.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Gn===null||!Gn.has(U)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=Ef(g,N,s);Qh(g,ie);break e}}g=g.return}while(g!==null)}am(i)}catch(Se){s=Se,Ct===i&&i!==null&&(Ct=i=i.return);continue}break}while(!0)}function nm(){var r=Ho.current;return Ho.current=Mo,r===null?Mo:r}function mc(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Mt===null||(Ns&268435455)===0&&(Wo&268435455)===0||Yn(Mt,Vt)}function Xo(r,s){var i=et;et|=2;var c=nm();(Mt!==r||Vt!==s)&&(xn=null,Cs(r,s));do try{Mv();break}catch(f){rm(r,f)}while(!0);if(Su(),et=i,Ho.current=c,Ct!==null)throw Error(n(261));return Mt=null,Vt=0,Ot}function Mv(){for(;Ct!==null;)sm(Ct)}function Uv(){for(;Ct!==null&&!nt();)sm(Ct)}function sm(r){var s=lm(r.alternate,r,xr);r.memoizedProps=r.pendingProps,s===null?am(r):Ct=s,ac.current=null}function am(r){var s=r;do{var i=s.alternate;if(r=s.return,(s.flags&32768)===0){if(i=Pv(i,s,xr),i!==null){Ct=i;return}}else{if(i=Ov(i,s),i!==null){i.flags&=32767,Ct=i;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ot=6,Ct=null;return}}if(s=s.sibling,s!==null){Ct=s;return}Ct=s=r}while(s!==null);Ot===0&&(Ot=5)}function Rs(r,s,i){var c=it,f=Cr.transition;try{Cr.transition=null,it=1,zv(r,s,i,c)}finally{Cr.transition=f,it=c}return null}function zv(r,s,i,c){do fa();while(Jn!==null);if((et&6)!==0)throw Error(n(327));i=r.finishedWork;var f=r.finishedLanes;if(i===null)return null;if(r.finishedWork=null,r.finishedLanes=0,i===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var g=i.lanes|i.childLanes;if(by(r,g),r===Mt&&(Ct=Mt=null,Vt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Go||(Go=!0,um(On,function(){return fa(),null})),g=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||g){g=Cr.transition,Cr.transition=null;var w=it;it=1;var N=et;et|=4,ac.current=null,Iv(r,i),Jf(i,r),ov(mu),lo=!!fu,mu=fu=null,r.current=i,Dv(i),ar(),et=N,it=w,Cr.transition=g}else r.current=i;if(Go&&(Go=!1,Jn=r,Jo=f),g=r.pendingLanes,g===0&&(Gn=null),Ze(i.stateNode),cr(r,at()),s!==null)for(c=r.onRecoverableError,i=0;i<s.length;i++)f=s[i],c(f.value,{componentStack:f.stack,digest:f.digest});if(Ko)throw Ko=!1,r=lc,lc=null,r;return(Jo&1)!==0&&r.tag!==0&&fa(),g=r.pendingLanes,(g&1)!==0?r===uc?bi++:(bi=0,uc=r):bi=0,qn(),null}function fa(){if(Jn!==null){var r=Wd(Jo),s=Cr.transition,i=it;try{if(Cr.transition=null,it=16>r?16:r,Jn===null)var c=!1;else{if(r=Jn,Jn=null,Jo=0,(et&6)!==0)throw Error(n(331));var f=et;for(et|=4,xe=r.current;xe!==null;){var g=xe,w=g.child;if((xe.flags&16)!==0){var N=g.deletions;if(N!==null){for(var P=0;P<N.length;P++){var q=N[P];for(xe=q;xe!==null;){var ee=xe;switch(ee.tag){case 0:case 11:case 15:vi(8,ee,g)}var ne=ee.child;if(ne!==null)ne.return=ee,xe=ne;else for(;xe!==null;){ee=xe;var X=ee.sibling,me=ee.return;if(qf(ee),ee===q){xe=null;break}if(X!==null){X.return=me,xe=X;break}xe=me}}}var be=g.alternate;if(be!==null){var Ee=be.child;if(Ee!==null){be.child=null;do{var Et=Ee.sibling;Ee.sibling=null,Ee=Et}while(Ee!==null)}}xe=g}}if((g.subtreeFlags&2064)!==0&&w!==null)w.return=g,xe=w;else e:for(;xe!==null;){if(g=xe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:vi(9,g,g.return)}var F=g.sibling;if(F!==null){F.return=g.return,xe=F;break e}xe=g.return}}var L=r.current;for(xe=L;xe!==null;){w=xe;var U=w.child;if((w.subtreeFlags&2064)!==0&&U!==null)U.return=w,xe=U;else e:for(w=L;xe!==null;){if(N=xe,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:qo(9,N)}}catch(Se){bt(N,N.return,Se)}if(N===w){xe=null;break e}var ie=N.sibling;if(ie!==null){ie.return=N.return,xe=ie;break e}xe=N.return}}if(et=f,qn(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(un,r)}catch{}c=!0}return c}finally{it=i,Cr.transition=s}}return!1}function im(r,s,i){s=ua(i,s),s=kf(r,s,1),r=Wn(r,s,1),s=rr(),r!==null&&(Ha(r,1,s),cr(r,s))}function bt(r,s,i){if(r.tag===3)im(r,r,i);else for(;s!==null;){if(s.tag===3){im(s,r,i);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gn===null||!Gn.has(c))){r=ua(i,r),r=Ef(s,r,1),s=Wn(s,r,1),r=rr(),s!==null&&(Ha(s,1,r),cr(s,r));break}}s=s.return}}function Bv(r,s,i){var c=r.pingCache;c!==null&&c.delete(s),s=rr(),r.pingedLanes|=r.suspendedLanes&i,Mt===r&&(Vt&i)===i&&(Ot===4||Ot===3&&(Vt&130023424)===Vt&&500>at()-oc?Cs(r,0):ic|=i),cr(r,s)}function om(r,s){s===0&&((r.mode&1)===0?s=1:(s=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var i=rr();r=gn(r,s),r!==null&&(Ha(r,s,i),cr(r,i))}function Vv(r){var s=r.memoizedState,i=0;s!==null&&(i=s.retryLane),om(r,i)}function qv(r,s){var i=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),om(r,i)}var lm;lm=function(r,s,i){if(r!==null)if(r.memoizedProps!==s.pendingProps||ir.current)lr=!0;else{if((r.lanes&i)===0&&(s.flags&128)===0)return lr=!1,Tv(r,s,i);lr=(r.flags&131072)!==0}else lr=!1,gt&&(s.flags&1048576)!==0&&Uh(s,So,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Bo(r,s),r=s.pendingProps;var f=ta(s,Kt.current);oa(s,i),f=Fu(null,s,c,r,f,i);var g=Mu();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,or(c)?(g=!0,ko(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Tu(s),f.updater=Uo,s.stateNode=f,f._reactInternals=s,Hu(s,c,r,i),s=Ju(null,s,c,!0,g,i)):(s.tag=0,gt&&g&&bu(s),tr(null,s,f,i),s=s.child),s;case 16:c=s.elementType;e:{switch(Bo(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=Wv(c),r=Fr(c,r),f){case 0:s=Gu(null,s,c,r,i);break e;case 1:s=Lf(null,s,c,r,i);break e;case 11:s=Rf(null,s,c,r,i);break e;case 14:s=Af(null,s,c,Fr(c.type,r),i);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Fr(c,f),Gu(r,s,c,f,i);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Fr(c,f),Lf(r,s,c,f,i);case 3:e:{if(If(s),r===null)throw Error(n(387));c=s.pendingProps,g=s.memoizedState,f=g.element,Jh(r,s),Oo(s,c,null,i);var w=s.memoizedState;if(c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=ua(Error(n(423)),s),s=Df(r,s,c,i,f);break e}else if(c!==f){f=ua(Error(n(424)),s),s=Df(r,s,c,i,f);break e}else for(vr=zn(s.stateNode.containerInfo.firstChild),yr=s,gt=!0,$r=null,i=Kh(s,null,c,i),s.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(sa(),c===f){s=vn(r,s,i);break e}tr(r,s,c,i)}s=s.child}return s;case 5:return Xh(s),r===null&&ku(s),c=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,pu(c,f)?w=null:g!==null&&pu(c,g)&&(s.flags|=32),Of(r,s),tr(r,s,w,i),s.child;case 6:return r===null&&ku(s),null;case 13:return $f(r,s,i);case 4:return Pu(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=aa(s,null,c,i):tr(r,s,c,i),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Fr(c,f),Rf(r,s,c,f,i);case 7:return tr(r,s,s.pendingProps,i),s.child;case 8:return tr(r,s,s.pendingProps.children,i),s.child;case 12:return tr(r,s,s.pendingProps.children,i),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,g=s.memoizedProps,w=f.value,ct(Ao,c._currentValue),c._currentValue=w,g!==null)if(Dr(g.value,w)){if(g.children===f.children&&!ir.current){s=vn(r,s,i);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var N=g.dependencies;if(N!==null){w=g.child;for(var P=N.firstContext;P!==null;){if(P.context===c){if(g.tag===1){P=yn(-1,i&-i),P.tag=2;var q=g.updateQueue;if(q!==null){q=q.shared;var ee=q.pending;ee===null?P.next=P:(P.next=ee.next,ee.next=P),q.pending=P}}g.lanes|=i,P=g.alternate,P!==null&&(P.lanes|=i),Ru(g.return,i,s),N.lanes|=i;break}P=P.next}}else if(g.tag===10)w=g.type===s.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(n(341));w.lanes|=i,N=w.alternate,N!==null&&(N.lanes|=i),Ru(w,i,s),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}tr(r,s,f.children,i),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,oa(s,i),f=Nr(f),c=c(f),s.flags|=1,tr(r,s,c,i),s.child;case 14:return c=s.type,f=Fr(c,s.pendingProps),f=Fr(c.type,f),Af(r,s,c,f,i);case 15:return Tf(r,s,s.type,s.pendingProps,i);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Fr(c,f),Bo(r,s),s.tag=1,or(c)?(r=!0,ko(s)):r=!1,oa(s,i),_f(s,c,f),Hu(s,c,f,i),Ju(null,s,c,!0,r,i);case 19:return Mf(r,s,i);case 22:return Pf(r,s,i)}throw Error(n(156,s.tag))};function um(r,s){return kt(r,s)}function Hv(r,s,i,c){this.tag=r,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(r,s,i,c){return new Hv(r,s,i,c)}function pc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Wv(r){if(typeof r=="function")return pc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===pe)return 11;if(r===oe)return 14}return 2}function Xn(r,s){var i=r.alternate;return i===null?(i=Rr(r.tag,s,r.key,r.mode),i.elementType=r.elementType,i.type=r.type,i.stateNode=r.stateNode,i.alternate=r,r.alternate=i):(i.pendingProps=s,i.type=r.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=r.flags&14680064,i.childLanes=r.childLanes,i.lanes=r.lanes,i.child=r.child,i.memoizedProps=r.memoizedProps,i.memoizedState=r.memoizedState,i.updateQueue=r.updateQueue,s=r.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},i.sibling=r.sibling,i.index=r.index,i.ref=r.ref,i}function Zo(r,s,i,c,f,g){var w=2;if(c=r,typeof r=="function")pc(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case S:return As(i.children,f,g,s);case M:w=8,f|=8;break;case Q:return r=Rr(12,i,s,f|2),r.elementType=Q,r.lanes=g,r;case G:return r=Rr(13,i,s,f),r.elementType=G,r.lanes=g,r;case re:return r=Rr(19,i,s,f),r.elementType=re,r.lanes=g,r;case Y:return el(i,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Re:w=10;break e;case Le:w=9;break e;case pe:w=11;break e;case oe:w=14;break e;case he:w=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Rr(w,i,s,f),s.elementType=r,s.type=c,s.lanes=g,s}function As(r,s,i,c){return r=Rr(7,r,c,s),r.lanes=i,r}function el(r,s,i,c){return r=Rr(22,r,c,s),r.elementType=Y,r.lanes=i,r.stateNode={isHidden:!1},r}function gc(r,s,i){return r=Rr(6,r,null,s),r.lanes=i,r}function yc(r,s,i){return s=Rr(4,r.children!==null?r.children:[],r.key,s),s.lanes=i,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Kv(r,s,i,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function vc(r,s,i,c,f,g,w,N,P){return r=new Kv(r,s,i,N,P),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Rr(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tu(g),r}function Gv(r,s,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:c==null?null:""+c,children:r,containerInfo:s,implementation:i}}function cm(r){if(!r)return Vn;r=r._reactInternals;e:{if(ke(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(or(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var i=r.type;if(or(i))return $h(r,i,s)}return s}function dm(r,s,i,c,f,g,w,N,P){return r=vc(i,c,!0,r,f,g,w,N,P),r.context=cm(null),i=r.current,c=rr(),f=Qn(i),g=yn(c,f),g.callback=s??null,Wn(i,g,f),r.current.lanes=f,Ha(r,f,c),cr(r,c),r}function tl(r,s,i,c){var f=s.current,g=rr(),w=Qn(f);return i=cm(i),s.context===null?s.context=i:s.pendingContext=i,s=yn(g,w),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Wn(f,s,w),r!==null&&(zr(r,f,w,g),Po(r,f,w)),w}function rl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var i=r.retryLane;r.retryLane=i!==0&&i<s?i:s}}function xc(r,s){hm(r,s),(r=r.alternate)&&hm(r,s)}function Jv(){return null}var fm=typeof reportError=="function"?reportError:function(r){console.error(r)};function wc(r){this._internalRoot=r}nl.prototype.render=wc.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));tl(r,s,null,null)},nl.prototype.unmount=wc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ss(function(){tl(null,r,null,null)}),s[hn]=null}};function nl(r){this._internalRoot=r}nl.prototype.unstable_scheduleHydration=function(r){if(r){var s=Jd();r={blockedOn:null,target:r,priority:s};for(var i=0;i<Fn.length&&s!==0&&s<Fn[i].priority;i++);Fn.splice(i,0,r),i===0&&Xd(r)}};function bc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function sl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function mm(){}function Qv(r,s,i,c,f){if(f){if(typeof c=="function"){var g=c;c=function(){var q=rl(w);g.call(q)}}var w=dm(s,c,r,0,null,!1,!1,"",mm);return r._reactRootContainer=w,r[hn]=w.current,ai(r.nodeType===8?r.parentNode:r),Ss(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var N=c;c=function(){var q=rl(P);N.call(q)}}var P=vc(r,0,!1,null,null,!1,!1,"",mm);return r._reactRootContainer=P,r[hn]=P.current,ai(r.nodeType===8?r.parentNode:r),Ss(function(){tl(s,P,i,c)}),P}function al(r,s,i,c,f){var g=i._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var N=f;f=function(){var P=rl(w);N.call(P)}}tl(s,w,r,f)}else w=Qv(i,s,r,f,c);return rl(w)}Kd=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var i=vs(s.pendingLanes);i!==0&&(Hl(s,i|1),cr(s,at()),(et&6)===0&&(ha=at()+500,qn()))}break;case 13:Ss(function(){var c=gn(r,1);if(c!==null){var f=rr();zr(c,r,1,f)}}),xc(r,1)}},Wl=function(r){if(r.tag===13){var s=gn(r,134217728);if(s!==null){var i=rr();zr(s,r,134217728,i)}xc(r,134217728)}},Gd=function(r){if(r.tag===13){var s=Qn(r),i=gn(r,s);if(i!==null){var c=rr();zr(i,r,s,c)}xc(r,s)}},Jd=function(){return it},Qd=function(r,s){var i=it;try{return it=r,s()}finally{it=i}},Tn=function(r,s,i){switch(s){case"input":if(En(r,i),s=i.name,i.type==="radio"&&s!=null){for(i=r;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<i.length;s++){var c=i[s];if(c!==r&&c.form===r.form){var f=_o(c);if(!f)throw Error(n(90));lt(c),En(c,f)}}}break;case"textarea":H(r,i);break;case"select":s=i.value,s!=null&&Ir(r,!!i.multiple,s,!1)}},Ba=hc,fs=Ss;var Yv={usingClientEntryPoint:!1,Events:[li,Zs,_o,za,so,hc]},_i={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xv={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Qe(r),r===null?null:r.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||Jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{un=il.inject(Xv),er=il}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yv,dr.createPortal=function(r,s){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(s))throw Error(n(200));return Gv(r,s,null,i)},dr.createRoot=function(r,s){if(!bc(r))throw Error(n(299));var i=!1,c="",f=fm;return s!=null&&(s.unstable_strictMode===!0&&(i=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=vc(r,1,!1,null,null,i,!1,c,f),r[hn]=s.current,ai(r.nodeType===8?r.parentNode:r),new wc(s)},dr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Qe(s),r=r===null?null:r.stateNode,r},dr.flushSync=function(r){return Ss(r)},dr.hydrate=function(r,s,i){if(!sl(s))throw Error(n(200));return al(null,r,s,!0,i)},dr.hydrateRoot=function(r,s,i){if(!bc(r))throw Error(n(405));var c=i!=null&&i.hydratedSources||null,f=!1,g="",w=fm;if(i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),s=dm(s,null,r,1,i??null,f,!1,g,w),r[hn]=s.current,ai(r),c)for(r=0;r<c.length;r++)i=c[r],f=i._getVersion,f=f(i._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[i,f]:s.mutableSourceEagerHydrationData.push(i,f);return new nl(s)},dr.render=function(r,s,i){if(!sl(s))throw Error(n(200));return al(null,r,s,!1,i)},dr.unmountComponentAtNode=function(r){if(!sl(r))throw Error(n(40));return r._reactRootContainer?(Ss(function(){al(null,null,r,!1,function(){r._reactRootContainer=null,r[hn]=null})}),!0):!1},dr.unstable_batchedUpdates=hc,dr.unstable_renderSubtreeIntoContainer=function(r,s,i,c){if(!sl(i))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return al(r,s,i,!1,c)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var _m;function Kp(){if(_m)return kc.exports;_m=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kc.exports=ox(),kc.exports}var jm;function lx(){if(jm)return ol;jm=1;var e=Kp();return ol.createRoot=e.createRoot,ol.hydrateRoot=e.hydrateRoot,ol}var ux=lx(),E=wd();const rt=tx(E),cx=ex({__proto__:null,default:rt},[E]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gp=e=>{throw TypeError(e)},dx=(e,t,n)=>t.has(e)||Gp("Cannot "+n),Sc=(e,t,n)=>(dx(e,t,"read from private field"),n?n.call(e):t.get(e)),hx=(e,t,n)=>t.has(e)?Gp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),km="popstate";function fx(e={}){function t(a,o){let{pathname:u,search:d,hash:h}=a.location;return $i("",{pathname:u,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:nn(o)}return px(t,n,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mx(){return Math.random().toString(36).substring(2,10)}function Em(e,t){return{usr:e.state,key:e.key,idx:t}}function $i(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ds(t):t,state:n,key:t&&t.key||a||mx()}}function nn({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ds(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function px(e,t,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,d=o.history,h="POP",p=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function v(){h="POP";let k=y(),C=k==null?null:k-m;m=k,p&&p({action:h,location:j.location,delta:C})}function x(k,C){h="PUSH";let A=$i(j.location,k,C);m=y()+1;let D=Em(A,m),W=j.createHref(A);try{d.pushState(D,"",W)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;o.location.assign(W)}u&&p&&p({action:h,location:j.location,delta:1})}function _(k,C){h="REPLACE";let A=$i(j.location,k,C);m=y();let D=Em(A,m),W=j.createHref(A);d.replaceState(D,"",W),u&&p&&p({action:h,location:j.location,delta:0})}function b(k){return Jp(k)}let j={get action(){return h},get location(){return e(o,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(km,v),p=k,()=>{o.removeEventListener(km,v),p=null}},createHref(k){return t(o,k)},createURL:b,encodeLocation(k){let C=b(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:_,go(k){return d.go(k)}};return j}function Jp(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Je(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:nn(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}var Ti,Nm=class{constructor(e){if(hx(this,Ti,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(Sc(this,Ti).has(e))return Sc(this,Ti).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Sc(this,Ti).set(e,t)}};Ti=new WeakMap;var gx=new Set(["lazy","caseSensitive","path","id","index","children"]);function yx(e){return gx.has(e)}var vx=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function xx(e){return vx.has(e)}function wx(e){return e.index===!0}function Fi(e,t,n=[],a={},o=!1){return e.map((u,d)=>{let h=[...n,String(d)],p=typeof u.id=="string"?u.id:h.join("-");if(Je(u.index!==!0||!u.children,"Cannot specify children on an index route"),Je(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),wx(u)){let m={...u,id:p};return a[p]=Sm(m,t(m)),m}else{let m={...u,id:p,children:void 0};return a[p]=Sm(m,t(m)),u.children&&(m.children=Fi(u.children,t,h,a,o)),m}})}function Sm(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function ns(e,t,n="/"){return Pi(e,t,n,!1)}function Pi(e,t,n,a){let o=typeof t=="string"?ds(t):t,u=Or(o.pathname||"/",n);if(u==null)return null;let d=Qp(e);_x(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let m=Ox(u);h=Tx(d[p],m,a)}return h}function bx(e,t){let{route:n,pathname:a,params:o}=e;return{id:n.id,pathname:a,params:o,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function Qp(e,t=[],n=[],a="",o=!1){let u=(d,h,p=o,m)=>{let y={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;Je(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let v=rn([a,y.relativePath]),x=n.concat(y);d.children&&d.children.length>0&&(Je(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Qp(d.children,t,x,v,p)),!(d.path==null&&!d.index)&&t.push({path:v,score:Rx(v,d.index),routesMeta:x})};return e.forEach((d,h)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))u(d,h);else for(let m of Yp(d.path))u(d,h,!0,m)}),t}function Yp(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let d=Yp(a.join("/")),h=[];return h.push(...d.map(p=>p===""?u:[u,p].join("/"))),o&&h.push(...d),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function _x(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ax(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var jx=/^:[\w-]+$/,kx=3,Ex=2,Nx=1,Sx=10,Cx=-2,Cm=e=>e==="*";function Rx(e,t){let n=e.split("/"),a=n.length;return n.some(Cm)&&(a+=Cx),t&&(a+=Ex),n.filter(o=>!Cm(o)).reduce((o,u)=>o+(jx.test(u)?kx:u===""?Nx:Sx),a)}function Ax(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function Tx(e,t,n=!1){let{routesMeta:a}=e,o={},u="/",d=[];for(let h=0;h<a.length;++h){let p=a[h],m=h===a.length-1,y=u==="/"?t:t.slice(u.length)||"/",v=kl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),x=p.route;if(!v&&m&&n&&!a[a.length-1].route.index&&(v=kl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!v)return null;Object.assign(o,v.params),d.push({params:o,pathname:rn([u,v.pathname]),pathnameBase:Dx(rn([u,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(u=rn([u,v.pathnameBase]))}return d}function kl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=Px(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:a.reduce((m,{paramName:y,isOptional:v},x)=>{if(y==="*"){let b=h[x]||"";d=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const _=h[x];return v&&!_?m[y]=void 0:m[y]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:d,pattern:e}}function Px(e,t=!1,n=!0){Tt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(a.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Ox(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Or(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}function Lx({basename:e,pathname:t}){return t==="/"?e:rn([e,t])}var Xp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bd=e=>Xp.test(e);function Ix(e,t="/"){let{pathname:n,search:a="",hash:o=""}=typeof e=="string"?ds(e):e,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=Rm(n.substring(1),"/"):u=Rm(n,t)):u=t,{pathname:u,search:$x(a),hash:Fx(o)}}function Rm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Cc(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _d(e){let t=Zp(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function jd(e,t,n,a=!1){let o;typeof e=="string"?o=ds(e):(o={...e},Je(!o.pathname||!o.pathname.includes("?"),Cc("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Cc("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Cc("#","search","hash",o)));let u=e===""||o.pathname==="",d=u?"/":o.pathname,h;if(d==null)h=n;else{let v=t.length-1;if(!a&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),v-=1;o.pathname=x.join("/")}h=v>=0?t[v]:"/"}let p=Ix(o,h),m=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var rn=e=>e.join("/").replace(/\/\/+/g,"/"),Dx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,El=(e,t=302)=>{let n=t;typeof n=="number"?n={status:n}:typeof n.status>"u"&&(n.status=302);let a=new Headers(n.headers);return a.set("Location",e),new Response(null,{...n,headers:a})},Ki=class{constructor(e,t,n,a=!1){this.status=e,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Mi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Gi(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tg(e,t){let n=e;if(typeof n!="string"||!Xp.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(eg)try{let u=new URL(window.location.href),d=n.startsWith("//")?new URL(u.protocol+n):new URL(n),h=Or(d.pathname,t);d.origin===u.origin&&h!=null?n=h+d.search+d.hash:o=!0}catch{Tt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}var os=Symbol("Uninstrumented");function Mx(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(o=>o({id:t.id,index:t.index,path:t.path,instrument(u){let d=Object.keys(n);for(let h of d)u[h]&&n[h].push(u[h])}}));let a={};if(typeof t.lazy=="function"&&n.lazy.length>0){let o=Na(n.lazy,t.lazy,()=>{});o&&(a.lazy=o)}if(typeof t.lazy=="object"){let o=t.lazy;["middleware","loader","action"].forEach(u=>{let d=o[u],h=n[`lazy.${u}`];if(typeof d=="function"&&h.length>0){let p=Na(h,d,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[u]:p}))}})}return["loader","action"].forEach(o=>{let u=t[o];if(typeof u=="function"&&n[o].length>0){let d=u[os]??u,h=Na(n[o],d,(...p)=>Am(p[0]));h&&(o==="loader"&&d.hydrate===!0&&(h.hydrate=!0),h[os]=d,a[o]=h)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(a.middleware=t.middleware.map(o=>{let u=o[os]??o,d=Na(n.middleware,u,(...h)=>Am(h[0]));return d?(d[os]=u,d):o})),a}function Ux(e,t){let n={navigate:[],fetch:[]};if(t.forEach(a=>a({instrument(o){let u=Object.keys(o);for(let d of u)o[d]&&n[d].push(o[d])}})),n.navigate.length>0){let a=e.navigate[os]??e.navigate,o=Na(n.navigate,a,(...u)=>{let[d,h]=u;return{to:typeof d=="number"||typeof d=="string"?d:d?nn(d):".",...Tm(e,h??{})}});o&&(o[os]=a,e.navigate=o)}if(n.fetch.length>0){let a=e.fetch[os]??e.fetch,o=Na(n.fetch,a,(...u)=>{let[d,,h,p]=u;return{href:h??".",fetcherKey:d,...Tm(e,p??{})}});o&&(o[os]=a,e.fetch=o)}return e}function Na(e,t,n){return e.length===0?null:async(...a)=>{let o=await rg(e,n(...a),()=>t(...a),e.length-1);if(o.type==="error")throw o.value;return o.value}}async function rg(e,t,n,a){let o=e[a],u;if(o){let d,h=async()=>(d?console.error("You cannot call instrumented handlers more than once"):d=rg(e,t,n,a-1),u=await d,Je(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(h,t)}catch(p){console.error("An instrumentation function threw an error:",p)}d||await h(),await d}else try{u={type:"success",value:await n()}}catch(d){u={type:"error",value:d}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Am(e){let{request:t,context:n,params:a,unstable_pattern:o}=e;return{request:zx(t),params:{...a},unstable_pattern:o,context:Bx(n)}}function Tm(e,t){return{currentUrl:nn(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function zx(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function Bx(e){if(qx(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var Vx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qx(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===Vx}var ng=["POST","PUT","PATCH","DELETE"],Hx=new Set(ng),Wx=["GET",...ng],Kx=new Set(Wx),sg=new Set([301,302,303,307,308]),Gx=new Set([307,308]),Rc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ki={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Qx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),ag="remix-router-transitions",ig=Symbol("ResetLoaderData");function Yx(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Je(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=e.hydrationRouteProperties||[],o=e.mapRouteProperties||Qx,u=o;if(e.unstable_instrumentations){let R=e.unstable_instrumentations;u=I=>({...o(I),...Mx(R.map(B=>B.route).filter(Boolean),I)})}let d={},h=Fi(e.routes,u,void 0,d),p,m=e.basename||"/";m.startsWith("/")||(m=`/${m}`);let y=e.dataStrategy||r0,v={...e.future},x=null,_=new Set,b=null,j=null,k=null,C=e.hydrationData!=null,A=ns(h,e.history.location,m),D=!1,W=null,J;if(A==null&&!e.patchRoutesOnNavigation){let R=Ar(404,{pathname:e.history.location.pathname}),{matches:I,route:B}=ll(h);J=!0,A=I,W={[B.id]:R}}else if(A&&!e.hydrationData&&fs(A,h,e.history.location.pathname).active&&(A=null),A)if(A.some(R=>R.route.lazy))J=!1;else if(!A.some(R=>kd(R.route)))J=!0;else{let R=e.hydrationData?e.hydrationData.loaderData:null,I=e.hydrationData?e.hydrationData.errors:null;if(I){let B=A.findIndex(Z=>I[Z.route.id]!==void 0);J=A.slice(0,B+1).every(Z=>!td(Z.route,R,I))}else J=A.every(B=>!td(B.route,R,I))}else{J=!1,A=[];let R=fs(null,h,e.history.location.pathname);R.active&&R.matches&&(D=!0,A=R.matches)}let z,S={historyAction:e.history.action,location:e.history.location,matches:A,initialized:J,navigation:Rc,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||W,fetchers:new Map,blockers:new Map},M="POP",Q=null,Re=!1,Le,pe=!1,G=new Map,re=null,oe=!1,he=!1,Y=new Set,$=new Map,ae=0,te=-1,O=new Map,K=new Set,fe=new Map,ge=new Map,Pe=new Set,Ue=new Map,Ie,We=null;function Xe(){if(x=e.history.listen(({action:R,location:I,delta:B})=>{if(Ie){Ie(),Ie=void 0;return}Tt(Ue.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=ln({currentLocation:S.location,nextLocation:I,historyAction:R});if(Z&&B!=null){let le=new Promise(Ne=>{Ie=Ne});e.history.go(B*-1),Tn(Z,{state:"blocked",location:I,proceed(){Tn(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:I}),le.then(()=>e.history.go(B))},reset(){let Ne=new Map(S.blockers);Ne.set(Z,ki),lt({blockers:Ne})}}),Q==null||Q.resolve(),Q=null;return}return mr(R,I)}),n){w0(t,G);let R=()=>b0(t,G);t.addEventListener("pagehide",R),re=()=>t.removeEventListener("pagehide",R)}return S.initialized||mr("POP",S.location,{initialHydration:!0}),z}function vt(){x&&x(),re&&re(),_.clear(),Le&&Le.abort(),S.fetchers.forEach((R,I)=>hs(I)),S.blockers.forEach((R,I)=>Hs(I))}function sr(R){return _.add(R),()=>_.delete(R)}function lt(R,I={}){R.matches&&(R.matches=R.matches.map(le=>{let Ne=d[le.route.id],Oe=le.route;return Oe.element!==Ne.element||Oe.errorElement!==Ne.errorElement||Oe.hydrateFallbackElement!==Ne.hydrateFallbackElement?{...le,route:Ne}:le})),S={...S,...R};let B=[],Z=[];S.fetchers.forEach((le,Ne)=>{le.state==="idle"&&(Pe.has(Ne)?B.push(Ne):Z.push(Ne))}),Pe.forEach(le=>{!S.fetchers.has(le)&&!$.has(le)&&B.push(le)}),[..._].forEach(le=>le(S,{deletedFetchers:B,newErrors:R.errors??null,viewTransitionOpts:I.viewTransitionOpts,flushSync:I.flushSync===!0})),B.forEach(le=>hs(le)),Z.forEach(le=>S.fetchers.delete(le))}function fr(R,I,{flushSync:B}={}){var qe,Ae;let Z=S.actionData!=null&&S.navigation.formMethod!=null&&Xt(S.navigation.formMethod)&&S.navigation.state==="loading"&&((qe=R.state)==null?void 0:qe._isRedirect)!==!0,le;I.actionData?Object.keys(I.actionData).length>0?le=I.actionData:le=null:Z?le=S.actionData:le=null;let Ne=I.loaderData?zm(S.loaderData,I.loaderData,I.matches||[],I.errors):S.loaderData,Oe=S.blockers;Oe.size>0&&(Oe=new Map(Oe),Oe.forEach((He,Qe)=>Oe.set(Qe,ki)));let ve=oe?!1:Ba(R,I.matches||S.matches),we=Re===!0||S.navigation.formMethod!=null&&Xt(S.navigation.formMethod)&&((Ae=R.state)==null?void 0:Ae._isRedirect)!==!0;p&&(h=p,p=void 0),oe||M==="POP"||(M==="PUSH"?e.history.push(R,R.state):M==="REPLACE"&&e.history.replace(R,R.state));let ke;if(M==="POP"){let He=G.get(S.location.pathname);He&&He.has(R.pathname)?ke={currentLocation:S.location,nextLocation:R}:G.has(R.pathname)&&(ke={currentLocation:R,nextLocation:S.location})}else if(pe){let He=G.get(S.location.pathname);He?He.add(R.pathname):(He=new Set([R.pathname]),G.set(S.location.pathname,He)),ke={currentLocation:S.location,nextLocation:R}}lt({...I,actionData:le,loaderData:Ne,historyAction:M,location:R,initialized:!0,navigation:Rc,revalidation:"idle",restoreScrollPosition:ve,preventScrollReset:we,blockers:Oe},{viewTransitionOpts:ke,flushSync:B===!0}),M="POP",Re=!1,pe=!1,oe=!1,he=!1,Q==null||Q.resolve(),Q=null,We==null||We.resolve(),We=null}async function an(R,I){if(Q==null||Q.resolve(),Q=null,typeof R=="number"){Q||(Q=Hm());let Qe=Q.promise;return e.history.go(R),Qe}let B=ed(S.location,S.matches,m,R,I==null?void 0:I.fromRouteId,I==null?void 0:I.relative),{path:Z,submission:le,error:Ne}=Pm(!1,B,I),Oe=S.location,ve=$i(S.location,Z,I&&I.state);ve={...ve,...e.history.encodeLocation(ve)};let we=I&&I.replace!=null?I.replace:void 0,ke="PUSH";we===!0?ke="REPLACE":we===!1||le!=null&&Xt(le.formMethod)&&le.formAction===S.location.pathname+S.location.search&&(ke="REPLACE");let qe=I&&"preventScrollReset"in I?I.preventScrollReset===!0:void 0,Ae=(I&&I.flushSync)===!0,He=ln({currentLocation:Oe,nextLocation:ve,historyAction:ke});if(He){Tn(He,{state:"blocked",location:ve,proceed(){Tn(He,{state:"proceeding",proceed:void 0,reset:void 0,location:ve}),an(R,I)},reset(){let Qe=new Map(S.blockers);Qe.set(He,ki),lt({blockers:Qe})}});return}await mr(ke,ve,{submission:le,pendingError:Ne,preventScrollReset:qe,replace:I&&I.replace,enableViewTransition:I&&I.viewTransition,flushSync:Ae,callSiteDefaultShouldRevalidate:I&&I.unstable_defaultShouldRevalidate})}function Bs(){We||(We=Hm()),se(),lt({revalidation:"loading"});let R=We.promise;return S.navigation.state==="submitting"?R:S.navigation.state==="idle"?(mr(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),R):(mr(M||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:pe===!0}),R)}async function mr(R,I,B){Le&&Le.abort(),Le=null,M=R,oe=(B&&B.startUninterruptedRevalidation)===!0,so(S.location,S.matches),Re=(B&&B.preventScrollReset)===!0,pe=(B&&B.enableViewTransition)===!0;let Z=p||h,le=B&&B.overrideNavigation,Ne=B!=null&&B.initialHydration&&S.matches&&S.matches.length>0&&!D?S.matches:ns(Z,I,m),Oe=(B&&B.flushSync)===!0;if(Ne&&S.initialized&&!he&&c0(S.location,I)&&!(B&&B.submission&&Xt(B.submission.formMethod))){fr(I,{matches:Ne},{flushSync:Oe});return}let ve=fs(Ne,Z,I.pathname);if(ve.active&&ve.matches&&(Ne=ve.matches),!Ne){let{error:kt,notFoundMatches:$t,route:nt}=Gr(I.pathname);fr(I,{matches:$t,loaderData:{},errors:{[nt.id]:kt}},{flushSync:Oe});return}Le=new AbortController;let we=_a(e.history,I,Le.signal,B&&B.submission),ke=e.getContext?await e.getContext():new Nm,qe;if(B&&B.pendingError)qe=[ss(Ne).route.id,{type:"error",error:B.pendingError}];else if(B&&B.submission&&Xt(B.submission.formMethod)){let kt=await En(we,I,B.submission,Ne,ke,ve.active,B&&B.initialHydration===!0,{replace:B.replace,flushSync:Oe});if(kt.shortCircuited)return;if(kt.pendingActionResult){let[$t,nt]=kt.pendingActionResult;if(br(nt)&&Mi(nt.error)&&nt.error.status===404){Le=null,fr(I,{matches:kt.matches,loaderData:{},errors:{[$t]:nt.error}});return}}Ne=kt.matches||Ne,qe=kt.pendingActionResult,le=Ac(I,B.submission),Oe=!1,ve.active=!1,we=_a(e.history,we.url,we.signal)}let{shortCircuited:Ae,matches:He,loaderData:Qe,errors:St}=await Vs(we,I,Ne,ke,ve.active,le,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,Oe,qe,B&&B.callSiteDefaultShouldRevalidate);Ae||(Le=null,fr(I,{matches:He||Ne,...Bm(qe),loaderData:Qe,errors:St}))}async function En(R,I,B,Z,le,Ne,Oe,ve={}){se();let we=v0(I,B);if(lt({navigation:we},{flushSync:ve.flushSync===!0}),Ne){let Ae=await Pn(Z,I.pathname,R.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){if(Ae.partialMatches.length===0){let{matches:Qe,route:St}=ll(h);return{matches:Qe,pendingActionResult:[St.id,{type:"error",error:Ae.error}]}}let He=ss(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[He,{type:"error",error:Ae.error}]}}else if(Ae.matches)Z=Ae.matches;else{let{notFoundMatches:He,error:Qe,route:St}=Gr(I.pathname);return{matches:He,pendingActionResult:[St.id,{type:"error",error:Qe}]}}}let ke,qe=wl(Z,I);if(!qe.route.action&&!qe.route.lazy)ke={type:"error",error:Ar(405,{method:R.method,pathname:I.pathname,routeId:qe.route.id})};else{let Ae=Ra(u,d,R,Z,qe,Oe?[]:a,le),He=await ce(R,Ae,le,null);if(ke=He[qe.route.id],!ke){for(let Qe of Z)if(He[Qe.route.id]){ke=He[Qe.route.id];break}}if(R.signal.aborted)return{shortCircuited:!0}}if($s(ke)){let Ae;return ve&&ve.replace!=null?Ae=ve.replace:Ae=Fm(ke.response.headers.get("Location"),new URL(R.url),m,e.history)===S.location.pathname+S.location.search,await H(R,ke,!0,{submission:B,replace:Ae}),{shortCircuited:!0}}if(br(ke)){let Ae=ss(Z,qe.route.id);return(ve&&ve.replace)!==!0&&(M="PUSH"),{matches:Z,pendingActionResult:[Ae.route.id,ke,qe.route.id]}}return{matches:Z,pendingActionResult:[qe.route.id,ke]}}async function Vs(R,I,B,Z,le,Ne,Oe,ve,we,ke,qe,Ae,He){let Qe=Ne||Ac(I,Oe),St=Oe||ve||qm(Qe),kt=!oe&&!ke;if(le){if(kt){let ot=Nn(Ae);lt({navigation:Qe,...ot!==void 0?{actionData:ot}:{}},{flushSync:qe})}let Ze=await Pn(B,I.pathname,R.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){if(Ze.partialMatches.length===0){let{matches:Ln,route:cn}=ll(h);return{matches:Ln,loaderData:{},errors:{[cn.id]:Ze.error}}}let ot=ss(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[ot]:Ze.error}}}else if(Ze.matches)B=Ze.matches;else{let{error:ot,notFoundMatches:Ln,route:cn}=Gr(I.pathname);return{matches:Ln,loaderData:{},errors:{[cn.id]:ot}}}}let $t=p||h,{dsMatches:nt,revalidatingFetchers:ar}=Om(R,Z,u,d,e.history,S,B,St,I,ke?[]:a,ke===!0,he,Y,Pe,fe,K,$t,m,e.patchRoutesOnNavigation!=null,Ae,He);if(te=++ae,!e.dataStrategy&&!nt.some(Ze=>Ze.shouldLoad)&&!nt.some(Ze=>Ze.route.middleware&&Ze.route.middleware.length>0)&&ar.length===0){let Ze=on();return fr(I,{matches:B,loaderData:{},errors:Ae&&br(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...Bm(Ae),...Ze?{fetchers:new Map(S.fetchers)}:{}},{flushSync:qe}),{shortCircuited:!0}}if(kt){let Ze={};if(!le){Ze.navigation=Qe;let ot=Nn(Ae);ot!==void 0&&(Ze.actionData=ot)}ar.length>0&&(Ze.fetchers=Sn(ar)),lt(Ze,{flushSync:qe})}ar.forEach(Ze=>{Wt(Ze.key),Ze.controller&&$.set(Ze.key,Ze.controller)});let at=()=>ar.forEach(Ze=>Wt(Ze.key));Le&&Le.signal.addEventListener("abort",at);let{loaderResults:ps,fetcherResults:jr}=await ue(nt,ar,R,Z);if(R.signal.aborted)return{shortCircuited:!0};Le&&Le.signal.removeEventListener("abort",at),ar.forEach(Ze=>$.delete(Ze.key));let pr=ul(ps);if(pr)return await H(R,pr.result,!0,{replace:we}),{shortCircuited:!0};if(pr=ul(jr),pr)return K.add(pr.key),await H(R,pr.result,!0,{replace:we}),{shortCircuited:!0};let{loaderData:On,errors:gs}=Um(S,B,ps,Ae,ar,jr);ke&&S.errors&&(gs={...S.errors,...gs});let Jr=on(),un=Rn(te),er=Jr||un||ar.length>0;return{matches:B,loaderData:On,errors:gs,...er?{fetchers:new Map(S.fetchers)}:{}}}function Nn(R){if(R&&!br(R[1]))return{[R[0]]:R[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Sn(R){return R.forEach(I=>{let B=S.fetchers.get(I.key),Z=Ei(void 0,B?B.data:void 0);S.fetchers.set(I.key,Z)}),new Map(S.fetchers)}async function Ir(R,I,B,Z){Wt(R);let le=(Z&&Z.flushSync)===!0,Ne=p||h,Oe=ed(S.location,S.matches,m,B,I,Z==null?void 0:Z.relative),ve=ns(Ne,Oe,m),we=fs(ve,Ne,Oe);if(we.active&&we.matches&&(ve=we.matches),!ve){Ve(R,I,Ar(404,{pathname:Oe}),{flushSync:le});return}let{path:ke,submission:qe,error:Ae}=Pm(!0,Oe,Z);if(Ae){Ve(R,I,Ae,{flushSync:le});return}let He=e.getContext?await e.getContext():new Nm,Qe=(Z&&Z.preventScrollReset)===!0;if(qe&&Xt(qe.formMethod)){await T(R,I,ke,ve,He,we.active,le,Qe,qe,Z&&Z.unstable_defaultShouldRevalidate);return}fe.set(R,{routeId:I,path:ke}),await V(R,I,ke,ve,He,we.active,le,Qe,qe)}async function T(R,I,B,Z,le,Ne,Oe,ve,we,ke){se(),fe.delete(R);let qe=S.fetchers.get(R);de(R,x0(we,qe),{flushSync:Oe});let Ae=new AbortController,He=_a(e.history,B,Ae.signal,we);if(Ne){let pt=await Pn(Z,new URL(He.url).pathname,He.signal,R);if(pt.type==="aborted")return;if(pt.type==="error"){Ve(R,I,pt.error,{flushSync:Oe});return}else if(pt.matches)Z=pt.matches;else{Ve(R,I,Ar(404,{pathname:B}),{flushSync:Oe});return}}let Qe=wl(Z,B);if(!Qe.route.action&&!Qe.route.lazy){let pt=Ar(405,{method:we.formMethod,pathname:B,routeId:I});Ve(R,I,pt,{flushSync:Oe});return}$.set(R,Ae);let St=ae,kt=Ra(u,d,He,Z,Qe,a,le),$t=await ce(He,kt,le,R),nt=$t[Qe.route.id];if(!nt){for(let pt of kt)if($t[pt.route.id]){nt=$t[pt.route.id];break}}if(He.signal.aborted){$.get(R)===Ae&&$.delete(R);return}if(Pe.has(R)){if($s(nt)||br(nt)){de(R,_n(void 0));return}}else{if($s(nt))if($.delete(R),te>St){de(R,_n(void 0));return}else return K.add(R),de(R,Ei(we)),H(He,nt,!1,{fetcherSubmission:we,preventScrollReset:ve});if(br(nt)){Ve(R,I,nt.error);return}}let ar=S.navigation.location||S.location,at=_a(e.history,ar,Ae.signal),ps=p||h,jr=S.navigation.state!=="idle"?ns(ps,S.navigation.location,m):S.matches;Je(jr,"Didn't find any matches after fetcher action");let pr=++ae;O.set(R,pr);let On=Ei(we,nt.data);S.fetchers.set(R,On);let{dsMatches:gs,revalidatingFetchers:Jr}=Om(at,le,u,d,e.history,S,jr,we,ar,a,!1,he,Y,Pe,fe,K,ps,m,e.patchRoutesOnNavigation!=null,[Qe.route.id,nt],ke);Jr.filter(pt=>pt.key!==R).forEach(pt=>{let dn=pt.key,ys=S.fetchers.get(dn),vs=Ei(void 0,ys?ys.data:void 0);S.fetchers.set(dn,vs),Wt(dn),pt.controller&&$.set(dn,pt.controller)}),lt({fetchers:new Map(S.fetchers)});let un=()=>Jr.forEach(pt=>Wt(pt.key));Ae.signal.addEventListener("abort",un);let{loaderResults:er,fetcherResults:Ze}=await ue(gs,Jr,at,le);if(Ae.signal.aborted)return;if(Ae.signal.removeEventListener("abort",un),O.delete(R),$.delete(R),Jr.forEach(pt=>$.delete(pt.key)),S.fetchers.has(R)){let pt=_n(nt.data);S.fetchers.set(R,pt)}let ot=ul(er);if(ot)return H(at,ot.result,!1,{preventScrollReset:ve});if(ot=ul(Ze),ot)return K.add(ot.key),H(at,ot.result,!1,{preventScrollReset:ve});let{loaderData:Ln,errors:cn}=Um(S,jr,er,void 0,Jr,Ze);Rn(pr),S.navigation.state==="loading"&&pr>te?(Je(M,"Expected pending action"),Le&&Le.abort(),fr(S.navigation.location,{matches:jr,loaderData:Ln,errors:cn,fetchers:new Map(S.fetchers)})):(lt({errors:cn,loaderData:zm(S.loaderData,Ln,jr,cn),fetchers:new Map(S.fetchers)}),he=!1)}async function V(R,I,B,Z,le,Ne,Oe,ve,we){let ke=S.fetchers.get(R);de(R,Ei(we,ke?ke.data:void 0),{flushSync:Oe});let qe=new AbortController,Ae=_a(e.history,B,qe.signal);if(Ne){let nt=await Pn(Z,new URL(Ae.url).pathname,Ae.signal,R);if(nt.type==="aborted")return;if(nt.type==="error"){Ve(R,I,nt.error,{flushSync:Oe});return}else if(nt.matches)Z=nt.matches;else{Ve(R,I,Ar(404,{pathname:B}),{flushSync:Oe});return}}let He=wl(Z,B);$.set(R,qe);let Qe=ae,St=Ra(u,d,Ae,Z,He,a,le),$t=(await ce(Ae,St,le,R))[He.route.id];if($.get(R)===qe&&$.delete(R),!Ae.signal.aborted){if(Pe.has(R)){de(R,_n(void 0));return}if($s($t))if(te>Qe){de(R,_n(void 0));return}else{K.add(R),await H(Ae,$t,!1,{preventScrollReset:ve});return}if(br($t)){Ve(R,I,$t.error);return}de(R,_n($t.data))}}async function H(R,I,B,{submission:Z,fetcherSubmission:le,preventScrollReset:Ne,replace:Oe}={}){B||(Q==null||Q.resolve(),Q=null),I.response.headers.has("X-Remix-Revalidate")&&(he=!0);let ve=I.response.headers.get("Location");Je(ve,"Expected a Location header on the redirect Response"),ve=Fm(ve,new URL(R.url),m,e.history);let we=$i(S.location,ve,{_isRedirect:!0});if(n){let St=!1;if(I.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(bd(ve)){const kt=Jp(ve,!0);St=kt.origin!==t.location.origin||Or(kt.pathname,m)==null}if(St){Oe?t.location.replace(ve):t.location.assign(ve);return}}Le=null;let ke=Oe===!0||I.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:qe,formAction:Ae,formEncType:He}=S.navigation;!Z&&!le&&qe&&Ae&&He&&(Z=qm(S.navigation));let Qe=Z||le;if(Gx.has(I.response.status)&&Qe&&Xt(Qe.formMethod))await mr(ke,we,{submission:{...Qe,formAction:ve},preventScrollReset:Ne||Re,enableViewTransition:B?pe:void 0});else{let St=Ac(we,Z);await mr(ke,we,{overrideNavigation:St,fetcherSubmission:le,preventScrollReset:Ne||Re,enableViewTransition:B?pe:void 0})}}async function ce(R,I,B,Z){var Oe;let le,Ne={};try{le=await s0(y,R,I,Z,B,!1)}catch(ve){return I.filter(we=>we.shouldLoad).forEach(we=>{Ne[we.route.id]={type:"error",error:ve}}),Ne}if(R.signal.aborted)return Ne;if(!Xt(R.method))for(let ve of I){if(((Oe=le[ve.route.id])==null?void 0:Oe.type)==="error")break;!le.hasOwnProperty(ve.route.id)&&!S.loaderData.hasOwnProperty(ve.route.id)&&(!S.errors||!S.errors.hasOwnProperty(ve.route.id))&&ve.shouldCallHandler()&&(le[ve.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ve.route.id}`)})}for(let[ve,we]of Object.entries(le))if(m0(we)){let ke=we.result;Ne[ve]={type:"redirect",response:l0(ke,R,ve,I,m)}}else Ne[ve]=await o0(we);return Ne}async function ue(R,I,B,Z){let le=ce(B,R,Z,null),Ne=Promise.all(I.map(async we=>{if(we.matches&&we.match&&we.request&&we.controller){let qe=(await ce(we.request,we.matches,Z,we.key))[we.match.route.id];return{[we.key]:qe}}else return Promise.resolve({[we.key]:{type:"error",error:Ar(404,{pathname:we.path})}})})),Oe=await le,ve=(await Ne).reduce((we,ke)=>Object.assign(we,ke),{});return{loaderResults:Oe,fetcherResults:ve}}function se(){he=!0,fe.forEach((R,I)=>{$.has(I)&&Y.add(I),Wt(I)})}function de(R,I,B={}){S.fetchers.set(R,I),lt({fetchers:new Map(S.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Ve(R,I,B,Z={}){let le=ss(S.matches,I);hs(R),lt({errors:{[le.route.id]:B},fetchers:new Map(S.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function st(R){return ge.set(R,(ge.get(R)||0)+1),Pe.has(R)&&Pe.delete(R),S.fetchers.get(R)||Jx}function mt(R,I){Wt(R,I==null?void 0:I.reason),de(R,_n(null))}function hs(R){let I=S.fetchers.get(R);$.has(R)&&!(I&&I.state==="loading"&&O.has(R))&&Wt(R),fe.delete(R),O.delete(R),K.delete(R),Pe.delete(R),Y.delete(R),S.fetchers.delete(R)}function Cn(R){let I=(ge.get(R)||0)-1;I<=0?(ge.delete(R),Pe.add(R)):ge.set(R,I),lt({fetchers:new Map(S.fetchers)})}function Wt(R,I){let B=$.get(R);B&&(B.abort(I),$.delete(R))}function qs(R){for(let I of R){let B=st(I),Z=_n(B.data);S.fetchers.set(I,Z)}}function on(){let R=[],I=!1;for(let B of K){let Z=S.fetchers.get(B);Je(Z,`Expected fetcher: ${B}`),Z.state==="loading"&&(K.delete(B),R.push(B),I=!0)}return qs(R),I}function Rn(R){let I=[];for(let[B,Z]of O)if(Z<R){let le=S.fetchers.get(B);Je(le,`Expected fetcher: ${B}`),le.state==="loading"&&(Wt(B),O.delete(B),I.push(B))}return qs(I),I.length>0}function An(R,I){let B=S.blockers.get(R)||ki;return Ue.get(R)!==I&&Ue.set(R,I),B}function Hs(R){S.blockers.delete(R),Ue.delete(R)}function Tn(R,I){let B=S.blockers.get(R)||ki;Je(B.state==="unblocked"&&I.state==="blocked"||B.state==="blocked"&&I.state==="blocked"||B.state==="blocked"&&I.state==="proceeding"||B.state==="blocked"&&I.state==="unblocked"||B.state==="proceeding"&&I.state==="unblocked",`Invalid blocker state transition: ${B.state} -> ${I.state}`);let Z=new Map(S.blockers);Z.set(R,I),lt({blockers:Z})}function ln({currentLocation:R,nextLocation:I,historyAction:B}){if(Ue.size===0)return;Ue.size>1&&Tt(!1,"A router only supports one blocker at a time");let Z=Array.from(Ue.entries()),[le,Ne]=Z[Z.length-1],Oe=S.blockers.get(le);if(!(Oe&&Oe.state==="proceeding")&&Ne({currentLocation:R,nextLocation:I,historyAction:B}))return le}function Gr(R){let I=Ar(404,{pathname:R}),B=p||h,{matches:Z,route:le}=ll(B);return{notFoundMatches:Z,route:le,error:I}}function no(R,I,B){if(b=R,k=I,j=B||null,!C&&S.navigation===Rc){C=!0;let Z=Ba(S.location,S.matches);Z!=null&&lt({restoreScrollPosition:Z})}return()=>{b=null,k=null,j=null}}function za(R,I){return j&&j(R,I.map(Z=>bx(Z,S.loaderData)))||R.key}function so(R,I){if(b&&k){let B=za(R,I);b[B]=k()}}function Ba(R,I){if(b){let B=za(R,I),Z=b[B];if(typeof Z=="number")return Z}return null}function fs(R,I,B){if(e.patchRoutesOnNavigation)if(R){if(Object.keys(R[0].params).length>0)return{active:!0,matches:Pi(I,B,m,!0)}}else return{active:!0,matches:Pi(I,B,m,!0)||[]};return{active:!1,matches:null}}async function Pn(R,I,B,Z){if(!e.patchRoutesOnNavigation)return{type:"success",matches:R};let le=R;for(;;){let Ne=p==null,Oe=p||h,ve=d;try{await e.patchRoutesOnNavigation({signal:B,path:I,matches:le,fetcherKey:Z,patch:(qe,Ae)=>{B.aborted||Lm(qe,Ae,Oe,ve,u,!1)}})}catch(qe){return{type:"error",error:qe,partialMatches:le}}finally{Ne&&!B.aborted&&(h=[...h])}if(B.aborted)return{type:"aborted"};let we=ns(Oe,I,m),ke=null;if(we){if(Object.keys(we[0].params).length===0)return{type:"success",matches:we};if(ke=Pi(Oe,I,m,!0),!(ke&&le.length<ke.length&&Va(le,ke.slice(0,le.length))))return{type:"success",matches:we}}if(ke||(ke=Pi(Oe,I,m,!0)),!ke||Va(le,ke))return{type:"success",matches:null};le=ke}}function Va(R,I){return R.length===I.length&&R.every((B,Z)=>B.route.id===I[Z].route.id)}function ms(R){d={},p=Fi(R,u,void 0,d)}function qa(R,I,B=!1){let Z=p==null;Lm(R,I,p||h,d,u,B),Z&&(h=[...h],lt({}))}return z={get basename(){return m},get future(){return v},get state(){return S},get routes(){return h},get window(){return t},initialize:Xe,subscribe:sr,enableScrollRestoration:no,navigate:an,fetch:Ir,revalidate:Bs,createHref:R=>e.history.createHref(R),encodeLocation:R=>e.history.encodeLocation(R),getFetcher:st,resetFetcher:mt,deleteFetcher:Cn,dispose:vt,getBlocker:An,deleteBlocker:Hs,patchRoutes:qa,_internalFetchControllers:$,_internalSetRoutes:ms,_internalSetStateDoNotUseOrYouWillBreakYourApp(R){lt(R)}},e.unstable_instrumentations&&(z=Ux(z,e.unstable_instrumentations.map(R=>R.router).filter(Boolean))),z}function Xx(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ed(e,t,n,a,o,u){let d,h;if(o){d=[];for(let m of t)if(d.push(m),m.route.id===o){h=m;break}}else d=t,h=t[t.length-1];let p=jd(a||".",_d(d),Or(e.pathname,n)||e.pathname,u==="path");if(a==null&&(p.search=e.search,p.hash=e.hash),(a==null||a===""||a===".")&&h){let m=Nd(p.search);if(h.route.index&&!m)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let y=new URLSearchParams(p.search),v=y.getAll("index");y.delete("index"),v.filter(_=>_).forEach(_=>y.append("index",_));let x=y.toString();p.search=x?`?${x}`:""}}return n!=="/"&&(p.pathname=Lx({basename:n,pathname:p.pathname})),nn(p)}function Pm(e,t,n){if(!n||!Xx(n))return{path:t};if(n.formMethod&&!y0(n.formMethod))return{path:t,error:Ar(405,{method:n.formMethod})};let a=()=>({path:t,error:Ar(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),d=hg(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Xt(u))return a();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[_,b])=>`${x}${_}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:u,formAction:d,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!Xt(u))return a();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:u,formAction:d,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return a()}}}Je(typeof FormData=="function","FormData is not available in this environment");let h,p;if(n.formData)h=nd(n.formData),p=n.formData;else if(n.body instanceof FormData)h=nd(n.body),p=n.body;else if(n.body instanceof URLSearchParams)h=n.body,p=Mm(h);else if(n.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(n.body),p=Mm(h)}catch{return a()}let m={formMethod:u,formAction:d,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Xt(m.formMethod))return{path:t,submission:m};let y=ds(t);return e&&y.search&&Nd(y.search)&&h.append("index",""),y.search=`?${h}`,{path:nn(y),submission:m}}function Om(e,t,n,a,o,u,d,h,p,m,y,v,x,_,b,j,k,C,A,D,W){var oe;let J=D?br(D[1])?D[1].error:D[1].data:void 0,z=o.createURL(u.location),S=o.createURL(p),M;if(y&&u.errors){let he=Object.keys(u.errors)[0];M=d.findIndex(Y=>Y.route.id===he)}else if(D&&br(D[1])){let he=D[0];M=d.findIndex(Y=>Y.route.id===he)-1}let Q=D?D[1].statusCode:void 0,Re=Q&&Q>=400,Le={currentUrl:z,currentParams:((oe=u.matches[0])==null?void 0:oe.params)||{},nextUrl:S,nextParams:d[0].params,...h,actionResult:J,actionStatus:Q},pe=Gi(d),G=d.map((he,Y)=>{let{route:$}=he,ae=null;if(M!=null&&Y>M?ae=!1:$.lazy?ae=!0:kd($)?y?ae=td($,u.loaderData,u.errors):Zx(u.loaderData,u.matches[Y],he)&&(ae=!0):ae=!1,ae!==null)return rd(n,a,e,pe,he,m,t,ae);let te=!1;typeof W=="boolean"?te=W:Re?te=!1:(v||z.pathname+z.search===S.pathname+S.search||z.search!==S.search||e0(u.matches[Y],he))&&(te=!0);let O={...Le,defaultShouldRevalidate:te},K=Li(he,O);return rd(n,a,e,pe,he,m,t,K,O,W)}),re=[];return b.forEach((he,Y)=>{if(y||!d.some(Pe=>Pe.route.id===he.routeId)||_.has(Y))return;let $=u.fetchers.get(Y),ae=$&&$.state!=="idle"&&$.data===void 0,te=ns(k,he.path,C);if(!te){if(A&&ae)return;re.push({key:Y,routeId:he.routeId,path:he.path,matches:null,match:null,request:null,controller:null});return}if(j.has(Y))return;let O=wl(te,he.path),K=new AbortController,fe=_a(o,he.path,K.signal),ge=null;if(x.has(Y))x.delete(Y),ge=Ra(n,a,fe,te,O,m,t);else if(ae)v&&(ge=Ra(n,a,fe,te,O,m,t));else{let Pe;typeof W=="boolean"?Pe=W:Re?Pe=!1:Pe=v;let Ue={...Le,defaultShouldRevalidate:Pe};Li(O,Ue)&&(ge=Ra(n,a,fe,te,O,m,t,Ue))}ge&&re.push({key:Y,routeId:he.routeId,path:he.path,matches:ge,match:O,request:fe,controller:K})}),{dsMatches:G,revalidatingFetchers:re}}function kd(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function td(e,t,n){if(e.lazy)return!0;if(!kd(e))return!1;let a=t!=null&&e.id in t,o=n!=null&&n[e.id]!==void 0;return!a&&o?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!o}function Zx(e,t,n){let a=!t||n.route.id!==t.route.id,o=!e.hasOwnProperty(n.route.id);return a||o}function e0(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Li(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function Lm(e,t,n,a,o,u){let d;if(e){let m=a[e];Je(m,`No route found to patch children into: routeId = ${e}`),m.children||(m.children=[]),d=m.children}else d=n;let h=[],p=[];if(t.forEach(m=>{let y=d.find(v=>og(m,v));y?p.push({existingRoute:y,newRoute:m}):h.push(m)}),h.length>0){let m=Fi(h,o,[e||"_","patch",String((d==null?void 0:d.length)||"0")],a);d.push(...m)}if(u&&p.length>0)for(let m=0;m<p.length;m++){let{existingRoute:y,newRoute:v}=p[m],x=y,[_]=Fi([v],o,[],{},!0);Object.assign(x,{element:_.element?_.element:x.element,errorElement:_.errorElement?_.errorElement:x.errorElement,hydrateFallbackElement:_.hydrateFallbackElement?_.hydrateFallbackElement:x.hydrateFallbackElement})}}function og(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,a)=>{var o;return(o=t.children)==null?void 0:o.some(u=>og(n,u))}):!1}var Im=new WeakMap,lg=({key:e,route:t,manifest:n,mapRouteProperties:a})=>{let o=n[t.id];if(Je(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[e];if(!u)return;let d=Im.get(o);d||(d={},Im.set(o,d));let h=d[e];if(h)return h;let p=(async()=>{let m=yx(e),v=o[e]!==void 0&&e!=="hasErrorBoundary";if(m)Tt(!m,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),d[e]=Promise.resolve();else if(v)Tt(!1,`Route "${o.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await u();x!=null&&(Object.assign(o,{[e]:x}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[e]=void 0,Object.values(o.lazy).every(x=>x===void 0)&&(o.lazy=void 0))})();return d[e]=p,p},Dm=new WeakMap;function t0(e,t,n,a,o){let u=n[e.id];if(Je(u,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let y=Dm.get(u);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let v=(async()=>{Je(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),_={};for(let b in x){let j=x[b];if(j===void 0)continue;let k=xx(b),A=u[b]!==void 0&&b!=="hasErrorBoundary";k?Tt(!k,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Tt(!A,`Route "${u.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):_[b]=j}Object.assign(u,_),Object.assign(u,{...a(u),lazy:void 0})})();return Dm.set(u,v),v.catch(()=>{}),{lazyRoutePromise:v,lazyHandlerPromise:v}}let d=Object.keys(e.lazy),h=[],p;for(let y of d){if(o&&o.includes(y))continue;let v=lg({key:y,route:e,manifest:n,mapRouteProperties:a});v&&(h.push(v),y===t&&(p=v))}let m=h.length>0?Promise.all(h).then(()=>{}):void 0;return m==null||m.catch(()=>{}),p==null||p.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:p}}async function $m(e){let t=e.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(t.map(o=>o.resolve()))).forEach((o,u)=>{n[t[u].route.id]=o}),n}async function r0(e){return e.matches.some(t=>t.route.middleware)?ug(e,()=>$m(e)):$m(e)}function ug(e,t){return n0(e,t,a=>{if(g0(a))throw a;return a},h0,n);function n(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:d}=e,h=Math.min(Math.max(d.findIndex(m=>m.route.id===o),0),Math.max(d.findIndex(m=>m.shouldCallHandler()),0)),p=ss(d,d[h].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function n0(e,t,n,a,o){let{matches:u,request:d,params:h,context:p,unstable_pattern:m}=e,y=u.flatMap(x=>x.route.middleware?x.route.middleware.map(_=>[x.route.id,_]):[]);return await cg({request:d,params:h,context:p,unstable_pattern:m},y,t,n,a,o)}async function cg(e,t,n,a,o,u,d=0){let{request:h}=e;if(h.signal.aborted)throw h.signal.reason??new Error(`Request aborted: ${h.method} ${h.url}`);let p=t[d];if(!p)return await n();let[m,y]=p,v,x=async()=>{if(v)throw new Error("You may only call `next()` once per middleware");try{return v={value:await cg(e,t,n,a,o,u,d+1)},v.value}catch(_){return v={value:await u(_,m,v)},v.value}};try{let _=await y(e,x),b=_!=null?a(_):void 0;return o(b)?b:v?b??v.value:(v={value:await x()},v.value)}catch(_){return await u(_,m,v)}}function dg(e,t,n,a,o){let u=lg({key:"middleware",route:a.route,manifest:t,mapRouteProperties:e}),d=t0(a.route,Xt(n.method)?"action":"loader",t,e,o);return{middleware:u,route:d.lazyRoutePromise,handler:d.lazyHandlerPromise}}function rd(e,t,n,a,o,u,d,h,p=null,m){let y=!1,v=dg(e,t,n,o,u);return{...o,_lazyPromises:v,shouldLoad:h,shouldRevalidateArgs:p,shouldCallHandler(x){return y=!0,p?typeof m=="boolean"?Li(o,{...p,defaultShouldRevalidate:m}):typeof x=="boolean"?Li(o,{...p,defaultShouldRevalidate:x}):Li(o,p):h},resolve(x){let{lazy:_,loader:b,middleware:j}=o.route,k=y||h||x&&!Xt(n.method)&&(_||b),C=j&&j.length>0&&!b&&!_;return k&&(Xt(n.method)||!C)?a0({request:n,unstable_pattern:a,match:o,lazyHandlerPromise:v==null?void 0:v.handler,lazyRoutePromise:v==null?void 0:v.route,handlerOverride:x,scopedContext:d}):Promise.resolve({type:"data",result:void 0})}}}function Ra(e,t,n,a,o,u,d,h=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,shouldRevalidateArgs:h,shouldCallHandler:()=>!1,_lazyPromises:dg(e,t,n,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rd(e,t,n,Gi(a),p,u,d,!0,h))}async function s0(e,t,n,a,o,u){n.some(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware}));let d={request:t,unstable_pattern:Gi(n),params:n[0].params,context:o,matches:n},p=await e({...d,fetcherKey:a,runClientMiddleware:m=>{let y=d;return ug(y,()=>m({...y,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(m=>{var y,v;return[(y=m._lazyPromises)==null?void 0:y.handler,(v=m._lazyPromises)==null?void 0:v.route]}))}catch{}return p}async function a0({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:u,scopedContext:d}){let h,p,m=Xt(e.method),y=m?"action":"loader",v=x=>{let _,b=new Promise((C,A)=>_=A);p=()=>_(),e.signal.addEventListener("abort",p);let j=C=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${y}" [routeId: ${n.route.id}]`)):x({request:e,unstable_pattern:t,params:n.params,context:d},...C!==void 0?[C]:[]),k=(async()=>{try{return{type:"data",result:await(u?u(A=>j(A)):j())}}catch(C){return{type:"error",result:C}}})();return Promise.race([k,b])};try{let x=m?n.route.action:n.route.loader;if(a||o)if(x){let _,[b]=await Promise.all([v(x).catch(j=>{_=j}),a,o]);if(_!==void 0)throw _;h=b}else{await a;let _=m?n.route.action:n.route.loader;if(_)[h]=await Promise.all([v(_),o]);else if(y==="action"){let b=new URL(e.url),j=b.pathname+b.search;throw Ar(405,{method:e.method,pathname:j,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(x)h=await v(x);else{let _=new URL(e.url),b=_.pathname+_.search;throw Ar(404,{pathname:b})}}catch(x){return{type:"error",result:x}}finally{p&&e.signal.removeEventListener("abort",p)}return h}async function i0(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function o0(e){var a,o,u,d,h;let{result:t,type:n}=e;if(Ed(t)){let p;try{p=await i0(t)}catch(m){return{type:"error",error:m}}return n==="error"?{type:"error",error:new Ki(t.status,t.statusText,p),statusCode:t.status,headers:t.headers}:{type:"data",data:p,statusCode:t.status,headers:t.headers}}return n==="error"?Vm(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(o=t.init)!=null&&o.headers?new Headers(t.init.headers):void 0}:{type:"error",error:d0(t),statusCode:Mi(t)?t.status:void 0,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Mi(t)?t.status:void 0}:Vm(t)?{type:"data",data:t.data,statusCode:(d=t.init)==null?void 0:d.status,headers:(h=t.init)!=null&&h.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function l0(e,t,n,a,o){let u=e.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!bd(u)){let d=a.slice(0,a.findIndex(h=>h.route.id===n)+1);u=ed(new URL(t.url),d,o,u),e.headers.set("Location",u)}return e}function Fm(e,t,n,a){let o=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(bd(e)){let u=e,d=u.startsWith("//")?new URL(t.protocol+u):new URL(u);if(o.includes(d.protocol))throw new Error("Invalid redirect location");let h=Or(d.pathname,n)!=null;if(d.origin===t.origin&&h)return d.pathname+d.search+d.hash}try{let u=a.createURL(e);if(o.includes(u.protocol))throw new Error("Invalid redirect location")}catch{}return e}function _a(e,t,n,a){let o=e.createURL(hg(t)).toString(),u={signal:n};if(a&&Xt(a.formMethod)){let{formMethod:d,formEncType:h}=a;u.method=d.toUpperCase(),h==="application/json"?(u.headers=new Headers({"Content-Type":h}),u.body=JSON.stringify(a.json)):h==="text/plain"?u.body=a.text:h==="application/x-www-form-urlencoded"&&a.formData?u.body=nd(a.formData):u.body=a.formData}return new Request(o,u)}function nd(e){let t=new URLSearchParams;for(let[n,a]of e.entries())t.append(n,typeof a=="string"?a:a.name);return t}function Mm(e){let t=new FormData;for(let[n,a]of e.entries())t.append(n,a);return t}function u0(e,t,n,a=!1,o=!1){let u={},d=null,h,p=!1,m={},y=n&&br(n[1])?n[1].error:void 0;return e.forEach(v=>{if(!(v.route.id in t))return;let x=v.route.id,_=t[x];if(Je(!$s(_),"Cannot handle redirect results in processLoaderData"),br(_)){let b=_.error;if(y!==void 0&&(b=y,y=void 0),d=d||{},o)d[x]=b;else{let j=ss(e,x);d[j.route.id]==null&&(d[j.route.id]=b)}a||(u[x]=ig),p||(p=!0,h=Mi(_.error)?_.error.status:500),_.headers&&(m[x]=_.headers)}else u[x]=_.data,_.statusCode&&_.statusCode!==200&&!p&&(h=_.statusCode),_.headers&&(m[x]=_.headers)}),y!==void 0&&n&&(d={[n[0]]:y},n[2]&&(u[n[2]]=void 0)),{loaderData:u,errors:d,statusCode:h||200,loaderHeaders:m}}function Um(e,t,n,a,o,u){let{loaderData:d,errors:h}=u0(t,n,a);return o.filter(p=>!p.matches||p.matches.some(m=>m.shouldLoad)).forEach(p=>{let{key:m,match:y,controller:v}=p;if(v&&v.signal.aborted)return;let x=u[m];if(Je(x,"Did not find corresponding fetcher result"),br(x)){let _=ss(e.matches,y==null?void 0:y.route.id);h&&h[_.route.id]||(h={...h,[_.route.id]:x.error}),e.fetchers.delete(m)}else if($s(x))Je(!1,"Unhandled fetcher revalidation redirect");else{let _=_n(x.data);e.fetchers.set(m,_)}}),{loaderData:d,errors:h}}function zm(e,t,n,a){let o=Object.entries(t).filter(([,u])=>u!==ig).reduce((u,[d,h])=>(u[d]=h,u),{});for(let u of n){let d=u.route.id;if(!t.hasOwnProperty(d)&&e.hasOwnProperty(d)&&u.route.loader&&(o[d]=e[d]),a&&a.hasOwnProperty(d))break}return o}function Bm(e){return e?br(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ss(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function ll(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ar(e,{pathname:t,routeId:n,method:a,type:o,message:u}={}){let d="Unknown Server Error",h="Unknown @remix-run/router error";return e===400?(d="Bad Request",a&&t&&n?h=`You made a ${a} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(h="Unable to encode submission body")):e===403?(d="Forbidden",h=`Route "${n}" does not match URL "${t}"`):e===404?(d="Not Found",h=`No route matches URL "${t}"`):e===405&&(d="Method Not Allowed",a&&t&&n?h=`You made a ${a.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:a&&(h=`Invalid request method "${a.toUpperCase()}"`)),new Ki(e||500,d,new Error(h),!0)}function ul(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[a,o]=t[n];if($s(o))return{key:a,result:o}}}function hg(e){let t=typeof e=="string"?ds(e):e;return nn({...t,hash:""})}function c0(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function d0(e){var t,n;return new Ki(((t=e.init)==null?void 0:t.status)??500,((n=e.init)==null?void 0:n.statusText)??"Internal Server Error",e.data)}function h0(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&f0(n))}function f0(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function m0(e){return Ed(e.result)&&sg.has(e.result.status)}function br(e){return e.type==="error"}function $s(e){return(e&&e.type)==="redirect"}function Vm(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ed(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function p0(e){return sg.has(e)}function g0(e){return Ed(e)&&p0(e.status)&&e.headers.has("Location")}function y0(e){return Kx.has(e.toUpperCase())}function Xt(e){return Hx.has(e.toUpperCase())}function Nd(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function wl(e,t){let n=typeof t=="string"?ds(t).search:t.search;if(e[e.length-1].route.index&&Nd(n||""))return e[e.length-1];let a=Zp(e);return a[a.length-1]}function qm(e){let{formMethod:t,formAction:n,formEncType:a,text:o,formData:u,json:d}=e;if(!(!t||!n||!a)){if(o!=null)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:t,formAction:n,formEncType:a,formData:u,json:void 0,text:void 0};if(d!==void 0)return{formMethod:t,formAction:n,formEncType:a,formData:void 0,json:d,text:void 0}}}function Ac(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function v0(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Ei(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function x0(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function _n(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function w0(e,t){try{let n=e.sessionStorage.getItem(ag);if(n){let a=JSON.parse(n);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&t.set(o,new Set(u||[]))}}catch{}}function b0(e,t){if(t.size>0){let n={};for(let[a,o]of t)n[a]=[...o];try{e.sessionStorage.setItem(ag,JSON.stringify(n))}catch(a){Tt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function Hm(){let e,t,n=new Promise((a,o)=>{e=async u=>{a(u);try{await n}catch{}},t=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var zs=E.createContext(null);zs.displayName="DataRouter";var Ji=E.createContext(null);Ji.displayName="DataRouterState";var fg=E.createContext(!1);function _0(){return E.useContext(fg)}var Sd=E.createContext({isTransitioning:!1});Sd.displayName="ViewTransition";var mg=E.createContext(new Map);mg.displayName="Fetchers";var j0=E.createContext(null);j0.displayName="Await";var Lr=E.createContext(null);Lr.displayName="Navigation";var Ll=E.createContext(null);Ll.displayName="Location";var Kr=E.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var Cd=E.createContext(null);Cd.displayName="RouteError";var pg="REACT_ROUTER_ERROR",k0="REDIRECT",E0="ROUTE_ERROR_RESPONSE";function N0(e){if(e.startsWith(`${pg}:${k0}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function S0(e){if(e.startsWith(`${pg}:${E0}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Ki(t.status,t.statusText,t.data)}catch{}}function C0(e,{relative:t}={}){Je(Qi(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=E.useContext(Lr),{hash:o,pathname:u,search:d}=Xi(e,{relative:t}),h=u;return n!=="/"&&(h=u==="/"?n:rn([n,u])),a.createHref({pathname:h,search:d,hash:o})}function Qi(){return E.useContext(Ll)!=null}function sn(){return Je(Qi(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Ll).location}var gg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yg(e){E.useContext(Lr).static||E.useLayoutEffect(e)}function Da(){let{isDataRoute:e}=E.useContext(Kr);return e?V0():R0()}function R0(){Je(Qi(),"useNavigate() may be used only in the context of a <Router> component.");let e=E.useContext(zs),{basename:t,navigator:n}=E.useContext(Lr),{matches:a}=E.useContext(Kr),{pathname:o}=sn(),u=JSON.stringify(_d(a)),d=E.useRef(!1);return yg(()=>{d.current=!0}),E.useCallback((p,m={})=>{if(Tt(d.current,gg),!d.current)return;if(typeof p=="number"){n.go(p);return}let y=jd(p,JSON.parse(u),o,m.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:rn([t,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[t,n,u,o,e])}var A0=E.createContext(null);function T0(e){let t=E.useContext(Kr).outlet;return E.useMemo(()=>t&&E.createElement(A0.Provider,{value:e},t),[t,e])}function Yi(){let{matches:e}=E.useContext(Kr),t=e[e.length-1];return t?t.params:{}}function Xi(e,{relative:t}={}){let{matches:n}=E.useContext(Kr),{pathname:a}=sn(),o=JSON.stringify(_d(n));return E.useMemo(()=>jd(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function P0(e,t,n,a,o){Je(Qi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=E.useContext(Lr),{matches:d}=E.useContext(Kr),h=d[d.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let A=v&&v.path||"";xg(m,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=sn(),_;_=x;let b=_.pathname||"/",j=b;if(y!=="/"){let A=y.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let k=ns(e,{pathname:j});return Tt(v||k!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Tt(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),$0(k&&k.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:rn([y,u.encodeLocation?u.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?y:rn([y,u.encodeLocation?u.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),d,n,a,o)}function O0(){let e=B0(),t=Mi(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:u},"ErrorBoundary")," or"," ",E.createElement("code",{style:u},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:o},n):null,d)}var L0=E.createElement(O0,null),vg=class extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=S0(e.digest);n&&(e=n)}let t=e!==void 0?E.createElement(Kr.Provider,{value:this.props.routeContext},E.createElement(Cd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?E.createElement(I0,{error:e},t):t}};vg.contextType=fg;var Tc=new WeakMap;function I0({children:e,error:t}){let{basename:n}=E.useContext(Lr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=N0(t.digest);if(a){let o=Tc.get(t);if(o)throw o;let u=tg(a.location,n);if(eg&&!Tc.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Tc.set(t,d),d}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function D0({routeContext:e,match:t,children:n}){let a=E.useContext(zs);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),E.createElement(Kr.Provider,{value:e},n)}function $0(e,t=[],n=null,a=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,d=n==null?void 0:n.errors;if(d!=null){let y=u.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);Je(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let h=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let v=u[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:x,errors:_}=n,b=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||b){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=n&&a?(y,v)=>{var x,_;a(y,{location:n.location,params:((_=(x=n.matches)==null?void 0:x[0])==null?void 0:_.params)??{},unstable_pattern:Gi(n.matches),errorInfo:v})}:void 0;return u.reduceRight((y,v,x)=>{let _,b=!1,j=null,k=null;n&&(_=d&&v.route.id?d[v.route.id]:void 0,j=v.route.errorElement||L0,h&&(p<0&&x===0?(xg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):p===x&&(b=!0,k=v.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,x+1)),A=()=>{let D;return _?D=j:b?D=k:v.route.Component?D=E.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=y,E.createElement(D0,{match:v,routeContext:{outlet:y,matches:C,isDataRoute:n!=null},children:D})};return n&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?E.createElement(vg,{location:n.location,revalidation:n.revalidation,component:j,error:_,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):A()},null)}function Rd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(e){let t=E.useContext(zs);return Je(t,Rd(e)),t}function M0(e){let t=E.useContext(Ji);return Je(t,Rd(e)),t}function U0(e){let t=E.useContext(Kr);return Je(t,Rd(e)),t}function Ad(e){let t=U0(e),n=t.matches[t.matches.length-1];return Je(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function z0(){return Ad("useRouteId")}function B0(){var a;let e=E.useContext(Cd),t=M0("useRouteError"),n=Ad("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function V0(){let{router:e}=F0("useNavigate"),t=Ad("useNavigate"),n=E.useRef(!1);return yg(()=>{n.current=!0}),E.useCallback(async(o,u={})=>{Tt(n.current,gg),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var Wm={};function xg(e,t,n){!t&&!Wm[e]&&(Wm[e]=!0,Tt(!1,n))}var Km={};function Gm(e,t){!e&&!Km[t]&&(Km[t]=!0,console.warn(t))}var q0="useOptimistic",Jm=cx[q0],H0=()=>{};function W0(e){return Jm?Jm(e):[e,H0]}function K0(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Tt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:E.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Tt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:E.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Tt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var G0=["HydrateFallback","hydrateFallbackElement"],J0=class{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",t(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",n(a))}})}};function Q0({router:e,flushSync:t,onError:n,unstable_useTransitions:a}){a=_0()||a;let[u,d]=E.useState(e.state),[h,p]=W0(u),[m,y]=E.useState(),[v,x]=E.useState({isTransitioning:!1}),[_,b]=E.useState(),[j,k]=E.useState(),[C,A]=E.useState(),D=E.useRef(new Map),W=E.useCallback((M,{deletedFetchers:Q,newErrors:Re,flushSync:Le,viewTransitionOpts:pe})=>{Re&&n&&Object.values(Re).forEach(re=>{var oe;return n(re,{location:M.location,params:((oe=M.matches[0])==null?void 0:oe.params)??{},unstable_pattern:Gi(M.matches)})}),M.fetchers.forEach((re,oe)=>{re.data!==void 0&&D.current.set(oe,re.data)}),Q.forEach(re=>D.current.delete(re)),Gm(Le===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let G=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Gm(pe==null||G,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!pe||!G){t&&Le?t(()=>d(M)):a===!1?d(M):E.startTransition(()=>{a===!0&&p(re=>Qm(re,M)),d(M)});return}if(t&&Le){t(()=>{j&&(_==null||_.resolve(),j.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})});let re=e.window.document.startViewTransition(()=>{t(()=>d(M))});re.finished.finally(()=>{t(()=>{b(void 0),k(void 0),y(void 0),x({isTransitioning:!1})})}),t(()=>k(re));return}j?(_==null||_.resolve(),j.skipTransition(),A({state:M,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})):(y(M),x({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}))},[e.window,t,j,_,a,p,n]);E.useLayoutEffect(()=>e.subscribe(W),[e,W]),E.useEffect(()=>{v.isTransitioning&&!v.flushSync&&b(new J0)},[v]),E.useEffect(()=>{if(_&&m&&e.window){let M=m,Q=_.promise,Re=e.window.document.startViewTransition(async()=>{a===!1?d(M):E.startTransition(()=>{a===!0&&p(Le=>Qm(Le,M)),d(M)}),await Q});Re.finished.finally(()=>{b(void 0),k(void 0),y(void 0),x({isTransitioning:!1})}),k(Re)}},[m,_,e.window,a,p]),E.useEffect(()=>{_&&m&&h.location.key===m.location.key&&_.resolve()},[_,j,h.location,m]),E.useEffect(()=>{!v.isTransitioning&&C&&(y(C.state),x({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),A(void 0))},[v.isTransitioning,C]);let J=E.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:M=>e.navigate(M),push:(M,Q,Re)=>e.navigate(M,{state:Q,preventScrollReset:Re==null?void 0:Re.preventScrollReset}),replace:(M,Q,Re)=>e.navigate(M,{replace:!0,state:Q,preventScrollReset:Re==null?void 0:Re.preventScrollReset})}),[e]),z=e.basename||"/",S=E.useMemo(()=>({router:e,navigator:J,static:!1,basename:z,onError:n}),[e,J,z,n]);return E.createElement(E.Fragment,null,E.createElement(zs.Provider,{value:S},E.createElement(Ji.Provider,{value:h},E.createElement(mg.Provider,{value:D.current},E.createElement(Sd.Provider,{value:v},E.createElement(Z0,{basename:z,location:h.location,navigationType:h.historyAction,navigator:J,unstable_useTransitions:a},E.createElement(Y0,{routes:e.routes,future:e.future,state:h,onError:n})))))),null)}function Qm(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var Y0=E.memo(X0);function X0({routes:e,future:t,state:n,onError:a}){return P0(e,void 0,n,a,t)}function wg(e){return T0(e.context)}function Z0({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:d}){Je(!Qi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),p=E.useMemo(()=>({basename:h,navigator:o,static:u,unstable_useTransitions:d,future:{}}),[h,o,u,d]);typeof n=="string"&&(n=ds(n));let{pathname:m="/",search:y="",hash:v="",state:x=null,key:_="default"}=n,b=E.useMemo(()=>{let j=Or(m,h);return j==null?null:{location:{pathname:j,search:y,hash:v,state:x,key:_},navigationType:a}},[h,m,y,v,x,_,a]);return Tt(b!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:E.createElement(Lr.Provider,{value:p},E.createElement(Ll.Provider,{children:t,value:b}))}var bl="get",_l="application/x-www-form-urlencoded";function Il(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ew(e){return Il(e)&&e.tagName.toLowerCase()==="button"}function tw(e){return Il(e)&&e.tagName.toLowerCase()==="form"}function rw(e){return Il(e)&&e.tagName.toLowerCase()==="input"}function nw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sw(e,t){return e.button===0&&(!t||t==="_self")&&!nw(e)}var cl=null;function aw(){if(cl===null)try{new FormData(document.createElement("form"),0),cl=!1}catch{cl=!0}return cl}var iw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pc(e){return e!=null&&!iw.has(e)?(Tt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_l}"`),null):e}function ow(e,t){let n,a,o,u,d;if(tw(e)){let h=e.getAttribute("action");a=h?Or(h,t):null,n=e.getAttribute("method")||bl,o=Pc(e.getAttribute("enctype"))||_l,u=new FormData(e)}else if(ew(e)||rw(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||h.getAttribute("action");if(a=p?Or(p,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||bl,o=Pc(e.getAttribute("formenctype"))||Pc(h.getAttribute("enctype"))||_l,u=new FormData(h,e),!aw()){let{name:m,type:y,value:v}=e;if(y==="image"){let x=m?`${m}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else m&&u.append(m,v)}}else{if(Il(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bl,a=null,o=_l,d=e}return u&&o==="text/plain"&&(d=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Td(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lw(e,t,n,a){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:t&&Or(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function uw(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dw(e,t,n){let a=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let d=await uw(u,n);return d.links?d.links():[]}return[]}));return pw(a.flat(1).filter(cw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ym(e,t,n,a,o,u){let d=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var y;return n[m].pathname!==p.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,m)=>d(p,m)||h(p,m)):u==="data"?t.filter((p,m)=>{var v;let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(d(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function hw(e,t,{includeHydrateFallback:n}={}){return fw(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function fw(e){return[...new Set(e)]}function mw(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function pw(e,t){let n=new Set;return new Set(t),e.reduce((a,o)=>{let u=JSON.stringify(mw(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function bg(){let e=E.useContext(zs);return Td(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gw(){let e=E.useContext(Ji);return Td(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pd=E.createContext(void 0);Pd.displayName="FrameworkContext";function _g(){let e=E.useContext(Pd);return Td(e,"You must render this element inside a <HydratedRouter> element"),e}function yw(e,t){let n=E.useContext(Pd),[a,o]=E.useState(!1),[u,d]=E.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:v}=t,x=E.useRef(null);E.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let j=C=>{C.forEach(A=>{d(A.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[e]),E.useEffect(()=>{if(a){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[a]);let _=()=>{o(!0)},b=()=>{o(!1),d(!1)};return n?e!=="intent"?[u,x,{}]:[u,x,{onFocus:Ni(h,_),onBlur:Ni(p,b),onMouseEnter:Ni(m,_),onMouseLeave:Ni(y,b),onTouchStart:Ni(v,_)}]:[!1,x,{}]}function Ni(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function vw({page:e,...t}){let{router:n}=bg(),a=E.useMemo(()=>ns(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?E.createElement(ww,{page:e,matches:a,...t}):null}function xw(e){let{manifest:t,routeModules:n}=_g(),[a,o]=E.useState([]);return E.useEffect(()=>{let u=!1;return dw(e,t,n).then(d=>{u||o(d)}),()=>{u=!0}},[e,t,n]),a}function ww({page:e,matches:t,...n}){let a=sn(),{future:o,manifest:u,routeModules:d}=_g(),{basename:h}=bg(),{loaderData:p,matches:m}=gw(),y=E.useMemo(()=>Ym(e,t,m,u,a,"data"),[e,t,m,u,a]),v=E.useMemo(()=>Ym(e,t,m,u,a,"assets"),[e,t,m,u,a]),x=E.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,k=!1;if(t.forEach(A=>{var W;let D=u.routes[A.route.id];!D||!D.hasLoader||(!y.some(J=>J.route.id===A.route.id)&&A.route.id in p&&((W=d[A.route.id])!=null&&W.shouldRevalidate)||D.hasClientLoader?k=!0:j.add(A.route.id))}),j.size===0)return[];let C=lw(e,h,o.unstable_trailingSlashAwareDataRequests,"data");return k&&j.size>0&&C.searchParams.set("_routes",t.filter(A=>j.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[h,o.unstable_trailingSlashAwareDataRequests,p,a,u,y,t,e,d]),_=E.useMemo(()=>hw(v,u),[v,u]),b=xw(v);return E.createElement(E.Fragment,null,x.map(j=>E.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),_.map(j=>E.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),b.map(({key:j,link:k})=>E.createElement("link",{key:j,nonce:n.nonce,...k,crossOrigin:k.crossOrigin??n.crossOrigin})))}function bw(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var _w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_w&&(window.__reactRouterVersion="7.13.0")}catch{}function jw(e,t){return Yx({basename:t==null?void 0:t.basename,getContext:t==null?void 0:t.getContext,future:t==null?void 0:t.future,history:fx({window:t==null?void 0:t.window}),hydrationData:kw(),routes:e,mapRouteProperties:K0,hydrationRouteProperties:G0,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window,unstable_instrumentations:t==null?void 0:t.unstable_instrumentations}).initialize()}function kw(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Ew(e.errors)}),e}function Ew(e){if(!e)return null;let t=Object.entries(e),n={};for(let[a,o]of t)if(o&&o.__type==="RouteErrorResponse")n[a]=new Ki(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let d=new u(o.message);d.stack="",n[a]=d}catch{}}if(n[a]==null){let u=new Error(o.message);u.stack="",n[a]=u}}else n[a]=o;return n}var jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ze=E.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:d,state:h,target:p,to:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x,..._},b){let{basename:j,unstable_useTransitions:k}=E.useContext(Lr),C=typeof m=="string"&&jg.test(m),A=tg(m,j);m=A.to;let D=C0(m,{relative:o}),[W,J,z]=yw(a,_),S=Rw(m,{replace:d,state:h,target:p,preventScrollReset:y,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function M(Re){t&&t(Re),Re.defaultPrevented||S(Re)}let Q=E.createElement("a",{..._,...z,href:A.absoluteURL||D,onClick:A.isExternal||u?t:M,ref:bw(b,J),target:p,"data-discover":!C&&n==="render"?"true":void 0});return W&&!C?E.createElement(E.Fragment,null,Q,E.createElement(vw,{page:D})):Q});ze.displayName="Link";var Nw=E.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:d,viewTransition:h,children:p,...m},y){let v=Xi(d,{relative:m.relative}),x=sn(),_=E.useContext(Ji),{navigator:b,basename:j}=E.useContext(Lr),k=_!=null&&Lw(v)&&h===!0,C=b.encodeLocation?b.encodeLocation(v).pathname:v.pathname,A=x.pathname,D=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(A=A.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&j&&(D=Or(D,j)||D);const W=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let J=A===C||!o&&A.startsWith(C)&&A.charAt(W)==="/",z=D!=null&&(D===C||!o&&D.startsWith(C)&&D.charAt(C.length)==="/"),S={isActive:J,isPending:z,isTransitioning:k},M=J?t:void 0,Q;typeof a=="function"?Q=a(S):Q=[a,J?"active":null,z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Re=typeof u=="function"?u(S):u;return E.createElement(ze,{...m,"aria-current":M,className:Q,ref:y,style:Re,to:d,viewTransition:h},typeof p=="function"?p(S):p)});Nw.displayName="NavLink";var Sw=E.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:o,state:u,method:d=bl,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x,..._},b)=>{let{unstable_useTransitions:j}=E.useContext(Lr),k=Pw(),C=Ow(h,{relative:m}),A=d.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&jg.test(h),W=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let z=J.nativeEvent.submitter,S=(z==null?void 0:z.getAttribute("formmethod"))||d,M=()=>k(z||J.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:o,state:u,relative:m,preventScrollReset:y,viewTransition:v,unstable_defaultShouldRevalidate:x});j&&n!==!1?E.startTransition(()=>M()):M()};return E.createElement("form",{ref:b,method:A,action:C,onSubmit:a?p:W,..._,"data-discover":!D&&e==="render"?"true":void 0})});Sw.displayName="Form";function Cw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(e){let t=E.useContext(zs);return Je(t,Cw(e)),t}function Rw(e,{target:t,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=Da(),y=sn(),v=Xi(e,{relative:u});return E.useCallback(x=>{if(sw(x,t)){x.preventDefault();let _=n!==void 0?n:nn(y)===nn(v),b=()=>m(e,{replace:_,state:a,preventScrollReset:o,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:h});p?E.startTransition(()=>b()):b()}},[y,m,v,n,a,t,e,o,u,d,h,p])}var Aw=0,Tw=()=>`__${String(++Aw)}__`;function Pw(){let{router:e}=kg("useSubmit"),{basename:t}=E.useContext(Lr),n=z0(),a=e.fetch,o=e.navigate;return E.useCallback(async(u,d={})=>{let{action:h,method:p,encType:m,formData:y,body:v}=ow(u,t);if(d.navigate===!1){let x=d.fetcherKey||Tw();await a(x,n,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:v,formMethod:d.method||p,formEncType:d.encType||m,flushSync:d.flushSync})}else await o(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:y,body:v,formMethod:d.method||p,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,o,t,n])}function Ow(e,{relative:t}={}){let{basename:n}=E.useContext(Lr),a=E.useContext(Kr);Je(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Xi(e||".",{relative:t})},d=sn();if(e==null){u.search=d.search;let h=new URLSearchParams(u.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();u.search=y?`?${y}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rn([n,u.pathname])),nn(u)}function Lw(e,{relative:t}={}){let n=E.useContext(Sd);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kg("useViewTransitionState"),o=Xi(e,{relative:t});if(!n.isTransitioning)return!1;let u=Or(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=Or(n.nextLocation.pathname,a)||n.nextLocation.pathname;return kl(o.pathname,d)!=null||kl(o.pathname,u)!=null}var Iw=Kp();function Dw(e){return E.createElement(Q0,{flushSync:Iw.flushSync,...e})}function Dl(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n}function $w(e,t,n,a){function o(u){return u instanceof n?u:new n(function(d){d(u)})}return new(n||(n=Promise))(function(u,d){function h(y){try{m(a.next(y))}catch(v){d(v)}}function p(y){try{m(a.throw(y))}catch(v){d(v)}}function m(y){y.done?u(y.value):o(y.value).then(h,p)}m((a=a.apply(e,t||[])).next())})}const Fw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Od extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class Mw extends Od{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Xm extends Od{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Zm extends Od{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sd||(sd={}));class Uw{constructor(t,{headers:n={},customFetch:a,region:o=sd.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Fw(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $w(this,arguments,void 0,function*(n,a={}){var o;let u,d;try{const{headers:h,method:p,body:m,signal:y,timeout:v}=a;let x={},{region:_}=a;_||(_=this.region);const b=new URL(`${this.url}/${n}`);_&&_!=="any"&&(x["x-region"]=_,b.searchParams.set("forceFunctionRegion",_));let j;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(x["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(x["Content-Type"]="application/json",j=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?j=JSON.stringify(m):j=m;let k=y;v&&(d=new AbortController,u=setTimeout(()=>d.abort(),v),y?(k=d.signal,y.addEventListener("abort",()=>d.abort())):k=d.signal);const C=yield this.fetch(b.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),h),body:j,signal:k}).catch(J=>{throw new Mw(J)}),A=C.headers.get("x-relay-error");if(A&&A==="true")throw new Xm(C);if(!C.ok)throw new Zm(C);let D=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),W;return D==="application/json"?W=yield C.json():D==="application/octet-stream"||D==="application/pdf"?W=yield C.blob():D==="text/event-stream"?W=C:D==="multipart/form-data"?W=yield C.formData():W=yield C.text(),{data:W,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof Zm||h instanceof Xm?h.context:void 0}}finally{u&&clearTimeout(u)}})}}var zw=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Bw=class{constructor(e){var t,n,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=e.urlLengthLimit)!==null&&a!==void 0?a:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,h=null,p=null,m=u.status,y=u.statusText;if(u.ok){var v,x;if(n.method!=="HEAD"){var _;const C=await u.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const j=(v=n.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),k=(x=u.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");j&&k&&k.length>1&&(p=parseInt(k[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,m=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var b;const j=await u.text();try{d=JSON.parse(j),Array.isArray(d)&&u.status===404&&(h=[],d=null,m=200,y="OK")}catch{u.status===404&&j===""?(m=204,y="No Content"):d={message:j}}if(d&&n.isMaybeSingle&&(!(d==null||(b=d.details)===null||b===void 0)&&b.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&n.shouldThrowOnError)throw new zw(d)}return{error:d,data:h,count:p,status:m,statusText:y}});return this.shouldThrowOnError||(o=o.catch(u=>{var d;let h="",p="",m="";const y=u==null?void 0:u.cause;if(y){var v,x,_,b;const C=(v=y==null?void 0:y.message)!==null&&v!==void 0?v:"",A=(x=y==null?void 0:y.code)!==null&&x!==void 0?x:"";h=`${(_=u==null?void 0:u.name)!==null&&_!==void 0?_:"FetchError"}: ${u==null?void 0:u.message}`,h+=`

Caused by: ${(b=y==null?void 0:y.name)!==null&&b!==void 0?b:"Error"}: ${C}`,A&&(h+=` (${A})`),y!=null&&y.stack&&(h+=`
${y.stack}`)}else{var j;h=(j=u==null?void 0:u.stack)!==null&&j!==void 0?j:""}const k=this.url.toString().length;return(u==null?void 0:u.name)==="AbortError"||(u==null?void 0:u.code)==="ABORT_ERR"?(m="",p="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((y==null?void 0:y.name)==="HeadersOverflowError"||(y==null?void 0:y.code)==="UND_ERR_HEADERS_OVERFLOW")&&(m="",p="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(p+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:h,hint:p,code:m},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},Vw=class extends Bw{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(u,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var d;const h=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ep=new RegExp("[,()]");var ja=class extends Vw{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&ep.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&ep.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${u}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},qw=class{constructor(e,{headers:t={},schema:n,fetch:a,urlLengthLimit:o=8e3}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=a,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:a}=t??{},o=n?"HEAD":"GET";let u=!1;const d=(e??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join(""),{url:h,headers:p}=this.cloneRequestState();return h.searchParams.set("select",d),a&&p.append("Prefer",`count=${a}`),new ja({method:o,url:h,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:n=!0}={}){var a;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),n||d.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);u.searchParams.set("columns",p.join(","))}}return new ja({method:o,url:u,headers:d,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var u;const d="POST",{url:h,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),a&&p.append("Prefer",`count=${a}`),o||p.append("Prefer","missing=default"),Array.isArray(e)){const m=e.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(m.length>0){const y=[...new Set(m)].map(v=>`"${v}"`);h.searchParams.set("columns",y.join(","))}}return new ja({method:d,url:h,headers:p,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var n;const a="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ja({method:a,url:o,headers:u,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const n="DELETE",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ja({method:n,url:a,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function Hw(e,t){if(Ui(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Ui(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ww(e){var t=Hw(e,"string");return Ui(t)=="symbol"?t:t+""}function Kw(e,t,n){return(t=Ww(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tp(Object(n),!0).forEach(function(a){Kw(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}var Gw=class Eg{constructor(t,{headers:n={},schema:a,fetch:o,timeout:u,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=d;const h=o??globalThis.fetch;u!==void 0&&u>0?this.fetch=(p,m)=>{const y=new AbortController,v=setTimeout(()=>y.abort(),u),x=m==null?void 0:m.signal;if(x){if(x.aborted)return clearTimeout(v),h(p,m);const _=()=>{clearTimeout(v),y.abort()};return x.addEventListener("abort",_,{once:!0}),h(p,dl(dl({},m),{},{signal:y.signal})).finally(()=>{clearTimeout(v),x.removeEventListener("abort",_)})}return h(p,dl(dl({},m),{},{signal:y.signal})).finally(()=>clearTimeout(v))}:this.fetch=h}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qw(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Eg(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:a=!1,get:o=!1,count:u}={}){var d;let h;const p=new URL(`${this.url}/rpc/${t}`);let m;const y=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(y)),v=a&&Object.values(n).some(y);v?(h="POST",m=n):a||o?(h=a?"HEAD":"GET",Object.entries(n).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{p.searchParams.append(_,b)})):(h="POST",m=n);const x=new Headers(this.headers);return v?x.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&x.set("Prefer",`count=${u}`),new ja({method:h,url:p,headers:x,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class Jw{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const o=a.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Qw="2.94.1",Yw=`realtime-js/${Qw}`,Xw="1.0.0",Ng="2.0.0",rp=Ng,ad=1e4,Zw=1e3,eb=100;var rs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rs||(rs={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var id;(function(e){e.websocket="websocket"})(id||(id={}));var Is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Is||(Is={}));class tb{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const o=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,a;const o=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,n,a){var o,u;const d=t.topic,h=(o=t.ref)!==null&&o!==void 0?o:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",m=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(y).length===0?"":JSON.stringify(y);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+d.length+m.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+x);let b=new DataView(_),j=0;b.setUint8(j++,this.KINDS.userBroadcastPush),b.setUint8(j++,p.length),b.setUint8(j++,h.length),b.setUint8(j++,d.length),b.setUint8(j++,m.length),b.setUint8(j++,v.length),b.setUint8(j++,n),Array.from(p,C=>b.setUint8(j++,C.charCodeAt(0))),Array.from(h,C=>b.setUint8(j++,C.charCodeAt(0))),Array.from(d,C=>b.setUint8(j++,C.charCodeAt(0))),Array.from(m,C=>b.setUint8(j++,C.charCodeAt(0))),Array.from(v,C=>b.setUint8(j++,C.charCodeAt(0)));var k=new Uint8Array(_.byteLength+a.byteLength);return k.set(new Uint8Array(_),0),k.set(new Uint8Array(a),_.byteLength),k.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,u,d,h,p]=a;return n({join_ref:o,ref:u,topic:d,event:h,payload:p})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,a){const o=n.getUint8(1),u=n.getUint8(2),d=n.getUint8(3),h=n.getUint8(4);let p=this.HEADER_LENGTH+4;const m=a.decode(t.slice(p,p+o));p=p+o;const y=a.decode(t.slice(p,p+u));p=p+u;const v=a.decode(t.slice(p,p+d));p=p+d;const x=t.slice(p,t.byteLength),_=h===this.JSON_ENCODING?JSON.parse(a.decode(x)):x,b={type:this.BROADCAST_EVENT,event:y,payload:_};return d>0&&(b.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Sg{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(dt||(dt={}));const np=(e,t,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=rb(d,e,t,o),u),{}):{}},rb=(e,t,n,a)=>{const o=t.find(h=>h.name===e),u=o==null?void 0:o.type,d=n[e];return u&&!a.includes(u)?Cg(u,d):od(d)},Cg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ib(t,n)}switch(e){case dt.bool:return nb(t);case dt.float4:case dt.float8:case dt.int2:case dt.int4:case dt.int8:case dt.numeric:case dt.oid:return sb(t);case dt.json:case dt.jsonb:return ab(t);case dt.timestamp:return ob(t);case dt.abstime:case dt.date:case dt.daterange:case dt.int4range:case dt.int8range:case dt.money:case dt.reltime:case dt.text:case dt.time:case dt.timestamptz:case dt.timetz:case dt.tsrange:case dt.tstzrange:return od(t);default:return od(t)}},od=e=>e,nb=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ab=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ib=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let u;const d=e.slice(1,n);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(h=>Cg(t,h))}return e},ob=e=>typeof e=="string"?e.replace(" ","T"):e,Rg=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Oc{constructor(t,n,a={},o=ad){this.channel=t,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sp||(sp={}));class Ii{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ii.syncState(this.state,o,u,d),this.pendingDiffs.forEach(p=>{this.state=Ii.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ii.syncDiff(this.state,o,u,d),h())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,o){const u=this.cloneDeep(t),d=this.transformState(n),h={},p={};return this.map(u,(m,y)=>{d[m]||(p[m]=y)}),this.map(d,(m,y)=>{const v=u[m];if(v){const x=y.map(k=>k.presence_ref),_=v.map(k=>k.presence_ref),b=y.filter(k=>_.indexOf(k.presence_ref)<0),j=v.filter(k=>x.indexOf(k.presence_ref)<0);b.length>0&&(h[m]=b),j.length>0&&(p[m]=j)}else h[m]=y}),this.syncDiff(u,{joins:h,leaves:p},a,o)}static syncDiff(t,n,a,o){const{joins:u,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(h,p)=>{var m;const y=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(p),y.length>0){const v=t[h].map(_=>_.presence_ref),x=y.filter(_=>v.indexOf(_.presence_ref)<0);t[h].unshift(...x)}a(h,y,p)}),this.map(d,(h,p)=>{let m=t[h];if(!m)return;const y=p.map(v=>v.presence_ref);m=m.filter(v=>y.indexOf(v.presence_ref)<0),t[h]=m,o(h,m,p),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const o=t[a];return"metas"in o?n[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[a]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ap;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ap||(ap={}));var Di;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Di||(Di={}));var jn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jn||(jn={}));class Sa{constructor(t,n={config:{}},a){var o,u;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Oc(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new Sg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Ii(this),this.broadcastEndpointURL=Rg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:d,presence:h,private:p}}=this.params,m=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},x={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(jn.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(jn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(jn.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,k=(b=j==null?void 0:j.length)!==null&&b!==void 0?b:0,C=[];for(let A=0;A<k;A++){const D=j[A],{filter:{event:W,schema:J,table:z,filter:S}}=D,M=_&&_[A];if(M&&M.event===W&&Sa.isFilterValueEqual(M.schema,J)&&Sa.isFilterValueEqual(M.table,z)&&Sa.isFilterValueEqual(M.filter,S))C.push(Object.assign(Object.assign({},D),{id:M.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(jn.SUBSCRIBED);return}}).receive("error",_=>{this.state=It.errored,t==null||t(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===It.joined&&t===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,n={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,h,p;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Oc(this,Hr.leave,{},t),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),d=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),d}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Oc(this,t,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eb){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var o,u;const d=t.toLocaleLowerCase(),{close:h,error:p,leave:m,join:y}=Hr;if(a&&[h,p,m,y].indexOf(d)>=0&&a!==this._joinRef())return;let x=this._onMessage(d,n,a);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var b,j,k;return((b=_.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(j=_.filter)===null||j===void 0?void 0:j.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(_=>_.callback(x,a)):(u=this.bindings[d])===null||u===void 0||u.filter(_=>{var b,j,k,C,A,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in _){const W=_.id,J=(b=_.filter)===null||b===void 0?void 0:b.event;return W&&((j=n.ids)===null||j===void 0?void 0:j.includes(W))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const W=(A=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return W==="*"||W===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===d}).map(_=>{if(typeof x=="object"&&"ids"in x){const b=x.data,{schema:j,table:k,commit_timestamp:C,type:A,errors:D}=b;x=Object.assign(Object.assign({},{schema:j,table:k,commit_timestamp:C,eventType:A,new:{},old:{},errors:D}),this._getPayloadRecords(b))}_.callback(x,a)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const o=t.toLocaleLowerCase(),u={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&Sa.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=np(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=np(t.columns,t.old_record)),n}}const Lc=()=>{},hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lb=[1e3,2e3,5e3,1e4],ub=1e4,cb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class db{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ad,this.transport=null,this.heartbeatIntervalMs=hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lc,this.ref=0,this.reconnectTimer=null,this.vsn=rp,this.logger=Lc,this.conn=null,this.sendBuffer=[],this.serializer=new tb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${id.websocket}`,this.httpEndpoint=Rg(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case rs.connecting:return Is.Connecting;case rs.open:return Is.Open;case rs.closing:return Is.Closing;default:return Is.Closed}}isConnected(){return this.connectionState()===Is.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new Sa(`realtime:${t}`,n,this);return this.channels.push(u),u}}push(t){const{topic:n,event:a,payload:o,ref:u}=t,d=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${a} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Zw,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",m)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:u,ref:d}=n,h=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${a} ${o} ${h}`.trim(),u),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(o,u,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===rs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===rs.open||this.conn.readyState===rs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${a}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([cb],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const u={access_token:n,version:Yw};n&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(Hr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Sg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,o,u,d,h,p,m,y,v,x,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:ad,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:hl.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:Lc,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:rp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(b=>lb[b-1]||ub),this.vsn){case Xw:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:((b,j)=>j(JSON.stringify(b))),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:((b,j)=>j(JSON.parse(b)));break;case Ng:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var zi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hb(e,t,n){const a=new URL(t,e);if(n)for(const[o,u]of Object.entries(n))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function fb(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function mb(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:u,headers:d}){const h=hb(e.baseUrl,a,o),p=await fb(e.auth),m=await t(h,{method:n,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),y=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),x=v&&y?JSON.parse(y):y;if(!m.ok){const _=v?x:void 0,b=_==null?void 0:_.error;throw new zi((b==null?void 0:b.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:_})}return{status:m.status,headers:m.headers,data:x}}}}function fl(e){return e.join("")}var pb=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fl(e.namespace)}`}),!0}catch(t){if(t instanceof zi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof zi&&n.status===409)return;throw n}}};function ma(e){return e.join("")}var gb=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ma(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ma(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ma(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ma(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ma(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ma(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof zi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof zi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},yb=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=mb({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new pb(this.client,t),this.tableOps=new gb(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},$l=class extends Error{constructor(e,t="storage",n,a){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function Fl(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ml=class extends $l{constructor(e,t,n,a="storage"){super(e,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ag=class extends $l{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const vb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ld=e=>{if(Array.isArray(e))return e.map(n=>ld(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=ld(a)}),t},wb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function bb(e,t){if(Bi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Bi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _b(e){var t=bb(e,"string");return Bi(t)=="symbol"?t:t+""}function jb(e,t,n){return(t=_b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ip(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(n),!0).forEach(function(a){jb(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ip(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const op=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},kb=async(e,t,n,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const o=e,u=o.status||500;if(typeof o.json=="function")o.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||u+"";t(new ml(op(d),u,h,a))}).catch(()=>{if(a==="vectors"){const d=u+"";t(new ml(o.statusText||`HTTP ${u} error`,u,d,a))}else{const d=u+"";t(new ml(o.statusText||`HTTP ${u} error`,u,d,a))}});else{const d=u+"";t(new ml(o.statusText||`HTTP ${u} error`,u,d,a))}}else t(new Ag(op(e),e,a))},Eb=(e,t,n,a)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!a?Me(Me({},o),n):(xb(a)?(o.headers=Me({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(a)):o.body=a,t!=null&&t.duplex&&(o.duplex=t.duplex),Me(Me({},o),n))};async function Si(e,t,n,a,o,u,d){return new Promise((h,p)=>{e(n,Eb(t,a,o,u)).then(m=>{if(!m.ok)throw m;if(a!=null&&a.noResolveJson)return m;if(d==="vectors"){const y=m.headers.get("content-type");if(m.headers.get("content-length")==="0"||m.status===204)return{};if(!y||!y.includes("application/json"))return{}}return m.json()}).then(m=>h(m)).catch(m=>kb(m,p,a,d))})}function Tg(e="storage"){return{get:async(t,n,a,o)=>Si(t,"GET",n,a,o,void 0,e),post:async(t,n,a,o,u)=>Si(t,"POST",n,o,u,a,e),put:async(t,n,a,o,u)=>Si(t,"PUT",n,o,u,a,e),head:async(t,n,a,o)=>Si(t,"HEAD",n,Me(Me({},a),{},{noResolveJson:!0}),o,void 0,e),remove:async(t,n,a,o,u)=>Si(t,"DELETE",n,o,u,a,e)}}const Nb=Tg("storage"),{get:Vi,post:qr,put:ud,head:Sb,remove:Ld}=Nb,_r=Tg("vectors");var $a=class{constructor(e,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=vb(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Fl(n))return{data:null,error:n};throw n}}},Cb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fl(t))return{data:null,error:t};throw t}}};let Pg;Pg=Symbol.toStringTag;var Rb=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Pg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Cb(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fl(t))return{data:null,error:t};throw t}}};const Ab={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tb=class extends $a{constructor(e,t={},n,a){super(e,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,a){var o=this;return o.handleOperation(async()=>{let u;const d=Me(Me({},lp),a);let h=Me(Me({},o.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",o.encodeMetadata(p)),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(p))):(u=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,p&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),a!=null&&a.headers&&(h=Me(Me({},h),a.headers));const m=o._removeEmptyFolders(t),y=o._getFinalPath(m),v=await(e=="PUT"?ud:qr)(o.fetch,`${o.url}/object/${y}`,u,Me({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{path:m,id:v.Id,fullPath:v.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,a){var o=this;const u=o._removeEmptyFolders(e),d=o._getFinalPath(u),h=new URL(o.url+`/object/upload/sign/${d}`);return h.searchParams.set("token",t),o.handleOperation(async()=>{let p;const m=Me({upsert:lp.upsert},a),y=Me(Me({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType),{path:u,fullPath:(await ud(o.fetch,h.toString(),p,{headers:y})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e);const o=Me({},n.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const u=await qr(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),d=new URL(n.url+u.url),h=d.searchParams.get("token");if(!h)throw new $l("No token returned by API");return{signedUrl:d.toString(),path:e,token:h}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var a=this;return a.handleOperation(async()=>await qr(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}))}async copy(e,t,n){var a=this;return a.handleOperation(async()=>({path:(await qr(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(e,t,n){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(e),u=await qr(a.fetch,`${a.url}/object/sign/${o}`,Me({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const d=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${u.signedURL}${d}`)}})}async createSignedUrls(e,t,n){var a=this;return a.handleOperation(async()=>{const o=await qr(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(d=>Me(Me({},d),{},{signedUrl:d.signedURL?encodeURI(`${a.url}${d.signedURL}${u}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),d=()=>Vi(this.fetch,`${this.url}/${n}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new Rb(d,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>ld(await Vi(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Sb(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fl(a)&&a instanceof Ag){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ld(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var a=this;return a.handleOperation(async()=>{const o=Me(Me(Me({},Ab),t),{},{prefix:e||""});return await qr(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const a=Me({},e);return await qr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Pb="2.94.1",Zi={"X-Client-Info":`storage-js/${Pb}`};var Ob=class extends $a{constructor(e,t={},n,a){const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const u=o.href.replace(/\/$/,""),d=Me(Me({},Zi),t);super(u,d,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Vi(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Vi(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await qr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await ud(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await qr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ld(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Lb=class extends $a{constructor(e,t={},n){const a=e.replace(/\/$/,""),o=Me(Me({},Zi),t);super(a,o,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await qr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await Vi(t.fetch,o,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ld(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!wb(e))throw new $l("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new yb({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,u){const d=o[u];return typeof d!="function"?d:async(...h)=>{try{return{data:await d.apply(o,h),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}}}})}},Ib=class extends $a{constructor(e,t={},n){const a=e.replace(/\/$/,""),o=Me(Me({},Zi),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await _r.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await _r.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Db=class extends $a{constructor(e,t={},n){const a=e.replace(/\/$/,""),o=Me(Me({},Zi),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},$b=class extends $a{constructor(e,t={},n){const a=e.replace(/\/$/,""),o=Me(Me({},Zi),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await _r.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Fb=class extends $b{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Mb(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Mb=class extends Ib{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Ub(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ub=class extends Db{constructor(e,t,n,a,o){super(e,t,o),this.vectorBucketName=n,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Me(Me({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},zb=class extends Ob{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new Tb(this.url,this.headers,e,this.fetch)}get vectors(){return new Fb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Lb(this.url+"/iceberg",this.headers,this.fetch)}};const Og="2.94.1",ka=30*1e3,cd=3,Ic=cd*ka,Bb="http://localhost:9999",Vb="supabase.auth.token",qb={"X-Client-Info":`gotrue-js/${Og}`},dd="X-Supabase-Api-Version",Lg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wb=600*1e3;class qi extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kb extends qi{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function Gb(e){return Te(e)&&e.name==="AuthApiError"}class Ds extends qi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class kn extends qi{constructor(t,n,a,o){super(t,a,o),this.name=n,this.status=a}}class wr extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dc(e){return Te(e)&&e.name==="AuthSessionMissingError"}class pa extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pl extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gl extends kn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jb(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class up extends kn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qb extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hd extends kn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function $c(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class cp extends kn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class fd extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dp=` 	
\r=`.split(""),Yb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dp.length;t+=1)e[dp[t].charCodeAt(0)]=-2;for(let t=0;t<Nl.length;t+=1)e[Nl[t].charCodeAt(0)]=t;return e})();function hp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Nl[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Nl[a]),t.queuedBits-=6}}function Ig(e,t,n){const a=Yb[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fp(e){const t=[],n=d=>{t.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{e_(d,a,n)};for(let d=0;d<e.length;d+=1)Ig(e.charCodeAt(d),o,u);return t.join("")}function Xb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zb(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Xb(a,t)}}function e_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Aa(e){const t=[],n={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Ig(e.charCodeAt(o),n,a);return new Uint8Array(t)}function t_(e){const t=[];return Zb(e,n=>t.push(n)),new Uint8Array(t)}function Fs(e){const t=[],n={queue:0,queuedBits:0},a=o=>{t.push(o)};return e.forEach(o=>hp(o,n,a)),hp(null,n,a),t.join("")}function r_(e){return Math.round(Date.now()/1e3)+e}function n_(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},Dg=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function s_(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return n.searchParams.forEach((a,o)=>{t[o]=a}),t}const $g=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),a_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ea=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ps=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},qt=async(e,t)=>{await e.removeItem(t)};class Ml{constructor(){this.promise=new Ml.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ml.promiseConstructor=Promise;function yl(e){const t=e.split(".");if(t.length!==3)throw new fd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!Hb.test(t[a]))throw new fd("JWT not in base64url format");return{header:JSON.parse(fp(t[0])),payload:JSON.parse(fp(t[1])),signature:Aa(t[2]),raw:{header:t[0],payload:t[1]}}}async function i_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function o_(e,t){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await e(u);if(!t(u,null,d)){a(d);return}}catch(d){if(!t(u,d)){o(d);return}}})()})}function l_(e){return("0"+e.toString(16)).substr(-2)}function u_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,l_).join("")}async function c_(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function d_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await c_(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ga(e,t,n=!1){const a=u_();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await Ea(e,`${t}-code-verifier`,o);const u=await d_(a);return[u,a===u?"plain":"s256"]}const h_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f_(e){const t=e.headers.get(dd);if(!t||!t.match(h_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function m_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function p_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ya(e){if(!g_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y_(e,t){return new Proxy(e,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,o)}})}function mp(e){return JSON.parse(JSON.stringify(e))}const Ls=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v_=[502,503,504];async function pp(e){var t;if(!a_(e))throw new hd(Ls(e),0);if(v_.includes(e.status))throw new hd(Ls(e),e.status);let n;try{n=await e.json()}catch(u){throw new Ds(Ls(u),u)}let a;const o=f_(e);if(o&&o.getTime()>=Lg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new cp(Ls(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new wr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new cp(Ls(n),e.status,n.weak_password.reasons);throw new Kb(Ls(n),e.status||500,a)}const x_=(e,t,n,a)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function Fe(e,t,n,a){var o;const u=Object.assign({},a==null?void 0:a.headers);u[dd]||(u[dd]=Lg["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await w_(e,t,n+h,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function w_(e,t,n,a,o,u){const d=x_(t,a,o,u);let h;try{h=await e(n,Object.assign({},d))}catch(p){throw console.error(p),new hd(Ls(p),0)}if(h.ok||await pp(h),a!=null&&a.noResolveJson)return h;try{return await h.json()}catch(p){await pp(p)}}function Vr(e){var t;let n=null;j_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=r_(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function gp(e){const t=Vr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function as(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function b_(e){return{data:e,error:null}}function __(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u}=e,d=Dl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u},p=Object.assign({},d);return{data:{properties:h,user:p},error:null}}function yp(e){return e}function j_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mc=["global","local","others"];class k_{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=$g(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Mc[0]){if(Mc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mc.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Te(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:as})}catch(a){if(Te(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Dl(t,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:__,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Te(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:as})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,o,u,d,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:yp});if(y.error)throw y.error;const v=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);m[`${k}Page`]=j}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Te(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){ya(t);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:as})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ya(t);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:as})}catch(a){if(Te(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){ya(t);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:as})}catch(a){if(Te(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ya(t.userId);try{const{data:n,error:a}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ya(t.userId),ya(t.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,o,u,d,h,p;try{const m={nextPage:null,lastPage:0,total:0},y=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:yp});if(y.error)throw y.error;const v=await y.json(),x=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,_=(p=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(b=>{const j=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);m[`${k}Page`]=j}),m.total=parseInt(x)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(Te(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Te(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}}function vp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const va={debug:!!(globalThis&&Dg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class E_ extends Fg{}async function N_(e,t,n){va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),va.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){va.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{va.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw va.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new E_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(va.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function S_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Mg(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function C_(e){return parseInt(e,16)}function R_(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function A_(e){var t;const{chainId:n,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:h,requestId:p,resources:m,scheme:y,uri:v,version:x}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=Mg(e.address),b=y?`${y}://${a}`:a,j=e.statement?`${e.statement}
`:"",k=`${b} wants you to sign in with your Ethereum account:
${_}

${j}`;let C=`URI: ${v}
Version: ${x}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),p&&(C+=`
Request ID: ${p}`),m){let A=`
Resources:`;for(const D of m){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);A+=`
- ${D}`}C+=A}return`${k}
${C}`}class At extends Error{constructor({message:t,code:n,cause:a,name:o}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=n}}class Sl extends At{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function T_({error:e,options:t}){var n,a,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=u.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return u.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const d=window.location.hostname;if(Ug(d)){if(u.rp.id!==d)return new At({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function P_({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Ug(a)){if(n.rpId!==a)return new At({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class O_{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const L_=new O_;function I_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,o=Dl(e,["challenge","user","excludeCredentials"]),u=Aa(t).buffer,d=Object.assign(Object.assign({},n),{id:Aa(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:u,user:d});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const m=a[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Aa(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function D_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=Dl(e,["challenge","allowCredentials"]),o=Aa(t).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){u.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];u.allowCredentials[d]=Object.assign(Object.assign({},h),{id:Aa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function $_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Fs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Fs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function F_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Fs(new Uint8Array(o.authenticatorData)),clientDataJSON:Fs(new Uint8Array(o.clientDataJSON)),signature:Fs(new Uint8Array(o.signature)),userHandle:o.userHandle?Fs(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ug(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xp(){var e,t;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function M_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",t)}:{data:null,error:new Sl("Empty credential response",t)}}catch(t){return{data:null,error:T_({error:t,options:e})}}}async function U_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sl("Browser returned unexpected credential type",t)}:{data:null,error:new Sl("Empty credential response",t)}}catch(t){return{data:null,error:P_({error:t,options:e})}}}const z_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cl(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of e)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))a[u]=d;else if(n(d))a[u]=d;else if(t(d)){const h=a[u];t(h)?a[u]=Cl(h,d):a[u]=Cl(d)}else a[u]=d}return a}function V_(e,t){return Cl(z_,e,t||{})}function q_(e,t){return Cl(B_,e,t||{})}class H_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:o},u){var d;try{const{data:h,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!h)return{data:null,error:p};const m=o??L_.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;if(!y.name){const v=a;if(v)y.name=`${y.id}:${v}`;else{const _=(await this.client.getUser()).data.user,b=((d=_==null?void 0:_.user_metadata)===null||d===void 0?void 0:d.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";y.name=`${y.id}:${b}`}}y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=V_(h.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:x}=await M_({publicKey:y,signal:m});return v?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}case"request":{const y=q_(h.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:x}=await U_(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:m}));return v?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:x}}}}catch(h){return Te(h)?{data:null,error:h}:{data:null,error:new Ds("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!n)return{data:null,error:new qi("rpId is required for WebAuthn authentication")};try{if(!xp())return{data:null,error:new Ds("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:u});if(!d)return{data:null,error:h};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:a,credential_response:p.credential_response}})}catch(d){return Te(d)?{data:null,error:d}:{data:null,error:new Ds("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!n)return{data:null,error:new qi("rpId is required for WebAuthn registration")};try{if(!xp())return{data:null,error:new Ds("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(y=>{var v;return(v=y.data)===null||v===void 0?void 0:v.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(d){return Te(d)?{data:null,error:d}:{data:null,error:new Ds("Unexpected error in register",d)}}}}S_();const W_={url:Bb,storageKey:Vb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function wp(e,t,n){return await n()}const xa={};class Hi{get jwks(){var t,n;return(n=(t=xa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){xa[this.storageKey]=Object.assign(Object.assign({},xa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=xa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xa[this.storageKey]=Object.assign(Object.assign({},xa[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},W_),t);if(this.storageKey=u.storageKey,this.instanceID=(n=Hi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Hi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Ht()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new k_({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=$g(u.fetch),this.lock=u.lock||wp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Ht()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=N_:this.lock=wp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new H_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Dg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=vp(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Og}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(Ht()&&(n=s_(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),Ht()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Jb(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Te(n)?this._returnResult({error:n}):this._returnResult({error:new Ds("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,o;try{const u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Vr}),{data:d,error:h}=u;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(Te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var n,a,o;try{let u;if("email"in t){const{email:y,password:v,options:x}=t;let _=null,b=null;this.flowType==="pkce"&&([_,b]=await ga(this.storage,this.storageKey)),u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:v,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:_,code_challenge_method:b},xform:Vr})}else if("phone"in t){const{phone:y,password:v,options:x}=t;u=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Vr})}else throw new pl("You must provide either an email or phone number and a password");const{data:d,error:h}=u;if(h||!d)return await qt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(u){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let n;if("email"in t){const{email:u,password:d,options:h}=t;n=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gp})}else if("phone"in t){const{phone:u,password:d,options:h}=t;n=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gp})}else throw new pl("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new pa;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,o,u,d,h,p,m,y,v,x;let _,b;if("message"in t)_=t.message,b=t.signature;else{const{chain:j,wallet:k,statement:C,options:A}=t;let D;if(Ht())if(typeof k=="object")D=k;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")D=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=k}const W=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),J=await D.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!J||J.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=Mg(J[0]);let S=(a=A==null?void 0:A.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!S){const Q=await D.request({method:"eth_chainId"});S=C_(Q)}const M={domain:W.host,address:z,statement:C,uri:W.href,version:"1",chainId:S,nonce:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=A==null?void 0:A.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=A==null?void 0:A.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=A_(M),b=await D.request({method:"personal_sign",params:[R_(_),z]})}try{const{data:j,error:k}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:b},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Vr});if(k)throw k;if(!j||!j.session||!j.user){const C=new pa;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(Te(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var n,a,o,u,d,h,p,m,y,v,x,_;let b,j;if("message"in t)b=t.message,j=t.signature;else{const{chain:k,wallet:C,statement:A,options:D}=t;let W;if(Ht())if(typeof C=="object")W=C;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))W=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=C}const J=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in W&&W.signIn){const z=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:J.host,uri:J.href}),A?{statement:A}:null));let S;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")S=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)S=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),j=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${J.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${J.href}`,`Issued At: ${(o=(a=D==null?void 0:D.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((v=(y=D==null?void 0:D.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...D.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const z=await W.signMessage(new TextEncoder().encode(b),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=z}}try{const{data:k,error:C}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Fs(j)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Vr});if(C)throw C;if(!k||!k.session||!k.user){const A=new pa;return this._returnResult({data:{user:null,session:null},error:A})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:C})}catch(k){if(Te(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(t){const n=await Ps(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new Qb;const{data:u,error:d}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Vr});if(await qt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const h=new pa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:n,provider:a,token:o,access_token:u,nonce:d}=t,h=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vr}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const y=new pa;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,o,u,d;try{if("email"in t){const{email:h,options:p}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ga(this.storage,this.storageKey));const{error:v}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:h,options:p}=t,{data:m,error:y}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y})}throw new pl("You must provide either an email or phone number.")}catch(h){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,a;try{let o,u;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:h}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Vr});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(o){if(Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var n,a,o,u,d;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ga(this.storage,this.storageKey));const m=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:b_});return!((u=m.data)===null||u===void 0)&&u.url&&Ht()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new wr;const{error:o}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:u}=t,{error:d}=await Fe(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:a,type:o,options:u}=t,{data:d,error:h}=await Fe(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new pl("You must provide either an email or phone number and a type")}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Ic:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const d=await Ps(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=Fc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=y_(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:as}):await this._useSession(async n=>{var a,o,u;const{data:d,error:h}=n;if(h)throw h;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wr}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:as})})}catch(n){if(Te(n))return Dc(n)&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new wr;const d=o.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await ga(this.storage,this.storageKey));const{data:m,error:y}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:d.access_token,xform:as});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wr;const n=Date.now()/1e3;let a=n,o=!0,u=null;const{payload:d}=yl(t.access_token);if(d.exp&&(a=d.exp,o=a<=n),o){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};u=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});u={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:d,error:h}=n;if(h)throw h;t=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new wr;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ht())throw new gl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new up("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new up("No code detected.");const{data:A,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:h,expires_at:p,token_type:m}=t;if(!u||!h||!d||!m)throw new gl("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(h);let x=y+v;p&&(x=parseInt(p));const _=x-y;_*1e3<=ka&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const b=x-v;y-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,x,y):y-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,x,y);const{data:j,error:k}=await this._getUser(u);if(k)throw k;const C={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:x,refresh_token:d,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(a){if(Te(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ps(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u&&!Dc(u))return this._returnResult({error:u});const d=(a=o.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:h}=await this.admin.signOut(d,t);if(h&&!(Gb(h)&&(h.status===404||h.status===401||h.status===403)||Dc(h)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await qt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=n_(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,o;try{const{data:{session:u},error:d}=n;if(d)throw d;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ga(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:o}=await this._useSession(async u=>{var d,h,p,m,y;const{data:v,error:x}=u;if(x)throw x;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Ht()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Te(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:u}}=n;if(o)throw o;const{options:d,provider:h,token:p,access_token:m,nonce:y}=t,v=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u==null?void 0:u.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:p,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Vr}),{data:x,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new pa}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:_}))}catch(o){if(await qt(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,o;const{data:u,error:d}=n;if(d)throw d;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await o_(async o=>(o>0&&await i_(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vr})),(o,u)=>{const d=200*Math.pow(2,o);return u&&$c(u)&&Date.now()+d-a<ka})}catch(a){if(this._debug(n,"error",a),Te(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),Ht()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ps(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Ea(this.userStorage,this.storageKey+"-user",d)),o.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:Fc()}else if(o&&!o.user&&!o.user){const d=await Ps(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await qt(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,o)):o.user=Fc()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ic;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Ic}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),$c(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new wr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ml;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new wr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const h={data:u.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(u){if(this._debug(o,"error",u),Te(u)){const d={data:null,error:u};return $c(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await qt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const u=mp(o);await Ea(this.storage,this.storageKey,u)}else{const o=mp(n);await Ea(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qt(this.storage,this.storageKey),await qt(this.storage,this.storageKey+"-code-verifier"),await qt(this.storage,this.storageKey+"-user"),this.userStorage&&await qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ka);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/ka);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ka}ms, refresh threshold is ${cd} ticks`),o<=cd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await ga(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?this._returnResult({data:null,error:u}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,o;const{data:u,error:d}=n;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$_(t.webauthn.credential_response):F_(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const d=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:I_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:D_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,o,u;if(t)try{const{payload:_}=yl(t);let b=null;_.aal&&(b=_.aal);let j=b;const{data:{user:k},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((a=(n=k==null?void 0:k.factors)===null||n===void 0?void 0:n.filter(W=>W.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(j="aal2");const D=_.amr||[];return{data:{currentLevel:b,nextLevel:j,currentAuthenticationMethods:D},error:null}}catch(_){if(Te(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:d},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=yl(d.access_token);let m=null;p.aal&&(m=p.aal);let y=m;((u=(o=d.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&u!==void 0?u:[]).length>0&&(y="aal2");const x=p.amr||[];return{data:{currentLevel:m,nextLevel:y,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new wr})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new wr});const d=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&Ht()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(Te(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new wr});const d=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&Ht()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(Te(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new wr})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wr})})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(h=>h.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===t),a&&this.jwks_cached_at+Wb>o)return a;const{data:u,error:d}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(h=>h.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:_,error:b}=await this.getSession();if(b||!_.session)return this._returnResult({data:null,error:b});a=_.session.access_token}const{header:o,payload:u,signature:d,raw:{header:h,payload:p}}=yl(a);n!=null&&n.allowExpired||m_(u.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:u,header:o,signature:d},error:null}}const y=p_(o.alg),v=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,d,t_(`${h}.${p}`)))throw new fd("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(a){if(Te(a))return this._returnResult({data:null,error:a});throw a}}}Hi.nextInstanceID={};const K_=Hi,G_="2.94.1";let Oi="";typeof Deno<"u"?Oi="deno":typeof document<"u"?Oi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Oi="react-native":Oi="node";const J_={"X-Client-Info":`supabase-js-${Oi}/${G_}`},Q_={headers:J_},Y_={schema:"public"},X_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Z_={};function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function ej(e,t){if(Wi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Wi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tj(e){var t=ej(e,"string");return Wi(t)=="symbol"?t:t+""}function rj(e,t,n){return(t=tj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bp(Object(n),!0).forEach(function(a){rj(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const nj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sj=()=>Headers,aj=(e,t,n)=>{const a=nj(n),o=sj();return async(u,d)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:e;let m=new o(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),a(u,jt(jt({},d),{},{headers:m}))}};function ij(e){return e.endsWith("/")?e:e+"/"}function oj(e,t){var n,a;const{db:o,auth:u,realtime:d,global:h}=e,{db:p,auth:m,realtime:y,global:v}=t,x={db:jt(jt({},p),o),auth:jt(jt({},m),u),realtime:jt(jt({},y),d),storage:{},global:jt(jt(jt({},v),h),{},{headers:jt(jt({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?x.accessToken=e.accessToken:delete x.accessToken,x}function lj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ij(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uj=class extends K_{constructor(e){super(e)}},cj=class{constructor(e,t,n){var a,o;this.supabaseUrl=e,this.supabaseKey=t;const u=lj(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:Y_,realtime:Z_,auth:jt(jt({},X_),{},{storageKey:d}),global:Q_},p=oj(n??{},h);if(this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(y,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=aj(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(jt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new Gw(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new zb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Uw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:u,flowType:d,lock:h,debug:p,throwOnError:m},y,v){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uj({url:this.authUrl.href,headers:jt(jt({},x),y),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:o,flowType:d,lock:h,debug:p,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new db(this.realtimeUrl.href,jt(jt({},e),{},{params:jt(jt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dj=(e,t,n)=>new cj(e,t,n);function hj(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}hj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fj=void 0,mj=void 0,Ce=dj(fj,mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,a)=>a?a.toUpperCase():n.toLowerCase()),_p=e=>{const t=gj(e);return t.charAt(0).toUpperCase()+t.slice(1)},zg=(...e)=>e.filter((t,n,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:d,...h},p)=>E.createElement("svg",{ref:p,...yj,width:t,height:t,stroke:e,strokeWidth:a?Number(n)*24/Number(t):n,className:zg("lucide",o),...h},[...d.map(([m,y])=>E.createElement(m,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(e,t)=>{const n=E.forwardRef(({className:a,...o},u)=>E.createElement(vj,{ref:u,iconNode:t,className:zg(`lucide-${pj(_p(e))}`,`lucide-${e}`,a),...o}));return n.displayName=_p(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Fa=Ye("arrow-left",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ls=Ye("arrow-right",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_j=Ye("bell",bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],eo=Ye("calendar",jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bg=Ye("circle-check",kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vg=Ye("eye",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Id=Ye("facebook",Nj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rl=Ye("file-text",Sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Dd=Ye("folder-open",Cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Aj=Ye("heart",Rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],us=Ye("image",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$d=Ye("instagram",Pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qg=Ye("layout-dashboard",Oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Hg=Ye("log-out",Lj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Pa=Ye("mail",Ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wg=Ye("map-pin",Dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],Fj=Ye("megaphone",$j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Kg=Ye("menu",Mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],zj=Ye("newspaper",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Vj=Ye("phone",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Hj=Ye("play",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oa=Ye("plus",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ul=Ye("save",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],zl=Ye("search",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qj=Ye("send",Jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gg=Ye("settings",Yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Zj=Ye("share-2",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],t1=Ye("shield",e1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Bl=Ye("square-pen",r1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],s1=Ye("target",n1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],La=Ye("trash-2",a1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],o1=Ye("trending-up",i1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Al=Ye("user",l1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],c1=Ye("users-round",u1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ia=Ye("users",d1);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jg=Ye("x",h1);function Qg(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Qg(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function f1(){for(var e,t,n=0,a="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Qg(e))&&(a&&(a+=" "),a+=t);return a}const Fd="-",m1=e=>{const t=g1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:d=>{const h=d.split(Fd);return h[0]===""&&h.length!==1&&h.shift(),Yg(h,t)||p1(d)},getConflictingClassGroupIds:(d,h)=>{const p=n[d]||[];return h&&a[d]?[...p,...a[d]]:p}}},Yg=(e,t)=>{var d;if(e.length===0)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),o=a?Yg(e.slice(1),a):void 0;if(o)return o;if(t.validators.length===0)return;const u=e.join(Fd);return(d=t.validators.find(({validator:h})=>h(u)))==null?void 0:d.classGroupId},jp=/^\[(.+)\]$/,p1=e=>{if(jp.test(e)){const t=jp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},g1=e=>{const{theme:t,classGroups:n}=e,a={nextPart:new Map,validators:[]};for(const o in n)md(n[o],a,o,t);return a},md=(e,t,n,a)=>{e.forEach(o=>{if(typeof o=="string"){const u=o===""?t:kp(t,o);u.classGroupId=n;return}if(typeof o=="function"){if(y1(o)){md(o(a),t,n,a);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([u,d])=>{md(d,kp(t,u),n,a)})})},kp=(e,t)=>{let n=e;return t.split(Fd).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},y1=e=>e.isThemeGetter,v1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,a=new Map;const o=(u,d)=>{n.set(u,d),t++,t>e&&(t=0,a=n,n=new Map)};return{get(u){let d=n.get(u);if(d!==void 0)return d;if((d=a.get(u))!==void 0)return o(u,d),d},set(u,d){n.has(u)?n.set(u,d):o(u,d)}}},pd="!",gd=":",x1=gd.length,w1=e=>{const{prefix:t,experimentalParseClassName:n}=e;let a=o=>{const u=[];let d=0,h=0,p=0,m;for(let b=0;b<o.length;b++){let j=o[b];if(d===0&&h===0){if(j===gd){u.push(o.slice(p,b)),p=b+x1;continue}if(j==="/"){m=b;continue}}j==="["?d++:j==="]"?d--:j==="("?h++:j===")"&&h--}const y=u.length===0?o:o.substring(p),v=b1(y),x=v!==y,_=m&&m>p?m-p:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:_}};if(t){const o=t+gd,u=a;a=d=>d.startsWith(o)?u(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(n){const o=a;a=u=>n({className:u,parseClassName:o})}return a},b1=e=>e.endsWith(pd)?e.substring(0,e.length-1):e.startsWith(pd)?e.substring(1):e,_1=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const o=[];let u=[];return a.forEach(d=>{d[0]==="["||t[d]?(o.push(...u.sort(),d),u=[]):u.push(d)}),o.push(...u.sort()),o}},j1=e=>({cache:v1(e.cacheSize),parseClassName:w1(e),sortModifiers:_1(e),...m1(e)}),k1=/\s+/,E1=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:u}=t,d=[],h=e.trim().split(k1);let p="";for(let m=h.length-1;m>=0;m-=1){const y=h[m],{isExternal:v,modifiers:x,hasImportantModifier:_,baseClassName:b,maybePostfixModifierPosition:j}=n(y);if(v){p=y+(p.length>0?" "+p:p);continue}let k=!!j,C=a(k?b.substring(0,j):b);if(!C){if(!k){p=y+(p.length>0?" "+p:p);continue}if(C=a(b),!C){p=y+(p.length>0?" "+p:p);continue}k=!1}const A=u(x).join(":"),D=_?A+pd:A,W=D+C;if(d.includes(W))continue;d.push(W);const J=o(C,k);for(let z=0;z<J.length;++z){const S=J[z];d.push(D+S)}p=y+(p.length>0?" "+p:p)}return p};function N1(){let e=0,t,n,a="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Xg(t))&&(a&&(a+=" "),a+=n);return a}const Xg=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=Xg(e[a]))&&(n&&(n+=" "),n+=t);return n};function S1(e,...t){let n,a,o,u=d;function d(p){const m=t.reduce((y,v)=>v(y),e());return n=j1(m),a=n.cache.get,o=n.cache.set,u=h,h(p)}function h(p){const m=a(p);if(m)return m;const y=E1(p,n);return o(p,y),y}return function(){return u(N1.apply(null,arguments))}}const Lt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Zg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ey=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C1=/^\d+\/\d+$/,R1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wa=e=>C1.test(e),Ke=e=>!!e&&!Number.isNaN(Number(e)),es=e=>!!e&&Number.isInteger(Number(e)),Uc=e=>e.endsWith("%")&&Ke(e.slice(0,-1)),wn=e=>R1.test(e),L1=()=>!0,I1=e=>A1.test(e)&&!T1.test(e),ty=()=>!1,D1=e=>P1.test(e),$1=e=>O1.test(e),F1=e=>!_e(e)&&!je(e),M1=e=>Ma(e,sy,ty),_e=e=>Zg.test(e),Os=e=>Ma(e,ay,I1),zc=e=>Ma(e,q1,Ke),Ep=e=>Ma(e,ry,ty),U1=e=>Ma(e,ny,$1),vl=e=>Ma(e,iy,D1),je=e=>ey.test(e),Ci=e=>Ua(e,ay),z1=e=>Ua(e,H1),Np=e=>Ua(e,ry),B1=e=>Ua(e,sy),V1=e=>Ua(e,ny),xl=e=>Ua(e,iy,!0),Ma=(e,t,n)=>{const a=Zg.exec(e);return a?a[1]?t(a[1]):n(a[2]):!1},Ua=(e,t,n=!1)=>{const a=ey.exec(e);return a?a[1]?t(a[1]):n:!1},ry=e=>e==="position"||e==="percentage",ny=e=>e==="image"||e==="url",sy=e=>e==="length"||e==="size"||e==="bg-size",ay=e=>e==="length",q1=e=>e==="number",H1=e=>e==="family-name",iy=e=>e==="shadow",W1=()=>{const e=Lt("color"),t=Lt("font"),n=Lt("text"),a=Lt("font-weight"),o=Lt("tracking"),u=Lt("leading"),d=Lt("breakpoint"),h=Lt("container"),p=Lt("spacing"),m=Lt("radius"),y=Lt("shadow"),v=Lt("inset-shadow"),x=Lt("text-shadow"),_=Lt("drop-shadow"),b=Lt("blur"),j=Lt("perspective"),k=Lt("aspect"),C=Lt("ease"),A=Lt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],J=()=>[...W(),je,_e],z=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],M=()=>[je,_e,p],Q=()=>[wa,"full","auto",...M()],Re=()=>[es,"none","subgrid",je,_e],Le=()=>["auto",{span:["full",es,je,_e]},es,je,_e],pe=()=>[es,"auto",je,_e],G=()=>["auto","min","max","fr",je,_e],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...M()],Y=()=>[wa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],$=()=>[e,je,_e],ae=()=>[...W(),Np,Ep,{position:[je,_e]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",B1,M1,{size:[je,_e]}],K=()=>[Uc,Ci,Os],fe=()=>["","none","full",m,je,_e],ge=()=>["",Ke,Ci,Os],Pe=()=>["solid","dashed","dotted","double"],Ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ie=()=>[Ke,Uc,Np,Ep],We=()=>["","none",b,je,_e],Xe=()=>["none",Ke,je,_e],vt=()=>["none",Ke,je,_e],sr=()=>[Ke,je,_e],lt=()=>[wa,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wn],breakpoint:[wn],color:[L1],container:[wn],"drop-shadow":[wn],ease:["in","out","in-out"],font:[F1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wn],shadow:[wn],spacing:["px",Ke],text:[wn],"text-shadow":[wn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",wa,_e,je,k]}],container:["container"],columns:[{columns:[Ke,_e,je,h]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:J()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[es,"auto",je,_e]}],basis:[{basis:[wa,"full","auto",h,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ke,wa,"auto","initial","none",_e]}],grow:[{grow:["",Ke,je,_e]}],shrink:[{shrink:["",Ke,je,_e]}],order:[{order:[es,"first","last","none",je,_e]}],"grid-cols":[{"grid-cols":Re()}],"col-start-end":[{col:Le()}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":Re()}],"row-start-end":[{row:Le()}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[h,"screen",...Y()]}],"min-w":[{"min-w":[h,"screen","none",...Y()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...Y()]}],h:[{h:["screen",...Y()]}],"min-h":[{"min-h":["screen","none",...Y()]}],"max-h":[{"max-h":["screen",...Y()]}],"font-size":[{text:["base",n,Ci,Os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,je,zc]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Uc,_e]}],"font-family":[{font:[z1,_e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,je,_e]}],"line-clamp":[{"line-clamp":[Ke,"none",je,zc]}],leading:[{leading:[u,...M()]}],"list-image":[{"list-image":["none",je,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ke,"from-font","auto",je,Os]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ke,"auto",je,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},es,je,_e],radial:["",je,_e],conic:[es,je,_e]},V1,U1]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ke,je,_e]}],"outline-w":[{outline:["",Ke,Ci,Os]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,xl,vl]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",v,xl,vl]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ke,Os]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,xl,vl]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ke,je,_e]}],"mix-blend":[{"mix-blend":[...Ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ie()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Ie()}],"mask-image-t-to-pos":[{"mask-t-to":Ie()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Ie()}],"mask-image-r-to-pos":[{"mask-r-to":Ie()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Ie()}],"mask-image-b-to-pos":[{"mask-b-to":Ie()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Ie()}],"mask-image-l-to-pos":[{"mask-l-to":Ie()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Ie()}],"mask-image-x-to-pos":[{"mask-x-to":Ie()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Ie()}],"mask-image-y-to-pos":[{"mask-y-to":Ie()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[je,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ie()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[Ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ie()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,_e]}],filter:[{filter:["","none",je,_e]}],blur:[{blur:We()}],brightness:[{brightness:[Ke,je,_e]}],contrast:[{contrast:[Ke,je,_e]}],"drop-shadow":[{"drop-shadow":["","none",_,xl,vl]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ke,je,_e]}],"hue-rotate":[{"hue-rotate":[Ke,je,_e]}],invert:[{invert:["",Ke,je,_e]}],saturate:[{saturate:[Ke,je,_e]}],sepia:[{sepia:["",Ke,je,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",je,_e]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[Ke,je,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ke,je,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ke,je,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ke,je,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ke,je,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ke,je,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ke,je,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ke,je,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ke,"initial",je,_e]}],ease:[{ease:["linear","initial",C,je,_e]}],delay:[{delay:[Ke,je,_e]}],animate:[{animate:["none",A,je,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,je,_e]}],"perspective-origin":[{"perspective-origin":J()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:vt()}],"scale-x":[{"scale-x":vt()}],"scale-y":[{"scale-y":vt()}],"scale-z":[{"scale-z":vt()}],"scale-3d":["scale-3d"],skew:[{skew:sr()}],"skew-x":[{"skew-x":sr()}],"skew-y":[{"skew-y":sr()}],transform:[{transform:[je,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:J()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:lt()}],"translate-x":[{"translate-x":lt()}],"translate-y":[{"translate-y":lt()}],"translate-z":[{"translate-z":lt()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,_e]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ke,Ci,Os,zc]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},K1=S1(W1);function Us(...e){return K1(f1(e))}const oy="/assets/4eeb42365666e2aad88f332a0930461cd4eefe17-DCia8H3U.png";function G1(){const[e,t]=E.useState(!1),n=sn(),a=[{name:"Home",href:"/"},{name:"Quem Somos",href:"/quem-somos"},{name:"Projetos",href:"/projetos"},{name:"Matrias",href:"/materias"},{name:"Newsletter",href:"/newsletter"},{name:"Contato",href:"/contato"}],o=u=>u==="/"?n.pathname==="/":n.pathname.startsWith(u);return l.jsxs("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200",children:[l.jsx("nav",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex h-16 items-center justify-between",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(ze,{to:"/",className:"flex items-center gap-3",children:l.jsx("img",{src:oy,alt:"Rede Kalunga Comunicaes",className:"h-14 sm:h-16 w-auto"})})}),l.jsx("div",{className:"hidden md:flex md:gap-x-1",children:a.map(u=>l.jsx(ze,{to:u.href,className:Us("px-4 py-2 rounded-lg text-sm font-medium transition-colors",o(u.href)?"bg-[#0F7A3E] text-white":"text-[#2E2E2E] hover:bg-gray-100"),children:u.name},u.name))}),l.jsx("div",{className:"flex md:hidden",children:l.jsxs("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-[#2E2E2E] hover:bg-gray-100",onClick:()=>t(!e),children:[l.jsx("span",{className:"sr-only",children:"Abrir menu"}),e?l.jsx(Jg,{className:"h-6 w-6"}):l.jsx(Kg,{className:"h-6 w-6"})]})})]})}),e&&l.jsx("div",{className:"md:hidden border-t border-gray-200",children:l.jsx("div",{className:"space-y-1 px-4 pb-3 pt-2",children:a.map(u=>l.jsx(ze,{to:u.href,onClick:()=>t(!1),className:Us("block px-4 py-3 rounded-lg text-base font-medium transition-colors",o(u.href)?"bg-[#0F7A3E] text-white":"text-[#2E2E2E] hover:bg-gray-100"),children:u.name},u.name))})})]})}function J1(){const e=new Date().getFullYear();return l.jsxs("footer",{className:"bg-[#2E2E2E] text-white",children:[l.jsx("div",{className:"relative h-16 bg-[#0F7A3E]",style:{clipPath:"ellipse(100% 100% at 50% 0%)"}}),l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-[#0F7A3E] to-[#2FA866] flex items-center justify-center",children:l.jsx("span",{className:"text-white font-bold text-xl",children:"RKC"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-lg",children:"Rede Kalunga Comunicaes"}),l.jsx("div",{className:"text-sm text-gray-400",children:"Comunicao Popular e Territrio"})]})]}),l.jsx("p",{className:"text-sm text-gray-300 max-w-md leading-relaxed",children:"Mdia independente quilombola com atuao territorial na Chapada dos Veadeiros e no Territrio Kalunga, promovendo comunicao popular e jornalismo independente."}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-[#0F7A3E] transition-colors flex items-center justify-center",children:l.jsx($d,{className:"w-5 h-5"})}),l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-[#0F7A3E] transition-colors flex items-center justify-center",children:l.jsx(Id,{className:"w-5 h-5"})}),l.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-[#0F7A3E] transition-colors flex items-center justify-center",children:l.jsx(Pa,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold mb-4",children:"Navegao"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx(ze,{to:"/",className:"text-gray-300 hover:text-[#F2B705] transition-colors",children:"Home"})}),l.jsx("li",{children:l.jsx(ze,{to:"/quem-somos",className:"text-gray-300 hover:text-[#F2B705] transition-colors",children:"Quem Somos"})}),l.jsx("li",{children:l.jsx(ze,{to:"/projetos",className:"text-gray-300 hover:text-[#F2B705] transition-colors",children:"Projetos"})}),l.jsx("li",{children:l.jsx(ze,{to:"/materias",className:"text-gray-300 hover:text-[#F2B705] transition-colors",children:"Matrias"})}),l.jsx("li",{children:l.jsx(ze,{to:"/newsletter",className:"text-gray-300 hover:text-[#F2B705] transition-colors",children:"Newsletter"})}),l.jsx("li",{children:l.jsx(ze,{to:"/contato",className:"text-gray-300 hover:text-[#F2B705] transition-colors",children:"Contato"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold mb-4",children:"Contato"}),l.jsxs("ul",{className:"space-y-3 text-sm text-gray-300",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Wg,{className:"w-5 h-5 flex-shrink-0 text-[#F2B705] mt-0.5"}),l.jsxs("span",{children:["Chapada dos Veadeiros",l.jsx("br",{}),"Territrio Kalunga, GO"]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx(Pa,{className:"w-5 h-5 flex-shrink-0 text-[#F2B705] mt-0.5"}),l.jsx("span",{children:"contato@redekalunga.org.br"})]})]})]})]}),l.jsxs("div",{className:"mt-12 pt-8 border-t border-white/10 text-center text-sm text-gray-400",children:[l.jsxs("p",{children:[" ",e," Rede Kalunga Comunicaes. Todos os direitos reservados."]}),l.jsx("p",{className:"mt-2",children:"Comunicao popular, jornalismo independente e pertencimento territorial."})]})]})]})}function Q1(){return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(G1,{}),l.jsx("main",{className:"flex-1",children:l.jsx(wg,{})}),l.jsx(J1,{})]})}async function Sp(){const{data:e}=await Ce.auth.getSession(),t=e.session;if(!t)return[];const{data:n,error:a}=await Ce.from("user_roles").select("role:roles(name)").eq("user_id",t.user.id);return a?[]:(n||[]).map(o=>{var u;return(u=o==null?void 0:o.role)==null?void 0:u.name}).filter(Boolean)}function Y1(e,t){return e.includes("admin_alfa")?!0:t.some(n=>e.includes(n))}function X1(){const e=sn(),t=Da(),n=e.pathname,[a,o]=E.useState([]),[u,d]=E.useState(!0),h=[{href:"/admin",label:"Dashboard",icon:qg,allow:["admin_alfa","admin","editor","autor"]},{href:"/admin/materias",label:"Matrias",icon:Rl,allow:["admin_alfa","admin","editor","autor"]},{href:"/admin/projetos",label:"Projetos",icon:Dd,allow:["admin_alfa","admin","editor"]},{href:"/admin/equipe",label:"Equipe",icon:Ia,allow:["admin_alfa","admin","editor"]},{href:"/admin/usuarios",label:"Usurios",icon:Ia,allow:["admin_alfa"]},{href:"/admin/configuracoes",label:"Configuraes",icon:Gg,allow:["admin_alfa"]}];E.useEffect(()=>{let y=!0;(async()=>{d(!0);const x=await Sp();y&&(o(x),d(!1))})();const{data:v}=Ce.auth.onAuthStateChange(async()=>{const x=await Sp();y&&o(x)});return()=>{y=!1,v.subscription.unsubscribe()}},[]);const p=E.useMemo(()=>h.filter(y=>Y1(a,y.allow)),[a]),m=async()=>{await Ce.auth.signOut(),t("/admin/login")};return l.jsxs("aside",{className:"w-64 bg-sidebar text-sidebar-foreground border-r border-sidebar-border hidden md:flex flex-col h-screen fixed left-0 top-0 z-40",children:[l.jsx("div",{className:"p-6 border-b border-sidebar-border flex items-center gap-3",children:l.jsx("img",{src:oy,alt:"Rede Kalunga Comunicaes",className:"h-12 w-auto"})}),l.jsx("div",{className:"px-6 py-3 border-b border-sidebar-border text-xs text-muted-foreground",children:u?l.jsx("span",{children:"Carregando permisses..."}):l.jsxs("span",{children:["Permisses: ",a.length?a.join(", "):""]})}),l.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:p.map(y=>{const v=y.icon,x=n===y.href||y.href!=="/admin"&&n.startsWith(y.href);return l.jsxs(ze,{to:y.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium transition-colors ${x?"bg-sidebar-accent text-sidebar-accent-foreground":"text-muted-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}`,children:[l.jsx(v,{className:"h-4 w-4"}),y.label]},y.href)})}),l.jsx("div",{className:"p-4 border-t border-sidebar-border",children:l.jsxs("button",{onClick:m,className:"flex w-full items-center gap-3 px-3 py-2.5 rounded-md text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors",children:[l.jsx(Hg,{className:"h-4 w-4"}),"Sair"]})})]})}function Z1(){const[e,t]=E.useState(!1);return l.jsxs("div",{className:"min-h-screen bg-background font-sans",children:[l.jsx(X1,{}),l.jsxs("div",{className:"md:hidden flex items-center justify-between p-4 border-b bg-sidebar text-sidebar-foreground",children:[l.jsx("span",{className:"font-bold text-lg",children:"RKC Admin"}),l.jsx("button",{onClick:()=>t(!e),className:"p-2",children:l.jsx(Kg,{className:"h-6 w-6"})})]}),e&&l.jsxs("div",{className:"fixed inset-0 z-50 bg-background md:hidden p-4",children:[l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:()=>t(!1),className:"p-2",children:""})}),l.jsx("div",{className:"mt-8",children:l.jsx(ek,{onClose:()=>t(!1)})})]}),l.jsx("main",{className:"md:pl-64 min-h-screen transition-all duration-300 ease-in-out",children:l.jsx("div",{className:"container mx-auto p-6 md:p-8 max-w-7xl",children:l.jsx(wg,{})})})]})}function ek({onClose:e}){const n=sn().pathname,a=[{href:"/admin",label:"Dashboard",icon:qg},{href:"/admin/materias",label:"Matrias",icon:Rl},{href:"/admin/projetos",label:"Projetos",icon:Dd},{href:"/admin/equipe",label:"Equipe",icon:c1},{href:"/admin/usuarios",label:"Usurios",icon:Ia},{href:"/admin/configuracoes",label:"Configuraes",icon:Gg}];return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("nav",{className:"flex-1 space-y-2",children:a.map(o=>{const u=o.icon,d=n===o.href||o.href!=="/admin"&&n.startsWith(o.href);return l.jsxs(ze,{to:o.href,onClick:e,className:`flex items-center gap-3 px-3 py-3 rounded-md text-base font-medium transition-colors ${d?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-muted"}`,children:[l.jsx(u,{className:"h-5 w-5"}),o.label]},o.href)})}),l.jsx("div",{className:"mt-8 pt-8 border-t",children:l.jsxs("button",{className:"flex w-full items-center gap-3 px-3 py-3 rounded-md text-base font-medium text-destructive hover:bg-destructive/10 transition-colors",children:[l.jsx(Hg,{className:"h-5 w-5"}),"Sair"]})})]})}const Zt=E.forwardRef(({className:e,variant:t="primary",size:n="md",children:a,...o},u)=>{const d="inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:pointer-events-none",h={primary:"bg-[#0F7A3E] text-white hover:bg-[#0d6633]",secondary:"bg-[#2FA866] text-white hover:bg-[#28915a]",outline:"border-2 border-[#0F7A3E] text-[#0F7A3E] hover:bg-[#0F7A3E] hover:text-white",accent:"bg-[#F2B705] text-[#2E2E2E] hover:bg-[#d9a504]"},p={sm:"px-4 py-2 text-sm",md:"px-6 py-3",lg:"px-8 py-4 text-lg"};return l.jsx("button",{ref:u,className:Us(d,h[t],p[n],e),...o,children:a})});Zt.displayName="RKCButton";function Dt({className:e,variant:t="default",children:n,...a}){const o="bg-white rounded-xl overflow-hidden transition-all hover:shadow-lg",u={default:"border border-gray-200 shadow-sm",featured:"shadow-md border-l-4 border-l-[#0F7A3E]",minimal:"border-none"};return l.jsx("div",{className:Us(o,u[t],e),...a,children:n})}function cs({src:e,alt:t,aspectRatio:n="video",className:a,...o}){const u={video:"aspect-video",square:"aspect-square",portrait:"aspect-[3/4]"};return l.jsx("div",{className:Us("relative overflow-hidden",u[n],a),...o,children:l.jsx("img",{src:e,alt:t,className:"w-full h-full object-cover"})})}function zt({className:e,children:t,...n}){return l.jsx("div",{className:Us("p-5",e),...n,children:t})}function Tr({className:e,variant:t="green",children:n,...a}){const o={green:"bg-[#0F7A3E]/10 text-[#0F7A3E]",yellow:"bg-[#F2B705]/10 text-[#C85A1E]",orange:"bg-[#C85A1E]/10 text-[#C85A1E]",brown:"bg-[#7A3E1D]/10 text-[#7A3E1D]"};return l.jsx("span",{className:Us("inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",o[t],e),...a,children:n})}async function Md(){const{data:e,error:t}=await Ce.from("site_settings").select(`
      home_banner_image_url,
      home_banner_title,
      home_banner_subtitle,
      home_territory_image_url,
      home_territory_title,
      home_territory_subtitle,
      about_team_image_url,
      about_team_title,
      about_team_subtitle
      `).eq("singleton",!0).maybeSingle();if(t)throw t;return{home_banner_image_url:(e==null?void 0:e.home_banner_image_url)??null,home_banner_title:(e==null?void 0:e.home_banner_title)??null,home_banner_subtitle:(e==null?void 0:e.home_banner_subtitle)??null,home_territory_image_url:(e==null?void 0:e.home_territory_image_url)??null,home_territory_title:(e==null?void 0:e.home_territory_title)??null,home_territory_subtitle:(e==null?void 0:e.home_territory_subtitle)??null,about_team_image_url:(e==null?void 0:e.about_team_image_url)??null,about_team_title:(e==null?void 0:e.about_team_title)??null,about_team_subtitle:(e==null?void 0:e.about_team_subtitle)??null}}async function tk(e){const{data:t,error:n}=await Ce.from("site_settings").update({...e,updated_at:new Date().toISOString()}).eq("singleton",!0).select(`
      home_banner_image_url,
      home_banner_title,
      home_banner_subtitle,
      home_territory_image_url,
      home_territory_title,
      home_territory_subtitle,
      about_team_image_url,
      about_team_title,
      about_team_subtitle
      `).maybeSingle();if(n)throw n;return t}function rk(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}function nk(){const[e,t]=E.useState(!0),[n,a]=E.useState(!0),[o,u]=E.useState([]),[d,h]=E.useState([]),[p,m]=E.useState(null),y="https://images.unsplash.com/photo-1623289784234-0670ebb4add4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxxdWlsb21ib2xhJTIwY29tbXVuaXR5JTIwYnJhemlsJTIwY3VsdHVyZXxlbnwxfHx8fDE3NzAwNzUyNjN8MA&ixlib=rb-4.1.0&q=80&w=1080",v="https://images.unsplash.com/photo-1701890013861-a6ec62094c10?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxicmF6aWwlMjBsYW5kc2NhcGUlMjBuYXR1cmUlMjBjZXJyYWRvfGVufDF8fHx8MTc3MDA3NTI2OHww&ixlib=rb-4.1.0&q=80&w=1080";E.useEffect(()=>{(async()=>{try{const b=await Md();m(b)}catch(b){console.warn("Erro ao carregar settings (Home):",(b==null?void 0:b.message)||b),m(null)}})(),(async()=>{t(!0);const{data:b,error:j}=await Ce.from("projetos").select("id, slug, titulo, resumo, descricao, capa_url, sort_order, publicado_transparencia, published_at, created_at").or("publicado_transparencia.eq.true,publicado_transparencia.is.null").order("sort_order",{ascending:!0,nullsFirst:!1}).order("published_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1}).limit(4);if(t(!1),j){console.warn("Erro ao carregar projetos (Home):",j.message),u([]);return}const k=(b||[]).map(C=>({id:C.id,slug:C.slug,titulo:C.titulo||"",descricao:C.resumo||C.descricao||"",imagem:C.capa_url||"",tag:"Projeto"}));u(k)})(),(async()=>{a(!0);const{data:b,error:j}=await Ce.from("materias").select("id, slug, titulo, resumo, capa_url, autor_nome, tags, status, published_at, created_at").eq("status","published").order("published_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1}).limit(6);if(a(!1),j){console.warn("Erro ao carregar matrias (Home):",j.message),h([]);return}const k=(b||[]).map(C=>({id:C.id,slug:C.slug,titulo:C.titulo||"",resumo:C.resumo||"",imagem:C.capa_url||"",autor:C.autor_nome||"",data:rk(C.published_at||C.created_at),categoria:C.tags&&C.tags[0]?C.tags[0]:"Geral"}));h(k)})()},[]);const x=E.useMemo(()=>d[0],[d]),_=E.useMemo(()=>d.slice(1),[d]);return l.jsxs("div",{children:[l.jsxs("section",{className:"relative min-h-[70vh] md:min-h-[80vh] flex items-center overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("img",{src:(p==null?void 0:p.home_banner_image_url)||y,alt:"Comunidade Kalunga",className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent"})]}),l.jsx("div",{className:"relative z-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-20",children:l.jsxs("div",{className:"max-w-3xl",children:[l.jsx(Tr,{variant:"yellow",className:"mb-6",children:"Comunicao Popular"}),l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight",children:(p==null?void 0:p.home_banner_title)||"Amplificando as vozes do Territrio Kalunga"}),l.jsx("p",{className:"text-lg sm:text-xl text-gray-200 mb-8 leading-relaxed",children:(p==null?void 0:p.home_banner_subtitle)||"Mdia independente quilombola na Chapada dos Veadeiros, promovendo jornalismo comunitrio, cultura e pertencimento territorial."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx(ze,{to:"/quem-somos",children:l.jsxs(Zt,{size:"lg",children:["Conhea nossa histria",l.jsx(ls,{className:"w-5 h-5"})]})}),l.jsx(ze,{to:"/materias",children:l.jsx(Zt,{variant:"outline",size:"lg",className:"border-white text-white hover:bg-white hover:text-[#0F7A3E]",children:"Ler matrias"})})]})]})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-white",style:{clipPath:"ellipse(100% 100% at 50% 100%)"}})]}),l.jsx("section",{className:"pt-0 pb-14 md:pt-2 md:pb-20 bg-white",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-4",children:"Nossos Projetos"}),l.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Iniciativas que fortalecem cultura, comunicao e sustentabilidade no territrio quilombola"})]}),e&&l.jsx("div",{className:"text-center text-sm text-gray-500 mb-8",children:"Carregando projetos..."}),!e&&o.length===0&&l.jsx("div",{className:"text-center text-sm text-gray-500 mb-8",children:"Nenhum projeto publicado ainda."}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map(b=>l.jsx(ze,{to:`/projetos/${b.slug}`,children:l.jsxs(Dt,{className:"h-full hover:scale-[1.02] transition-transform",children:[l.jsx(cs,{src:b.imagem,alt:b.titulo}),l.jsxs(zt,{children:[l.jsx(Tr,{variant:"green",className:"mb-3",children:b.tag}),l.jsx("h3",{className:"font-bold text-lg mb-2 text-[#2E2E2E]",children:b.titulo}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:b.descricao})]})]})},b.id))}),l.jsx("div",{className:"text-center",children:l.jsx(ze,{to:"/projetos",children:l.jsxs(Zt,{variant:"secondary",children:["Ver todos os projetos",l.jsx(ls,{className:"w-4 h-4"})]})})})]})}),l.jsx("section",{className:"py-16 md:py-24 bg-gray-50",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-12",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-2",children:"ltimas Matrias"}),l.jsx("p",{className:"text-gray-600",children:"Jornalismo independente e territorial"})]}),l.jsx(ze,{to:"/materias",className:"hidden sm:block",children:l.jsx(Zt,{variant:"outline",children:"Ver todas"})})]}),n&&l.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Carregando matrias..."}),!n&&d.length===0&&l.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Nenhuma matria publicada ainda."}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[x&&l.jsx(ze,{to:`/materias/${x.slug}`,className:"lg:col-span-2",children:l.jsx(Dt,{variant:"featured",className:"h-full hover:scale-[1.01] transition-transform",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[l.jsx(cs,{src:x.imagem,alt:x.titulo,aspectRatio:"square"}),l.jsxs(zt,{className:"flex flex-col justify-between p-8",children:[l.jsxs("div",{children:[l.jsx(Tr,{variant:"orange",className:"mb-4",children:x.categoria}),l.jsx("h3",{className:"text-2xl font-bold text-[#2E2E2E] mb-3 leading-tight",children:x.titulo}),l.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:x.resumo})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Al,{className:"w-4 h-4"}),x.autor]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(eo,{className:"w-4 h-4"}),x.data]})]})]})]})})}),l.jsx("div",{className:"space-y-6",children:_.slice(0,2).map(b=>l.jsx(ze,{to:`/materias/${b.slug}`,children:l.jsx(Dt,{className:"hover:scale-[1.02] transition-transform",children:l.jsxs("div",{className:"flex gap-4 p-4",children:[l.jsx("img",{src:b.imagem,alt:b.titulo,className:"w-24 h-24 object-cover rounded-lg flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(Tr,{variant:"green",className:"mb-2 text-xs",children:b.categoria}),l.jsx("h4",{className:"font-bold text-sm mb-2 line-clamp-2 text-[#2E2E2E]",children:b.titulo}),l.jsx("p",{className:"text-xs text-gray-500",children:b.data})]})]})})},b.id))})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:_.slice(2,5).map(b=>l.jsx(ze,{to:`/materias/${b.slug}`,children:l.jsxs(Dt,{className:"h-full hover:scale-[1.02] transition-transform",children:[l.jsx(cs,{src:b.imagem,alt:b.titulo,aspectRatio:"video"}),l.jsxs(zt,{children:[l.jsx(Tr,{variant:"green",className:"mb-3",children:b.categoria}),l.jsx("h4",{className:"font-bold mb-2 line-clamp-2 text-[#2E2E2E]",children:b.titulo}),l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:b.resumo}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[l.jsx("span",{children:b.autor}),l.jsx("span",{children:""}),l.jsx("span",{children:b.data})]})]})]})},b.id))}),l.jsx("div",{className:"text-center mt-8 sm:hidden",children:l.jsx(ze,{to:"/materias",children:l.jsx(Zt,{variant:"outline",children:"Ver todas as matrias"})})})]})}),l.jsxs("section",{className:"py-16 md:py-20 bg-gradient-to-br from-[#0F7A3E] to-[#2FA866] relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-10 left-10 w-64 h-64 rounded-full bg-white blur-3xl"}),l.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 rounded-full bg-[#F2B705] blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Receba nossas histrias"}),l.jsx("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Assine nossa newsletter e acompanhe as histrias, projetos e transformaes do Territrio Kalunga"}),l.jsx(ze,{to:"/newsletter",children:l.jsxs(Zt,{variant:"accent",size:"lg",children:["Assinar Newsletter",l.jsx(ls,{className:"w-5 h-5"})]})})]})]}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-6",children:(p==null?void 0:p.home_territory_title)||"Comunicao que nasce do territrio"}),l.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:(p==null?void 0:p.home_territory_subtitle)||"A Rede Kalunga Comunicaes (RKC)  uma iniciativa de mdia independente que surge das comunidades quilombolas da Chapada dos Veadeiros."}),l.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Nossa misso  amplificar as vozes do territrio, promover o jornalismo comunitrio e fortalecer a cultura e identidade quilombola atravs da comunicao popular."}),l.jsx(ze,{to:"/quem-somos",children:l.jsxs(Zt,{children:["Conhea a RKC",l.jsx(ls,{className:"w-4 h-4"})]})})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"aspect-square rounded-2xl overflow-hidden",children:l.jsx("img",{src:(p==null?void 0:p.home_territory_image_url)||v,alt:"Territrio Kalunga",className:"w-full h-full object-cover"})}),l.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-[#F2B705] rounded-full opacity-80 blur-2xl"}),l.jsx("div",{className:"absolute -bottom-4 -left-4 w-32 h-32 bg-[#0F7A3E] rounded-full opacity-60 blur-2xl"})]})]})})})]})}function sk(){const e=[{icon:Aj,titulo:"Pertencimento",descricao:"Enraizamento territorial e valorizao da identidade quilombola"},{icon:Ia,titulo:"Comunidade",descricao:"Comunicao feita pela e para as comunidades do territrio"},{icon:s1,titulo:"Autonomia",descricao:"Jornalismo independente e livre de interesses comerciais"},{icon:Fj,titulo:"Amplificao",descricao:"Dar voz e visibilidade s narrativas do territrio quilombola"}],[t,n]=E.useState(null),[a,o]=E.useState(!0),[u,d]=E.useState([]),h="https://images.unsplash.com/photo-1521737604893-d14cc237f11d?fit=crop&w=1400&q=80";E.useEffect(()=>{(async()=>{try{const m=await Md();n(m)}catch(m){console.warn("Erro ao carregar settings (QuemSomos):",(m==null?void 0:m.message)||m),n(null)}})(),(async()=>{o(!0);const{data:m,error:y}=await Ce.from("equipe").select("id, nome, cargo, foto_url, ordem, ativo").or("ativo.eq.true,ativo.is.null").order("ordem",{ascending:!0}).order("nome",{ascending:!0});if(o(!1),y){console.warn("Erro ao carregar equipe:",y.message),d([]);return}const v=(m||[]).map(x=>({id:String(x.id),nome:x.nome||"",cargo:x.cargo||x.funcao||"",foto_url:x.foto_url||""}));d(v)})()},[]);const p=E.useMemo(()=>u.filter(m=>!!m.foto_url).slice(0,10),[u]);return l.jsxs("div",{children:[l.jsxs("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-[#0F7A3E] to-[#2FA866] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full bg-white blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-[#F2B705] blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",children:"Quem Somos"}),l.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Comunicao popular que nasce do corao do Territrio Kalunga"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-white",style:{clipPath:"ellipse(100% 100% at 50% 100%)"}})]}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-10 text-center",children:"Nossa Histria"}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-10 items-start",children:[l.jsxs("div",{className:"prose prose-lg max-w-none",children:[l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"A Rede Kalunga Comunicaes (RKC) nasceu em 2020 como uma resposta  necessidade de dar voz e visibilidade s histrias, saberes e lutas das comunidades quilombolas da Chapada dos Veadeiros e do Territrio Kalunga."}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"Somos uma mdia independente, criada e gerida por comunicadores populares, jornalistas comunitrios e lideranas territoriais comprometidas com a valorizao da cultura quilombola, a defesa dos direitos das comunidades tradicionais e a promoo do jornalismo tico e independente."}),l.jsx("p",{className:"text-lg text-gray-700 leading-relaxed mb-0",children:"Nosso trabalho se fundamenta na comunicao popular, entendendo que as prprias comunidades devem ser protagonistas de suas narrativas. Atravs de matrias, reportagens, projetos culturais e formativos, buscamos amplificar as vozes que historicamente foram silenciadas ou distorcidas pela mdia tradicional."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs(Dt,{className:"overflow-hidden",children:[l.jsxs("div",{className:"relative aspect-[16/9] w-full overflow-hidden",children:[l.jsx("img",{src:(t==null?void 0:t.about_team_image_url)||h,alt:"Equipe RKC",className:"w-full h-full object-cover"}),p.length>0&&l.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center",children:[p.map((m,y)=>l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white bg-gray-100",style:{marginLeft:y===0?0:-10},title:m.nome,children:l.jsx("img",{src:m.foto_url,alt:m.nome,className:"w-full h-full object-cover"})},m.id)),u.length>p.length&&l.jsxs("div",{className:"w-10 h-10 rounded-full border-2 border-white bg-black/60 text-white text-xs flex items-center justify-center",style:{marginLeft:-10},children:["+",u.length-p.length]})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"})]}),l.jsxs(zt,{className:"p-6",children:[l.jsx("h3",{className:"font-bold text-xl text-[#2E2E2E] mb-2",children:(t==null?void 0:t.about_team_title)||"Nossa Equipe"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:(t==null?void 0:t.about_team_subtitle)||"Conhea as pessoas que constroem a RKC no dia a dia."}),a&&l.jsx("div",{className:"text-sm text-gray-500",children:"Carregando equipe..."}),!a&&u.length===0&&l.jsx("div",{className:"text-sm text-gray-500",children:"Nenhum membro cadastrado ainda."}),!a&&u.length>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.map(m=>l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-100 flex-shrink-0",children:m.foto_url?l.jsx("img",{src:m.foto_url,alt:m.nome,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-gray-400",children:"sem foto"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold text-sm text-[#2E2E2E] truncate",children:m.nome}),l.jsx("p",{className:"text-xs text-gray-600 truncate",children:m.cargo})]})]},m.id))})]})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"*Este bloco  editado no Admin > Configuraes > Quem Somos."})]})]})]})}),l.jsx("section",{className:"py-16 md:py-24 bg-gray-50",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-12 text-center",children:"Nossos Valores"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((m,y)=>{const v=m.icon;return l.jsx(Dt,{className:"text-center",children:l.jsxs(zt,{className:"p-8",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#0F7A3E] to-[#2FA866] flex items-center justify-center",children:l.jsx(v,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"font-bold text-xl text-[#2E2E2E] mb-3",children:m.titulo}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:m.descricao})]})},y)})})]})}),l.jsx("section",{className:"py-16 md:py-20 bg-white",children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-6",children:"Faa parte dessa histria"}),l.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-2xl mx-auto",children:"Conhea nossos projetos, leia nossas matrias e entre em contato para colaborar com a comunicao popular quilombola."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsx(ze,{to:"/projetos",children:l.jsxs(Zt,{size:"lg",children:["Ver Projetos",l.jsx(ls,{className:"w-5 h-5"})]})}),l.jsx(ze,{to:"/contato",children:l.jsx(Zt,{variant:"outline",size:"lg",children:"Entre em Contato"})})]})]})})]})}function Cp(){if(typeof window>"u")return 3;const e=window.innerWidth;return e>=1024?3:e>=768?2:1}function Rp({items:e,renderItem:t,autoplay:n=!0,autoplayMs:a=2500,transitionMs:o=700,showArrows:u=!0,className:d=""}){const[h,p]=E.useState(()=>Cp()),[m,y]=E.useState(0),[v,x]=E.useState(!1),[_,b]=E.useState(!0),j=E.useRef(null),k=E.useRef(0);E.useEffect(()=>{const Y=()=>p(Cp());return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]);const C=E.useMemo(()=>{const Y=e||[];if(Y.length===0)return[];const $=Math.max(h+2,6),ae=[];for(;ae.length<$;)ae.push(...Y);return ae},[e,h]),A=E.useMemo(()=>{if(C.length===0)return[];const Y=C.slice(-h*2),$=C.slice(0,h*2);return[...Y,...C,...$]},[C,h]),D=E.useMemo(()=>C.length===0?0:h*2,[C.length,h]);E.useEffect(()=>{y(D),b(!1);const Y=requestAnimationFrame(()=>b(!0));return()=>cancelAnimationFrame(Y)},[D]);const W=C.length>1;function J(){W&&y(Y=>Y-1)}function z(){W&&y(Y=>Y+1)}E.useEffect(()=>{if(!n||!W||v)return;const Y=window.setInterval(()=>{z()},a);return()=>window.clearInterval(Y)},[n,a,v,W,h]);function S(){if(C.length===0)return;const Y=C.length,$=h*1,ae=h*2+Y;m<=$?(b(!1),y(m+Y),requestAnimationFrame(()=>b(!0))):m>=ae&&(b(!1),y(m-Y),requestAnimationFrame(()=>b(!0)))}function M(Y){W&&(j.current=Y.touches[0].clientX,k.current=0,x(!0))}function Q(Y){j.current!=null&&(k.current=Y.touches[0].clientX-j.current)}function Re(){if(j.current==null)return;const Y=k.current;j.current=null,Y>60?J():Y<-60&&z(),x(!1)}function Le(Y){W&&(j.current=Y.clientX,k.current=0,x(!0))}function pe(Y){j.current!=null&&(k.current=Y.clientX-j.current)}function G(){if(j.current==null)return;const Y=k.current;j.current=null,Y>80?J():Y<-80&&z(),x(!1)}function re(){j.current!=null&&G(),x(!1)}const oe=100/h,he=m*oe;return!e||e.length===0?null:l.jsxs("div",{className:`space-y-4 ${d}`,children:[u&&W&&l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("button",{type:"button",onClick:J,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-white hover:bg-gray-50 text-sm",children:[l.jsx(Fa,{className:"w-4 h-4"}),"Anterior"]}),l.jsxs("button",{type:"button",onClick:z,className:"inline-flex items-center gap-2 px-3 py-2 rounded-md border bg-white hover:bg-gray-50 text-sm",children:["Prximo",l.jsx(ls,{className:"w-4 h-4"})]})]}),l.jsx("div",{className:"overflow-hidden select-none",onMouseEnter:()=>x(!0),onMouseLeave:()=>{re(),x(!1)},onTouchStart:M,onTouchMove:Q,onTouchEnd:Re,children:l.jsx("div",{className:"flex",onMouseDown:Le,onMouseMove:pe,onMouseUp:G,onTransitionEnd:S,style:{transform:`translateX(-${he}%)`,transition:_?`transform ${o}ms cubic-bezier(0.22, 1, 0.36, 1)`:"none",cursor:W?"grab":"default"},children:A.map((Y,$)=>l.jsx("div",{className:"shrink-0 px-3",style:{width:`${oe}%`},children:t(Y,$)},$))})})]})}function ak(){const[e,t]=E.useState(!0),[n,a]=E.useState([]);E.useEffect(()=>{(async()=>{t(!0);const{data:d,error:h}=await Ce.from("projetos").select("id, slug, titulo, resumo, descricao, capa_url, sort_order, publicado_transparencia, published_at, created_at").eq("publicado_transparencia",!0).order("sort_order",{ascending:!0,nullsFirst:!1}).order("published_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t(!1),h){console.warn("Erro ao carregar projetos:",h.message),a([]);return}const p=(d||[]).map(m=>({id:m.id,slug:m.slug,titulo:m.titulo||"",descricao:m.resumo||m.descricao||"",imagem:m.capa_url||"",tag:"Projeto",ano:"",status:"Ativo"}));a(p)})()},[]);const o=E.useMemo(()=>n.filter(d=>d.status==="Ativo"),[n]),u=E.useMemo(()=>n.filter(d=>d.status==="Concludo"),[n]);return l.jsxs("div",{children:[l.jsxs("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-[#0F7A3E] to-[#2FA866] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full bg-white blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-[#F2B705] blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",children:"Nossos Projetos"}),l.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Iniciativas que fortalecem cultura, comunicao e sustentabilidade no Territrio Kalunga"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-white",style:{clipPath:"ellipse(100% 100% at 50% 100%)"}})]}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-2",children:"Projetos"}),l.jsx("p",{className:"text-gray-600",children:"Explore nossos projetos em formato de galeria"})]}),e&&l.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Carregando projetos..."}),!e&&o.length===0&&l.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Nenhum projeto publicado ainda."}),!e&&o.length>0&&l.jsx(Rp,{items:o,autoplay:!0,autoplayMs:8e3,transitionMs:1200,renderItem:d=>l.jsx(ze,{to:`/projetos/${d.slug}`,children:l.jsxs(Dt,{className:"h-full hover:scale-[1.02] transition-transform",children:[l.jsx(cs,{src:d.imagem,alt:d.titulo}),l.jsxs(zt,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx(Tr,{variant:"green",children:d.tag}),l.jsx("span",{className:"text-xs text-gray-500",children:d.ano})]}),l.jsx("h3",{className:"font-bold text-xl mb-3 text-[#2E2E2E]",children:d.titulo}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-4",children:d.descricao}),l.jsxs("div",{className:"flex items-center text-[#0F7A3E] font-medium text-sm",children:["Saiba mais",l.jsx(ls,{className:"w-4 h-4 ml-1"})]})]})]})},d.id)}),u.length>0&&l.jsxs("div",{className:"mt-16",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-[#2E2E2E] mb-2",children:"Projetos Concludos"}),l.jsx("p",{className:"text-gray-600",children:"Trabalhos finalizados que deixaram legados importantes"})]}),l.jsx(Rp,{items:u,autoplay:!0,autoplayMs:9e3,transitionMs:1200,renderItem:d=>l.jsx(ze,{to:`/projetos/${d.slug}`,children:l.jsxs(Dt,{className:"h-full hover:scale-[1.02] transition-transform",children:[l.jsx(cs,{src:d.imagem,alt:d.titulo}),l.jsxs(zt,{children:[l.jsx(Tr,{variant:"brown",className:"mb-3",children:d.tag}),l.jsx("h3",{className:"font-bold text-xl mb-3 text-[#2E2E2E]",children:d.titulo}),l.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:d.descricao})]})]})},d.id)})]}),l.jsx("div",{className:"text-center mt-12",children:l.jsx(ze,{to:"/contato",children:l.jsxs(Zt,{children:["Entrar em contato",l.jsx(ls,{className:"w-4 h-4"})]})})})]})})]})}function Bc(e){const t=(e||"").toLowerCase();return t.endsWith(".mp4")||t.endsWith(".webm")||t.endsWith(".mov")||t.includes("youtube.com")||t.includes("youtu.be")||t.includes("vimeo.com")}function Ap(e){try{const t=new URL(e);if(t.hostname.includes("youtu.be")){const n=t.pathname.replace("/","");return n?`https://www.youtube.com/embed/${n}`:null}if(t.hostname.includes("youtube.com")){const n=t.searchParams.get("v");return n?`https://www.youtube.com/embed/${n}`:null}return null}catch{return null}}async function ik(e){const{data:t,error:n}=await Ce.from("projeto_galeria").select("id, tipo, url, titulo, thumb_url, ordem, created_at").eq("projeto_id",e).order("ordem",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!0});if(n)throw n;return(t||[]).map(a=>({id:a.id,type:a.tipo,url:a.url,title:a.titulo||void 0,thumb_url:a.thumb_url||void 0}))}function ok(){const e=Yi(),t=e.slug||e.id,[n,a]=E.useState(!0),[o,u]=E.useState(null),[d,h]=E.useState(null);E.useEffect(()=>{t&&(async()=>{var j;a(!0);const m="publicado_transparencia.eq.true,publicado_transparencia.is.null";let y=null;const v=await Ce.from("projetos").select("id, slug, titulo, resumo, descricao, capa_url, publicado_transparencia, published_at, created_at").eq("slug",t).or(m).limit(1);if(!v.error&&v.data&&v.data.length>0)y=v.data[0];else{const k=await Ce.from("projetos").select("id, slug, titulo, resumo, descricao, capa_url, publicado_transparencia, published_at, created_at").eq("id",t).or(m).limit(1);!k.error&&k.data&&k.data.length>0&&(y=k.data[0])}if(!y){u(null),a(!1);return}let x=[];try{x=await ik(y.id)}catch(k){console.warn("Erro ao carregar galeria do projeto:",(k==null?void 0:k.message)||k)}const _=((j=x.find(k=>k.type==="image"))==null?void 0:j.url)||"",b={id:y.id,slug:y.slug,titulo:y.titulo||"",descricao:y.resumo||"",descricaoCompleta:y.descricao||y.resumo||"",imagem:y.capa_url||_,tag:"Projeto",ano:"",status:"Ativo",objetivos:[],resultados:[],galeria:x};u(b),a(!1)})()},[t]);const p=E.useMemo(()=>((o==null?void 0:o.galeria)||[]).map(y=>({...y,type:y.type||(Bc(y.url)?"video":"image")})),[o]);return n?l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Carregando projeto..."})}):o?l.jsxs("div",{className:"w-full",children:[l.jsxs("section",{className:"relative w-full overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:o.imagem?`url(${o.imagem})`:void 0}}),o.imagem?null:l.jsx("div",{className:"absolute inset-0 bg-black/10"}),l.jsx("div",{className:"absolute inset-0 bg-black/55"}),l.jsx("div",{className:"relative",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4",children:l.jsxs("div",{className:"min-h-[160px] md:min-h-[190px] flex flex-col justify-end pb-8",style:{paddingTop:"clamp(3.5rem, 8vh, 6rem)"},children:[l.jsxs(ze,{to:"/projetos",className:"inline-flex items-center gap-2 text-sm text-white/85 hover:text-white",children:[l.jsx(Fa,{className:"w-4 h-4"}),"Voltar para Projetos"]}),l.jsx("div",{className:"mt-6",children:l.jsx(Tr,{children:o.tag})}),l.jsx("h1",{className:"mt-3 text-3xl md:text-4xl font-semibold text-white",children:o.titulo}),l.jsx("p",{className:"mt-3 max-w-3xl text-base md:text-lg text-white/90",children:o.descricao})]})})})]}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-10",children:[l.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.2fr_.8fr]",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Sobre o Projeto"}),l.jsx("p",{className:"mt-3 text-base text-gray-700",children:o.descricaoCompleta}),l.jsx("h3",{className:"mt-10 text-2xl font-semibold",children:"Objetivos"}),l.jsxs("div",{className:"mt-4 flex items-center gap-3 text-gray-700",children:[l.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full border border-green-700 text-green-700",children:""}),l.jsx("span",{children:"(Em breve)"})]}),l.jsx("h3",{className:"mt-10 text-2xl font-semibold",children:"Resultados Alcanados"}),l.jsx("div",{className:"mt-4 rounded-xl bg-green-50 p-6",children:l.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[l.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full border border-green-700 text-green-700",children:""}),l.jsx("span",{children:"(Em breve)"})]})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Dt,{children:l.jsxs(zt,{children:[l.jsx("div",{className:"text-lg font-semibold",children:"Informaes"}),l.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(eo,{className:"w-4 h-4"})," Perodo"]}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"inline-flex items-center gap-2",children:[l.jsx(Ia,{className:"w-4 h-4"})," Status"]}),l.jsx("span",{children:o.status})]})]})]})}),l.jsxs("div",{className:"rounded-2xl bg-gradient-to-b from-emerald-700 to-emerald-600 text-white shadow-lg px-8 py-8",children:[l.jsx("h3",{className:"text-center text-2xl font-semibold",children:"Quer saber mais?"}),l.jsxs("p",{className:"mt-4 text-center text-base text-white/90 leading-relaxed",children:["Entre em contato para conhecer melhor este ",l.jsx("br",{className:"hidden sm:block"}),"projeto"]}),l.jsx(ze,{to:"/contato",className:`mt-6 block w-full rounded-xl bg-yellow-400 hover:bg-yellow-500 text-center
                           py-4 text-lg font-semibold text-gray-900 shadow-md transition-colors`,children:"Entrar em Contato"})]})]})]}),l.jsxs("section",{className:"mt-10",children:[l.jsx("h2",{className:"text-2xl font-semibold",children:"Galeria do Projeto"}),p.length===0?l.jsxs("div",{className:"mt-4 rounded-xl border p-4 text-sm text-gray-600 flex items-center gap-2",children:[l.jsx(us,{className:"w-4 h-4"}),"(Em breve)  quando voc cadastrar no Admin, vai aparecer aqui automaticamente."]}):l.jsx("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:p.map(m=>{const y=m.type==="video"||Bc(m.url);return l.jsxs("button",{type:"button",onClick:()=>h(m),className:"group rounded-2xl overflow-hidden border text-left",children:[l.jsx("div",{className:"relative",children:y?l.jsx("div",{className:"h-44 w-full bg-black/5 flex items-center justify-center",children:l.jsx(Hj,{className:"w-10 h-10 opacity-70"})}):l.jsx("img",{src:m.thumb_url||m.url,alt:m.title||"Imagem",className:"h-44 w-full object-cover group-hover:scale-[1.02] transition-transform",loading:"lazy"})}),m.title?l.jsx("div",{className:"p-3 text-sm text-gray-700",children:m.title}):null]},m.id)})})]}),d?l.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 p-4 flex items-center justify-center",onClick:()=>h(null),children:l.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full overflow-hidden",onClick:m=>m.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[l.jsx("div",{className:"text-sm font-medium",children:d.title||"Mdia"}),l.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100",onClick:()=>h(null),children:l.jsx(Jg,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"p-3",children:d.type==="video"||Bc(d.url)?Ap(d.url)?l.jsx("iframe",{src:Ap(d.url),title:d.title||"Vdeo",className:"w-full h-[60vh] rounded-xl",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):l.jsx("video",{src:d.url,controls:!0,className:"w-full rounded-xl"}):l.jsx("img",{src:d.url,alt:d.title||"Imagem",className:"w-full rounded-xl"})})]})}):null]})]}):l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:l.jsx("div",{className:"text-center text-sm text-gray-500",children:"Projeto no encontrado."})})}function lk(e){return e?new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}):""}function uk(){const[e,t]=E.useState("Todas"),[n,a]=E.useState([]),[o,u]=E.useState(!0);E.useEffect(()=>{(async()=>{u(!0);const{data:v,error:x}=await Ce.from("materias").select("id, titulo, resumo, capa_url, autor_nome, tags, published_at, created_at, status").eq("status","published").order("published_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(u(!1),x){console.error(x),a([]);return}a(v||[])})()},[]);const d=E.useMemo(()=>n.map(v=>{const x=v.tags&&v.tags[0]?v.tags[0]:"Geral";return{id:v.id,titulo:v.titulo,resumo:v.resumo||"",imagem:v.capa_url||"https://images.unsplash.com/photo-1579308343343-6557a756d515?auto=format&fit=crop&w=1200&q=80",autor:v.autor_nome||"RKC",data:lk(v.published_at||v.created_at),categoria:x}}),[n]),h=E.useMemo(()=>{const v=d.map(x=>x.categoria).filter(Boolean);return["Todas",...Array.from(new Set(v))]},[d]),p=E.useMemo(()=>e==="Todas"?d:d.filter(v=>v.categoria===e),[d,e]),m=p[0],y=p.slice(1);return l.jsxs("div",{children:[l.jsxs("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-[#C85A1E] to-[#7A3E1D] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full bg-white blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-[#F2B705] blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",children:"Matrias"}),l.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Jornalismo independente que nasce do territrio quilombola"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-white",style:{clipPath:"ellipse(100% 100% at 50% 100%)"}})]}),l.jsx("section",{className:"py-8 bg-white border-b border-gray-200",children:l.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(v=>l.jsx("button",{onClick:()=>t(v),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${e===v?"bg-[#0F7A3E] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v},v))})})}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:o?l.jsx("div",{className:"text-gray-500",children:"Carregando matrias..."}):p.length===0?l.jsx("div",{className:"text-gray-500",children:"Nenhuma matria publicada ainda."}):l.jsxs(l.Fragment,{children:[m&&l.jsx("div",{className:"mb-12",children:l.jsx(ze,{to:`/materias/${m.id}`,children:l.jsx(Dt,{variant:"featured",className:"hover:scale-[1.01] transition-transform",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-0",children:[l.jsx(cs,{src:m.imagem,alt:m.titulo,aspectRatio:"square"}),l.jsxs(zt,{className:"flex flex-col justify-between p-8 lg:p-12",children:[l.jsxs("div",{children:[l.jsx(Tr,{variant:"orange",className:"mb-4",children:m.categoria}),l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#2E2E2E] mb-4 leading-tight",children:m.titulo}),l.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:m.resumo})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Al,{className:"w-4 h-4"}),m.autor]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(eo,{className:"w-4 h-4"}),m.data]})]})]})]})})})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.map(v=>l.jsx(ze,{to:`/materias/${v.id}`,children:l.jsxs(Dt,{className:"h-full hover:scale-[1.02] transition-transform",children:[l.jsx(cs,{src:v.imagem,alt:v.titulo}),l.jsxs(zt,{children:[l.jsx(Tr,{variant:"green",className:"mb-3",children:v.categoria}),l.jsx("h3",{className:"font-bold text-xl mb-3 text-[#2E2E2E] line-clamp-2",children:v.titulo}),l.jsx("p",{className:"text-sm text-gray-600 mb-4 leading-relaxed line-clamp-3",children:v.resumo}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[l.jsx("span",{children:v.autor}),l.jsx("span",{children:""}),l.jsx("span",{children:v.data})]})]})]})},v.id))})]})})})]})}function ck(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}function dk(){const e=Yi(),t=e.slug||e.id,[n,a]=E.useState(!0),[o,u]=E.useState(null),[d,h]=E.useState([]),p=E.useMemo(()=>({id:"",slug:"",titulo:"",resumo:"",imagem:"",autor:"",data:"",categoria:"",conteudo:""}),[]);E.useEffect(()=>{t&&(async()=>{a(!0);let y=null;const v=await Ce.from("materias").select("id, slug, titulo, resumo, capa_url, autor_nome, tags, conteudo, published_at, created_at, status").eq("slug",t).eq("status","published").limit(1);if(!v.error&&v.data&&v.data.length>0)y=v.data[0];else{const j=await Ce.from("materias").select("id, slug, titulo, resumo, capa_url, autor_nome, tags, conteudo, published_at, created_at, status").eq("id",t).eq("status","published").limit(1);!j.error&&j.data&&j.data.length>0&&(y=j.data[0])}if(!y){a(!1),u(null),h([]);return}const x={id:y.id,slug:y.slug,titulo:y.titulo||"",resumo:y.resumo||"",imagem:y.capa_url||"",autor:y.autor_nome||"",data:ck(y.published_at||y.created_at),categoria:y.tags&&y.tags[0]?y.tags[0]:"Geral",conteudo:y.conteudo||""};u(x);const{data:_,error:b}=await Ce.from("materias").select("id, slug, titulo, capa_url, tags, published_at, created_at, status").eq("status","published").neq("id",y.id).order("published_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1}).limit(3);h(b?[]:(_||[]).map(j=>({id:j.id,slug:j.slug,titulo:j.titulo||"",imagem:j.capa_url||"",categoria:j.tags&&j.tags[0]?j.tags[0]:"Geral"}))),a(!1)})()},[t]);const m=o||p;return l.jsxs("div",{children:[l.jsxs("section",{className:"relative h-[70vh] flex items-end overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("img",{src:m.imagem,alt:m.titulo,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"})]}),l.jsx("div",{className:"relative z-10 w-full pb-16",children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[l.jsxs(ze,{to:"/materias",className:"inline-flex items-center gap-2 text-white/90 hover:text-white mb-6 transition-colors",children:[l.jsx(Fa,{className:"w-4 h-4"}),"Voltar para Matrias"]}),l.jsx(Tr,{variant:"yellow",className:"mb-4",children:m.categoria}),l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight max-w-3xl",children:m.titulo}),l.jsx("p",{className:"text-xl text-white/90 mb-6 leading-relaxed max-w-2xl",children:m.resumo}),l.jsxs("div",{className:"flex items-center gap-6 text-white/80",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Al,{className:"w-5 h-5"}),l.jsx("span",{children:m.autor})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(eo,{className:"w-5 h-5"}),l.jsx("span",{children:m.data})]})]})]})})]}),l.jsx("article",{className:"py-16 md:py-24 bg-white",children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:[n&&l.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Carregando matria..."}),!n&&!o&&l.jsx("div",{className:"text-sm text-gray-500 mb-8",children:"Matria no encontrada ou no publicada."}),!!o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"prose prose-lg max-w-none",children:l.jsx("div",{className:"article-content text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:m.conteudo},style:{fontSize:"1.125rem",lineHeight:"1.8"}})}),l.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[l.jsx("h3",{className:"font-bold text-lg text-[#2E2E2E]",children:"Compartilhe esta matria"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{className:"w-10 h-10 rounded-full bg-[#0F7A3E] hover:bg-[#0d6633] transition-colors flex items-center justify-center",children:l.jsx(Id,{className:"w-5 h-5 text-white"})}),l.jsx("button",{className:"w-10 h-10 rounded-full bg-[#0F7A3E] hover:bg-[#0d6633] transition-colors flex items-center justify-center",children:l.jsx($d,{className:"w-5 h-5 text-white"})}),l.jsx("button",{className:"w-10 h-10 rounded-full bg-[#0F7A3E] hover:bg-[#0d6633] transition-colors flex items-center justify-center",children:l.jsx(Pa,{className:"w-5 h-5 text-white"})}),l.jsx("button",{className:"w-10 h-10 rounded-full bg-[#0F7A3E] hover:bg-[#0d6633] transition-colors flex items-center justify-center",children:l.jsx(Zj,{className:"w-5 h-5 text-white"})})]})]})}),l.jsx("div",{className:"mt-12",children:l.jsx(Dt,{className:"bg-gradient-to-br from-[#0F7A3E]/5 to-[#2FA866]/5",children:l.jsx(zt,{className:"p-8",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#0F7A3E] to-[#2FA866] flex items-center justify-center flex-shrink-0",children:l.jsx(Al,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-lg text-[#2E2E2E] mb-2",children:m.autor}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Jornalista comunitria da Rede Kalunga Comunicaes, dedicada a contar as histrias do territrio quilombola e fortalecer a comunicao popular."})]})]})})})})]})]})}),l.jsx("section",{className:"py-16 bg-gradient-to-br from-[#0F7A3E] to-[#2FA866]",children:l.jsxs("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Gostou desta matria?"}),l.jsx("p",{className:"text-lg text-white/90 mb-8",children:"Assine nossa newsletter e receba mais histrias do Territrio Kalunga"}),l.jsx(ze,{to:"/newsletter",children:l.jsx(Zt,{variant:"accent",size:"lg",children:"Assinar Newsletter"})})]})}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-[#2E2E2E] mb-8",children:"Leia tambm"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map(y=>l.jsx(ze,{to:`/materias/${y.slug}`,children:l.jsxs(Dt,{className:"h-full hover:scale-[1.02] transition-transform",children:[l.jsx(cs,{src:y.imagem,alt:y.titulo}),l.jsxs(zt,{children:[l.jsx(Tr,{variant:"green",className:"mb-3",children:y.categoria}),l.jsx("h3",{className:"font-bold text-lg text-[#2E2E2E]",children:y.titulo})]})]})},y.id))})]})}),l.jsx("style",{children:`
        .article-content h3 {
          font-size: 1.5rem;
          font-weight: 700;
          color: #0F7A3E;
          margin-top: 2rem;
          margin-bottom: 1rem;
        }

        .article-content p {
          margin-bottom: 1.5rem;
        }

        .article-content p:first-child::first-letter {
          font-size: 3.5rem;
          font-weight: 700;
          line-height: 1;
          float: left;
          margin-right: 0.5rem;
          margin-top: 0.1rem;
          color: #0F7A3E;
        }
      `})]})}function hk(){const[e,t]=E.useState(""),[n,a]=E.useState(""),[o,u]=E.useState(!1),d=p=>{p.preventDefault(),u(!0),t(""),a("")},h=[{icon:zj,titulo:"Matrias Exclusivas",descricao:"Receba em primeira mo nossas reportagens e contedos especiais"},{icon:eo,titulo:"Agenda Cultural",descricao:"Fique por dentro dos eventos e atividades no territrio"},{icon:_j,titulo:"Atualizaes",descricao:"Novidades sobre projetos e iniciativas da RKC"}];return l.jsxs("div",{children:[l.jsxs("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-[#F2B705] to-[#C85A1E] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full bg-white blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-[#0F7A3E] blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:l.jsx(Pa,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",children:"Newsletter RKC"}),l.jsx("p",{className:"text-xl text-white/90 leading-relaxed max-w-2xl mx-auto",children:"Receba as histrias, projetos e transformaes do Territrio Kalunga diretamente no seu email"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-white",style:{clipPath:"ellipse(100% 100% at 50% 100%)"}})]}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsx("div",{className:"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8",children:o?l.jsx(Dt,{className:"border-2 border-[#0F7A3E]",children:l.jsxs(zt,{className:"p-8 md:p-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-[#0F7A3E]/10 flex items-center justify-center",children:l.jsx(Bg,{className:"w-10 h-10 text-[#0F7A3E]"})}),l.jsx("h2",{className:"text-3xl font-bold text-[#2E2E2E] mb-4",children:"Inscrio realizada!"}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Obrigado por se inscrever na nossa newsletter. Em breve voc receber nossas histrias e novidades no seu email."}),l.jsx("p",{className:"text-sm text-gray-500",children:"No esquea de verificar sua caixa de spam ou promoes."})]})}):l.jsx(Dt,{className:"border-2 border-[#0F7A3E]",children:l.jsxs(zt,{className:"p-8 md:p-12",children:[l.jsx("h2",{className:"text-3xl font-bold text-[#2E2E2E] mb-4 text-center",children:"Assine nossa Newsletter"}),l.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Preencha os dados abaixo e faa parte da nossa comunidade"}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nome",className:"block text-sm font-medium text-[#2E2E2E] mb-2",children:"Seu nome"}),l.jsx("input",{type:"text",id:"nome",value:n,onChange:p=>a(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0F7A3E] focus:border-transparent",placeholder:"Digite seu nome"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#2E2E2E] mb-2",children:"Seu email"}),l.jsx("input",{type:"email",id:"email",value:e,onChange:p=>t(p.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0F7A3E] focus:border-transparent",placeholder:"seuemail@exemplo.com"})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("input",{type:"checkbox",id:"consent",required:!0,className:"mt-1 w-4 h-4 text-[#0F7A3E] border-gray-300 rounded focus:ring-[#0F7A3E]"}),l.jsx("label",{htmlFor:"consent",className:"text-sm text-gray-600",children:"Concordo em receber emails da Rede Kalunga Comunicaes e entendo que posso cancelar a inscrio a qualquer momento."})]}),l.jsxs(Zt,{type:"submit",className:"w-full",size:"lg",children:["Assinar Newsletter",l.jsx(Pa,{className:"w-5 h-5"})]})]})]})})})}),l.jsx("section",{className:"py-16 md:py-24 bg-gray-50",children:l.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#2E2E2E] mb-12 text-center",children:"O que voc vai receber"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:h.map((p,m)=>{const y=p.icon;return l.jsx(Dt,{className:"text-center",children:l.jsxs(zt,{className:"p-8",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#F2B705] to-[#C85A1E] flex items-center justify-center",children:l.jsx(y,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"font-bold text-xl text-[#2E2E2E] mb-3",children:p.titulo}),l.jsx("p",{className:"text-gray-600 leading-relaxed",children:p.descricao})]})},m)})})]})}),l.jsx("section",{className:"py-16 md:py-20 bg-white",children:l.jsx("div",{className:"mx-auto max-w-3xl px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"bg-gradient-to-br from-[#0F7A3E]/5 to-[#2FA866]/5 rounded-2xl p-8 md:p-12",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-[#2E2E2E] mb-6 text-center",children:"Quando voc receber"}),l.jsxs("p",{className:"text-lg text-gray-700 leading-relaxed mb-6 text-center",children:["Nossa newsletter  enviada ",l.jsx("strong",{children:"quinzenalmente"}),", sempre trazendo o melhor do jornalismo comunitrio do Territrio Kalunga."]}),l.jsx("p",{className:"text-gray-600 text-center",children:"Respeitamos sua privacidade e voc pode cancelar a inscrio a qualquer momento."})]})})})]})}function fk(){const[e,t]=E.useState({nome:"",email:"",assunto:"",mensagem:""}),[n,a]=E.useState(!1),o=h=>{h.preventDefault(),a(!0),t({nome:"",email:"",assunto:"",mensagem:""})},u=h=>{t({...e,[h.target.name]:h.target.value})},d=[{icon:Pa,titulo:"Email",info:"contato@redekalunga.org.br",link:"mailto:contato@redekalunga.org.br"},{icon:Wg,titulo:"Localizao",info:"Chapada dos Veadeiros, Territrio Kalunga, GO",link:null},{icon:Vj,titulo:"Telefone",info:"(62) 9 8765-4321",link:"tel:+5562987654321"}];return l.jsxs("div",{children:[l.jsxs("section",{className:"relative py-20 md:py-32 bg-gradient-to-br from-[#2FA866] to-[#0F7A3E] overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 rounded-full bg-white blur-3xl"}),l.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 rounded-full bg-[#F2B705] blur-3xl"})]}),l.jsxs("div",{className:"relative z-10 mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6",children:"Entre em Contato"}),l.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Quer colaborar, sugerir pautas ou conhecer nosso trabalho? Estamos aqui para conversar!"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-white",style:{clipPath:"ellipse(100% 100% at 50% 100%)"}})]}),l.jsx("section",{className:"py-16 md:py-24 bg-white",children:l.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[l.jsx("div",{className:"lg:col-span-2",children:n?l.jsx(Dt,{className:"border-2 border-[#0F7A3E]",children:l.jsxs(zt,{className:"p-8 md:p-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-[#0F7A3E]/10 flex items-center justify-center",children:l.jsx(Bg,{className:"w-10 h-10 text-[#0F7A3E]"})}),l.jsx("h2",{className:"text-3xl font-bold text-[#2E2E2E] mb-4",children:"Mensagem enviada!"}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Obrigado por entrar em contato. Retornaremos em breve!"}),l.jsx(Zt,{onClick:()=>a(!1),variant:"outline",children:"Enviar nova mensagem"})]})}):l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-[#2E2E2E] mb-4",children:"Envie uma mensagem"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"Preencha o formulrio abaixo e entraremos em contato em breve."}),l.jsxs("form",{onSubmit:o,className:"space-y-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nome",className:"block text-sm font-medium text-[#2E2E2E] mb-2",children:"Seu nome *"}),l.jsx("input",{type:"text",id:"nome",name:"nome",value:e.nome,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0F7A3E] focus:border-transparent",placeholder:"Digite seu nome"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#2E2E2E] mb-2",children:"Seu email *"}),l.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0F7A3E] focus:border-transparent",placeholder:"seuemail@exemplo.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"assunto",className:"block text-sm font-medium text-[#2E2E2E] mb-2",children:"Assunto *"}),l.jsxs("select",{id:"assunto",name:"assunto",value:e.assunto,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0F7A3E] focus:border-transparent",children:[l.jsx("option",{value:"",children:"Selecione um assunto"}),l.jsx("option",{value:"parceria",children:"Parcerias e Colaboraes"}),l.jsx("option",{value:"pauta",children:"Sugesto de Pauta"}),l.jsx("option",{value:"duvida",children:"Dvidas"}),l.jsx("option",{value:"outros",children:"Outros"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"mensagem",className:"block text-sm font-medium text-[#2E2E2E] mb-2",children:"Mensagem *"}),l.jsx("textarea",{id:"mensagem",name:"mensagem",value:e.mensagem,onChange:u,required:!0,rows:6,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#0F7A3E] focus:border-transparent resize-none",placeholder:"Digite sua mensagem..."})]}),l.jsxs(Zt,{type:"submit",size:"lg",children:["Enviar Mensagem",l.jsx(Qj,{className:"w-5 h-5"})]})]})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-[#2E2E2E] mb-6",children:"Informaes de Contato"}),l.jsx("div",{className:"space-y-4",children:d.map((h,p)=>{const m=h.icon,y=l.jsx(Dt,{className:"hover:shadow-md transition-shadow",children:l.jsx(zt,{className:"p-6",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-full bg-[#0F7A3E]/10 flex items-center justify-center",children:l.jsx(m,{className:"w-6 h-6 text-[#0F7A3E]"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-[#2E2E2E] mb-1",children:h.titulo}),l.jsx("p",{className:"text-gray-600 text-sm",children:h.info})]})]})})},p);return h.link?l.jsx("a",{href:h.link,target:"_blank",rel:"noopener noreferrer",children:y},p):y})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-[#2E2E2E] mb-4",children:"Redes Sociais"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#0F7A3E] hover:bg-[#0d6633] transition-colors flex items-center justify-center",children:l.jsx($d,{className:"w-6 h-6 text-white"})}),l.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#0F7A3E] hover:bg-[#0d6633] transition-colors flex items-center justify-center",children:l.jsx(Id,{className:"w-6 h-6 text-white"})})]})]}),l.jsx(Dt,{className:"bg-gradient-to-br from-[#0F7A3E]/5 to-[#2FA866]/5",children:l.jsxs(zt,{className:"p-6",children:[l.jsx("h4",{className:"font-bold text-[#2E2E2E] mb-3",children:"Horrio de Atendimento"}),l.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Segunda a Sexta",l.jsx("br",{}),"09:00 - 18:00"]})]})})]})]})})})]})}function mk(){return l.jsx("div",{className:"min-h-[60vh] flex items-center justify-center px-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-6xl font-bold text-[#0F7A3E] mb-4",children:"404"}),l.jsx("h2",{className:"text-2xl font-bold text-[#2E2E2E] mb-4",children:"Pgina no encontrada"}),l.jsx("p",{className:"text-gray-600 mb-8",children:"A pgina que voc est procurando no existe."}),l.jsx(ze,{to:"/",children:l.jsx(Zt,{children:"Voltar para Home"})})]})})}function pk(){const e=[{title:"Total de Matrias",value:"124",icon:Rl,change:"+12% esse ms"},{title:"Projetos Ativos",value:"8",icon:Dd,change:"2 novos"},{title:"Usurios Cadastrados",value:"1,203",icon:Ia,change:"+5% essa semana"},{title:"Visitas (30 dias)",value:"45.2k",icon:o1,change:"+18%"}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Bem-vindo ao painel administrativo da Rede Kalunga Comunicaes."})]}),l.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:e.map(t=>l.jsxs("div",{className:"rounded-xl border bg-card text-card-foreground shadow-sm p-6",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx("h3",{className:"tracking-tight text-sm font-medium text-muted-foreground",children:t.title}),l.jsx(t.icon,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("div",{className:"text-2xl font-bold",children:t.value}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t.change})]})]},t.title))}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[l.jsx("div",{className:"col-span-4 rounded-xl border bg-card text-card-foreground shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Matrias Recentes"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"ltimas publicaes no portal."}),l.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>l.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b last:border-0 last:pb-0",children:[l.jsx("div",{className:"h-12 w-12 rounded bg-muted flex items-center justify-center",children:l.jsx(Rl,{className:"h-6 w-6 text-muted-foreground/50"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("p",{className:"text-sm font-medium leading-none",children:["Ttulo da Matria Exemplo ",t]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Publicado em 03/02/2025"})]})]},t))})]})}),l.jsx("div",{className:"col-span-3 rounded-xl border bg-card text-card-foreground shadow-sm",children:l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"font-semibold text-lg",children:"Status do Sistema"}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Banco de Dados"}),l.jsx("span",{className:"text-green-600 font-medium",children:"Conectado"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"API"}),l.jsx("span",{className:"text-green-600 font-medium",children:"Online"})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{children:"Verso"}),l.jsx("span",{className:"text-muted-foreground",children:"v1.0.0"})]})]})]})})]})]})}function ly(e){return(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-")}async function gk(){return Ce.from("materias").select("*").order("created_at",{ascending:!1})}async function yk(e){return Ce.from("materias").select("*").eq("id",e).single()}async function vk(e){return Ce.from("materias").insert(e).select("*").single()}async function xk(e,t){return Ce.from("materias").update(t).eq("id",e).select("*").single()}async function wk(e){return Ce.from("materias").delete().eq("id",e)}async function bk(){return Ce.from("projetos").select("*").order("created_at",{ascending:!1})}async function _k(e){return Ce.from("projetos").select("*").eq("id",e).single()}async function jk(e){return Ce.from("projetos").insert(e).select("*").single()}async function kk(e,t){return Ce.from("projetos").update(t).eq("id",e).select("*").single()}async function Ek(e){return Ce.from("projetos").delete().eq("id",e)}function Nk(e){return e==="published"?"Publicado":e==="archived"?"Arquivado":"Rascunho"}function Sk(){const[e,t]=E.useState([]),[n,a]=E.useState(!0),[o,u]=E.useState("");async function d(){a(!0);const{data:m,error:y}=await gk();!y&&m&&t(m),a(!1)}E.useEffect(()=>{d()},[]);const h=E.useMemo(()=>{const m=o.trim().toLowerCase();return m?e.filter(y=>(y.titulo||"").toLowerCase().includes(m)||(y.resumo||"").toLowerCase().includes(m)||(y.tags||[]).join(" ").toLowerCase().includes(m)):e},[e,o]),p=async m=>{if(!confirm("Excluir esta matria?"))return;const{error:y}=await wk(m);if(y){alert(y.message);return}await d()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Matrias"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie as matrias publicadas no site."})]}),l.jsxs(ze,{to:"/admin/materias/nova",className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90",children:[l.jsx(Oa,{className:"mr-2 h-4 w-4"}),"Nova Matria"]})]}),l.jsx("div",{className:"flex items-center gap-2 bg-card p-4 rounded-lg border shadow-sm",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(zl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"search",placeholder:"Buscar matrias...",value:o,onChange:m=>u(m.target.value),className:"w-full rounded-md border border-input bg-background pl-9 pr-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]})}),l.jsx("div",{className:"rounded-md border bg-card shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium",children:"Ttulo"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Categoria"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Data"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Status"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:n?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:5,children:"Carregando..."})}):h.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:5,children:"Nenhuma matria encontrada."})}):h.map(m=>{const y=m.tags&&m.tags[0]?m.tags[0]:"",v=m.published_at||m.created_at,x=v?new Date(v).toLocaleDateString("pt-BR"):"",_=Nk(m.status);return l.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-foreground",children:m.titulo}),l.jsx("td",{className:"px-6 py-4",children:y}),l.jsx("td",{className:"px-6 py-4",children:x}),l.jsx("td",{className:"px-6 py-4",children:_}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{to:`/materias/${m.id}`,className:"p-2 hover:bg-muted rounded-full text-muted-foreground hover:text-foreground transition-colors",title:"Visualizar",children:l.jsx(Vg,{className:"h-4 w-4"})}),l.jsx(ze,{to:`/admin/materias/editar/${m.id}`,className:"p-2 hover:bg-muted rounded-full text-blue-600 hover:text-blue-700 transition-colors",title:"Editar",children:l.jsx(Bl,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>p(m.id),className:"p-2 hover:bg-muted rounded-full text-red-600 hover:text-red-700 transition-colors",title:"Excluir",children:l.jsx(La,{className:"h-4 w-4"})})]})})]},m.id)})})]})})})]})}function Ck(e){return e.publicado_transparencia?"Publicado":"Planejamento"}function Rk(){const[e,t]=E.useState([]),[n,a]=E.useState(!0),[o,u]=E.useState("");async function d(){a(!0);const{data:m,error:y}=await bk();!y&&m&&t(m),a(!1)}E.useEffect(()=>{d()},[]);const h=E.useMemo(()=>{const m=o.trim().toLowerCase();return[...m?e.filter(v=>(v.titulo||"").toLowerCase().includes(m)||(v.resumo||"").toLowerCase().includes(m)||(v.descricao||"").toLowerCase().includes(m)):e].sort((v,x)=>{const _=v.sort_order,b=x.sort_order,j=typeof _=="number"&&Number.isFinite(_),k=typeof b=="number"&&Number.isFinite(b);if(j&&k)return _-b;if(j&&!k)return-1;if(!j&&k)return 1;const C=v.updated_at?new Date(v.updated_at).getTime():0;return(x.updated_at?new Date(x.updated_at).getTime():0)-C})},[e,o]),p=async m=>{if(!confirm("Excluir este projeto?"))return;const{error:y}=await Ek(m);if(y){alert(y.message);return}await d()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Projetos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie os projetos cadastrados no site."})]}),l.jsxs(ze,{to:"/admin/projetos/novo",className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90",children:[l.jsx(Oa,{className:"mr-2 h-4 w-4"}),"Novo Projeto"]})]}),l.jsx("div",{className:"flex items-center gap-2 bg-card p-4 rounded-lg border shadow-sm",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(zl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"search",placeholder:"Buscar projetos...",value:o,onChange:m=>u(m.target.value),className:"w-full rounded-md border border-input bg-background pl-9 pr-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]})}),l.jsx("div",{className:"rounded-md border bg-card shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium w-[90px]",children:"Ordem"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Projeto"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Status"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Beneficirios"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"ltima atualizao"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:n?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:6,children:"Carregando..."})}):h.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:6,children:"Nenhum projeto encontrado."})}):h.map(m=>{var b;const y=Ck(m),v=m.updated_at?new Date(m.updated_at).toLocaleDateString("pt-BR"):"",x=(b=m.meta)!=null&&b.beneficiaries?m.meta.beneficiaries:"",_=typeof m.sort_order=="number"&&Number.isFinite(m.sort_order)?String(m.sort_order):"";return l.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:_}),l.jsx("td",{className:"px-6 py-4 font-medium text-foreground",children:m.titulo}),l.jsx("td",{className:"px-6 py-4",children:y}),l.jsx("td",{className:"px-6 py-4",children:x}),l.jsx("td",{className:"px-6 py-4",children:v}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{to:`/projetos/${m.id}`,className:"p-2 hover:bg-muted rounded-full text-muted-foreground hover:text-foreground transition-colors",title:"Visualizar",children:l.jsx(Vg,{className:"h-4 w-4"})}),l.jsx(ze,{to:`/admin/projetos/editar/${m.id}`,className:"p-2 hover:bg-muted rounded-full text-blue-600 hover:text-blue-700 transition-colors",title:"Editar",children:l.jsx(Bl,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>p(m.id),className:"p-2 hover:bg-muted rounded-full text-red-600 hover:text-red-700 transition-colors",title:"Excluir",children:l.jsx(La,{className:"h-4 w-4"})})]})})]},m.id)})})]})})})]})}function Ak(){const e=Da(),[t,n]=E.useState(""),[a,o]=E.useState(""),[u,d]=E.useState(!1),[h,p]=E.useState(null),m=async y=>{y.preventDefault(),p(null),d(!0);const{error:v}=await Ce.auth.signInWithPassword({email:t,password:a});if(d(!1),v){p(v.message);return}e("/admin",{replace:!0})};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/30 p-4",children:l.jsxs("div",{className:"w-full max-w-md bg-card p-8 rounded-xl shadow-lg border",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-primary",children:"RKC Admin"}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Entre com suas credenciais para acessar o painel."})]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Email"}),l.jsx("input",{id:"email",type:"email",placeholder:"seu@email.com",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,value:t,onChange:y=>n(y.target.value),disabled:u})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Senha"}),l.jsx("input",{id:"password",type:"password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,value:a,onChange:y=>o(y.target.value),disabled:u})]}),h&&l.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-md px-3 py-2",children:h}),l.jsx("button",{type:"submit",className:"w-full inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",disabled:u,children:u?"Entrando...":"Entrar"})]}),l.jsx("div",{className:"mt-6 text-center text-sm",children:l.jsx("a",{href:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Voltar para o site"})})]})})}var to=e=>e.type==="checkbox",Ms=e=>e instanceof Date,nr=e=>e==null;const uy=e=>typeof e=="object";var Nt=e=>!nr(e)&&!Array.isArray(e)&&uy(e)&&!Ms(e),Tk=e=>Nt(e)&&e.target?to(e.target)?e.target.checked:e.target.value:e,Pk=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ok=(e,t)=>e.has(Pk(t)),Lk=e=>{const t=e.constructor&&e.constructor.prototype;return Nt(t)&&t.hasOwnProperty("isPrototypeOf")},Ud=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _t(e){let t;const n=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ud&&(e instanceof Blob||a))&&(n||Nt(e)))if(t=n?[]:{},!n&&!Lk(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=_t(e[o]));else return e;return t}var ro=e=>Array.isArray(e)?e.filter(Boolean):[],yt=e=>e===void 0,ye=(e,t,n)=>{if(!t||!Nt(e))return n;const a=ro(t.split(/[,[\].]+?/)).reduce((o,u)=>nr(o)?o:o[u],e);return yt(a)||a===e?yt(e[t])?n:e[t]:a},en=e=>typeof e=="boolean",zd=e=>/^\w*$/.test(e),cy=e=>ro(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ut=(e,t,n)=>{let a=-1;const o=zd(t)?[t]:cy(t),u=o.length,d=u-1;for(;++a<u;){const h=o[a];let p=n;if(a!==d){const m=e[h];p=Nt(m)||Array.isArray(m)?m:isNaN(+o[a+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=p,e=e[h]}};const Tp={BLUR:"blur",FOCUS_OUT:"focusout"},Pr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ik=rt.createContext(null),Dk=()=>rt.useContext(Ik);var $k=(e,t,n,a=!0)=>{const o={defaultValues:t._defaultValues};for(const u in e)Object.defineProperty(o,u,{get:()=>{const d=u;return t._proxyFormState[d]!==Pr.all&&(t._proxyFormState[d]=!a||Pr.all),e[d]}});return o},tn=e=>typeof e=="string",Fk=(e,t,n,a,o)=>tn(e)?(a&&t.watch.add(e),ye(n,e,o)):Array.isArray(e)?e.map(u=>(a&&t.watch.add(u),ye(n,u))):(a&&(t.watchAll=!0),n),Mk=(e,t,n,a,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:o||!0}}:{},hr=e=>Array.isArray(e)?e:[e],Pp=()=>{let e=[];return{get observers(){return e},next:o=>{for(const u of e)u.next&&u.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(u=>u!==o)}}),unsubscribe:()=>{e=[]}}},yd=e=>nr(e)||!uy(e);function is(e,t){if(yd(e)||yd(t))return e===t;if(Ms(e)&&Ms(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const o of n){const u=e[o];if(!a.includes(o))return!1;if(o!=="ref"){const d=t[o];if(Ms(u)&&Ms(d)||Nt(u)&&Nt(d)||Array.isArray(u)&&Array.isArray(d)?!is(u,d):u!==d)return!1}}return!0}var Yt=e=>Nt(e)&&!Object.keys(e).length,Bd=e=>e.type==="file",Wr=e=>typeof e=="function",Tl=e=>{if(!Ud)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dy=e=>e.type==="select-multiple",Vd=e=>e.type==="radio",Uk=e=>Vd(e)||to(e),Vc=e=>Tl(e)&&e.isConnected;function zk(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=yt(e)?a++:e[t[a++]];return e}function Bk(e){for(const t in e)if(e.hasOwnProperty(t)&&!yt(e[t]))return!1;return!0}function Rt(e,t){const n=Array.isArray(t)?t:zd(t)?[t]:cy(t),a=n.length===1?e:zk(e,n),o=n.length-1,u=n[o];return a&&delete a[u],o!==0&&(Nt(a)&&Yt(a)||Array.isArray(a)&&Bk(a))&&Rt(e,n.slice(0,-1)),e}var hy=e=>{for(const t in e)if(Wr(e[t]))return!0;return!1};function Pl(e,t={}){const n=Array.isArray(e);if(Nt(e)||n)for(const a in e)Array.isArray(e[a])||Nt(e[a])&&!hy(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Pl(e[a],t[a])):nr(e[a])||(t[a]=!0);return t}function fy(e,t,n){const a=Array.isArray(e);if(Nt(e)||a)for(const o in e)Array.isArray(e[o])||Nt(e[o])&&!hy(e[o])?yt(t)||yd(n[o])?n[o]=Array.isArray(e[o])?Pl(e[o],[]):{...Pl(e[o])}:fy(e[o],nr(t)?{}:t[o],n[o]):n[o]=!is(e[o],t[o]);return n}var Ri=(e,t)=>fy(e,t,Pl(t));const Op={value:!1,isValid:!1},Lp={value:!0,isValid:!0};var my=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yt(e[0].attributes.value)?yt(e[0].value)||e[0].value===""?Lp:{value:e[0].value,isValid:!0}:Lp:Op}return Op},py=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>yt(e)?e:t?e===""?NaN:e&&+e:n&&tn(e)?new Date(e):a?a(e):e;const Ip={isValid:!1,value:null};var gy=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Ip):Ip;function Dp(e){const t=e.ref;return Bd(t)?t.files:Vd(t)?gy(e.refs).value:dy(t)?[...t.selectedOptions].map(({value:n})=>n):to(t)?my(e.refs).value:py(yt(t.value)?e.ref.value:t.value,e)}var Vk=(e,t,n,a)=>{const o={};for(const u of e){const d=ye(t,u);d&&ut(o,u,d._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:a}},Ol=e=>e instanceof RegExp,Ai=e=>yt(e)?e:Ol(e)?e.source:Nt(e)?Ol(e.value)?e.value.source:e.value:e,Ca=e=>({isOnSubmit:!e||e===Pr.onSubmit,isOnBlur:e===Pr.onBlur,isOnChange:e===Pr.onChange,isOnAll:e===Pr.all,isOnTouch:e===Pr.onTouched});const $p="AsyncFunction";var qk=e=>!!e&&!!e.validate&&!!(Wr(e.validate)&&e.validate.constructor.name===$p||Nt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$p)),Hk=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),vd=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Ta=(e,t,n,a)=>{for(const o of n||Object.keys(e)){const u=ye(e,o);if(u){const{_f:d,...h}=u;if(d){if(d.refs&&d.refs[0]&&t(d.refs[0],o)&&!a)return!0;if(d.ref&&t(d.ref,d.name)&&!a)return!0;if(Ta(h,t))break}else if(Nt(h)&&Ta(h,t))break}}};function Fp(e,t,n){const a=ye(e,n);if(a||zd(n))return{error:a,name:n};const o=n.split(".");for(;o.length;){const u=o.join("."),d=ye(t,u),h=ye(e,u);if(d&&!Array.isArray(d)&&n!==u)return{name:n};if(h&&h.type)return{name:u,error:h};o.pop()}return{name:n}}var Wk=(e,t,n,a)=>{n(e);const{name:o,...u}=e;return Yt(u)||Object.keys(u).length>=Object.keys(t).length||Object.keys(u).find(d=>t[d]===(!a||Pr.all))},Kk=(e,t,n)=>!e||!t||e===t||hr(e).some(a=>a&&(n?a===t:a.startsWith(t)||t.startsWith(a))),Gk=(e,t,n,a,o)=>o.isOnAll?!1:!n&&o.isOnTouch?!(t||e):(n?a.isOnBlur:o.isOnBlur)?!e:(n?a.isOnChange:o.isOnChange)?e:!0,Jk=(e,t)=>!ro(ye(e,t)).length&&Rt(e,t),yy=(e,t,n)=>{const a=hr(ye(e,n));return ut(a,"root",t[n]),ut(e,n,a),e},jl=e=>tn(e);function Mp(e,t,n="validate"){if(jl(e)||Array.isArray(e)&&e.every(jl)||en(e)&&!e)return{type:n,message:jl(e)?e:"",ref:t}}var ba=e=>Nt(e)&&!Ol(e)?e:{value:e,message:""},xd=async(e,t,n,a,o,u)=>{const{ref:d,refs:h,required:p,maxLength:m,minLength:y,min:v,max:x,pattern:_,validate:b,name:j,valueAsNumber:k,mount:C}=e._f,A=ye(n,j);if(!C||t.has(j))return{};const D=h?h[0]:d,W=pe=>{o&&D.reportValidity&&(D.setCustomValidity(en(pe)?"":pe||""),D.reportValidity())},J={},z=Vd(d),S=to(d),M=z||S,Q=(k||Bd(d))&&yt(d.value)&&yt(A)||Tl(d)&&d.value===""||A===""||Array.isArray(A)&&!A.length,Re=Mk.bind(null,j,a,J),Le=(pe,G,re,oe=bn.maxLength,he=bn.minLength)=>{const Y=pe?G:re;J[j]={type:pe?oe:he,message:Y,ref:d,...Re(pe?oe:he,Y)}};if(u?!Array.isArray(A)||!A.length:p&&(!M&&(Q||nr(A))||en(A)&&!A||S&&!my(h).isValid||z&&!gy(h).isValid)){const{value:pe,message:G}=jl(p)?{value:!!p,message:p}:ba(p);if(pe&&(J[j]={type:bn.required,message:G,ref:D,...Re(bn.required,G)},!a))return W(G),J}if(!Q&&(!nr(v)||!nr(x))){let pe,G;const re=ba(x),oe=ba(v);if(!nr(A)&&!isNaN(A)){const he=d.valueAsNumber||A&&+A;nr(re.value)||(pe=he>re.value),nr(oe.value)||(G=he<oe.value)}else{const he=d.valueAsDate||new Date(A),Y=te=>new Date(new Date().toDateString()+" "+te),$=d.type=="time",ae=d.type=="week";tn(re.value)&&A&&(pe=$?Y(A)>Y(re.value):ae?A>re.value:he>new Date(re.value)),tn(oe.value)&&A&&(G=$?Y(A)<Y(oe.value):ae?A<oe.value:he<new Date(oe.value))}if((pe||G)&&(Le(!!pe,re.message,oe.message,bn.max,bn.min),!a))return W(J[j].message),J}if((m||y)&&!Q&&(tn(A)||u&&Array.isArray(A))){const pe=ba(m),G=ba(y),re=!nr(pe.value)&&A.length>+pe.value,oe=!nr(G.value)&&A.length<+G.value;if((re||oe)&&(Le(re,pe.message,G.message),!a))return W(J[j].message),J}if(_&&!Q&&tn(A)){const{value:pe,message:G}=ba(_);if(Ol(pe)&&!A.match(pe)&&(J[j]={type:bn.pattern,message:G,ref:d,...Re(bn.pattern,G)},!a))return W(G),J}if(b){if(Wr(b)){const pe=await b(A,n),G=Mp(pe,D);if(G&&(J[j]={...G,...Re(bn.validate,G.message)},!a))return W(G.message),J}else if(Nt(b)){let pe={};for(const G in b){if(!Yt(pe)&&!a)break;const re=Mp(await b[G](A,n),D,G);re&&(pe={...re,...Re(G,re.message)},W(re.message),a&&(J[j]=pe))}if(!Yt(pe)&&(J[j]={ref:D,...pe},!a))return J}}return W(!0),J};const Qk={mode:Pr.onSubmit,reValidateMode:Pr.onChange,shouldFocusError:!0};function Yk(e={}){let t={...Qk,...e},n={submitCount:0,isDirty:!1,isLoading:Wr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let o=Nt(t.defaultValues)||Nt(t.values)?_t(t.values||t.defaultValues)||{}:{},u=t.shouldUnregister?{}:_t(o),d={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...y};const x={array:Pp(),state:Pp()},_=Ca(t.mode),b=Ca(t.reValidateMode),j=t.criteriaMode===Pr.all,k=T=>V=>{clearTimeout(m),m=setTimeout(T,V)},C=async T=>{if(!t.disabled&&(y.isValid||v.isValid||T)){const V=t.resolver?Yt((await Q()).errors):await Le(a,!0);V!==n.isValid&&x.state.next({isValid:V})}},A=(T,V)=>{!t.disabled&&(y.isValidating||y.validatingFields||v.isValidating||v.validatingFields)&&((T||Array.from(h.mount)).forEach(H=>{H&&(V?ut(n.validatingFields,H,V):Rt(n.validatingFields,H))}),x.state.next({validatingFields:n.validatingFields,isValidating:!Yt(n.validatingFields)}))},D=(T,V=[],H,ce,ue=!0,se=!0)=>{if(ce&&H&&!t.disabled){if(d.action=!0,se&&Array.isArray(ye(a,T))){const de=H(ye(a,T),ce.argA,ce.argB);ue&&ut(a,T,de)}if(se&&Array.isArray(ye(n.errors,T))){const de=H(ye(n.errors,T),ce.argA,ce.argB);ue&&ut(n.errors,T,de),Jk(n.errors,T)}if((y.touchedFields||v.touchedFields)&&se&&Array.isArray(ye(n.touchedFields,T))){const de=H(ye(n.touchedFields,T),ce.argA,ce.argB);ue&&ut(n.touchedFields,T,de)}(y.dirtyFields||v.dirtyFields)&&(n.dirtyFields=Ri(o,u)),x.state.next({name:T,isDirty:G(T,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ut(u,T,V)},W=(T,V)=>{ut(n.errors,T,V),x.state.next({errors:n.errors})},J=T=>{n.errors=T,x.state.next({errors:n.errors,isValid:!1})},z=(T,V,H,ce)=>{const ue=ye(a,T);if(ue){const se=ye(u,T,yt(H)?ye(o,T):H);yt(se)||ce&&ce.defaultChecked||V?ut(u,T,V?se:Dp(ue._f)):he(T,se),d.mount&&C()}},S=(T,V,H,ce,ue)=>{let se=!1,de=!1;const Ve={name:T};if(!t.disabled){if(!H||ce){(y.isDirty||v.isDirty)&&(de=n.isDirty,n.isDirty=Ve.isDirty=G(),se=de!==Ve.isDirty);const st=is(ye(o,T),V);de=!!ye(n.dirtyFields,T),st?Rt(n.dirtyFields,T):ut(n.dirtyFields,T,!0),Ve.dirtyFields=n.dirtyFields,se=se||(y.dirtyFields||v.dirtyFields)&&de!==!st}if(H){const st=ye(n.touchedFields,T);st||(ut(n.touchedFields,T,H),Ve.touchedFields=n.touchedFields,se=se||(y.touchedFields||v.touchedFields)&&st!==H)}se&&ue&&x.state.next(Ve)}return se?Ve:{}},M=(T,V,H,ce)=>{const ue=ye(n.errors,T),se=(y.isValid||v.isValid)&&en(V)&&n.isValid!==V;if(t.delayError&&H?(p=k(()=>W(T,H)),p(t.delayError)):(clearTimeout(m),p=null,H?ut(n.errors,T,H):Rt(n.errors,T)),(H?!is(ue,H):ue)||!Yt(ce)||se){const de={...ce,...se&&en(V)?{isValid:V}:{},errors:n.errors,name:T};n={...n,...de},x.state.next(de)}},Q=async T=>{A(T,!0);const V=await t.resolver(u,t.context,Vk(T||h.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return A(T),V},Re=async T=>{const{errors:V}=await Q(T);if(T)for(const H of T){const ce=ye(V,H);ce?ut(n.errors,H,ce):Rt(n.errors,H)}else n.errors=V;return V},Le=async(T,V,H={valid:!0})=>{for(const ce in T){const ue=T[ce];if(ue){const{_f:se,...de}=ue;if(se){const Ve=h.array.has(se.name),st=ue._f&&qk(ue._f);st&&y.validatingFields&&A([ce],!0);const mt=await xd(ue,h.disabled,u,j,t.shouldUseNativeValidation&&!V,Ve);if(st&&y.validatingFields&&A([ce]),mt[se.name]&&(H.valid=!1,V))break;!V&&(ye(mt,se.name)?Ve?yy(n.errors,mt,se.name):ut(n.errors,se.name,mt[se.name]):Rt(n.errors,se.name))}!Yt(de)&&await Le(de,V,H)}}return H.valid},pe=()=>{for(const T of h.unMount){const V=ye(a,T);V&&(V._f.refs?V._f.refs.every(H=>!Vc(H)):!Vc(V._f.ref))&&Xe(T)}h.unMount=new Set},G=(T,V)=>!t.disabled&&(T&&V&&ut(u,T,V),!is(K(),o)),re=(T,V,H)=>Fk(T,h,{...d.mount?u:yt(V)?o:tn(T)?{[T]:V}:V},H,V),oe=T=>ro(ye(d.mount?u:o,T,t.shouldUnregister?ye(o,T,[]):[])),he=(T,V,H={})=>{const ce=ye(a,T);let ue=V;if(ce){const se=ce._f;se&&(!se.disabled&&ut(u,T,py(V,se)),ue=Tl(se.ref)&&nr(V)?"":V,dy(se.ref)?[...se.ref.options].forEach(de=>de.selected=ue.includes(de.value)):se.refs?to(se.ref)?se.refs.length>1?se.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(ue)?!!ue.find(Ve=>Ve===de.value):ue===de.value)):se.refs[0]&&(se.refs[0].checked=!!ue):se.refs.forEach(de=>de.checked=de.value===ue):Bd(se.ref)?se.ref.value="":(se.ref.value=ue,se.ref.type||x.state.next({name:T,values:_t(u)})))}(H.shouldDirty||H.shouldTouch)&&S(T,ue,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&O(T)},Y=(T,V,H)=>{for(const ce in V){const ue=V[ce],se=`${T}.${ce}`,de=ye(a,se);(h.array.has(T)||Nt(ue)||de&&!de._f)&&!Ms(ue)?Y(se,ue,H):he(se,ue,H)}},$=(T,V,H={})=>{const ce=ye(a,T),ue=h.array.has(T),se=_t(V);ut(u,T,se),ue?(x.array.next({name:T,values:_t(u)}),(y.isDirty||y.dirtyFields||v.isDirty||v.dirtyFields)&&H.shouldDirty&&x.state.next({name:T,dirtyFields:Ri(o,u),isDirty:G(T,se)})):ce&&!ce._f&&!nr(se)?Y(T,se,H):he(T,se,H),vd(T,h)&&x.state.next({...n}),x.state.next({name:d.mount?T:void 0,values:_t(u)})},ae=async T=>{d.mount=!0;const V=T.target;let H=V.name,ce=!0;const ue=ye(a,H),se=de=>{ce=Number.isNaN(de)||Ms(de)&&isNaN(de.getTime())||is(de,ye(u,H,de))};if(ue){let de,Ve;const st=V.type?Dp(ue._f):Tk(T),mt=T.type===Tp.BLUR||T.type===Tp.FOCUS_OUT,hs=!Hk(ue._f)&&!t.resolver&&!ye(n.errors,H)&&!ue._f.deps||Gk(mt,ye(n.touchedFields,H),n.isSubmitted,b,_),Cn=vd(H,h,mt);ut(u,H,st),mt?(ue._f.onBlur&&ue._f.onBlur(T),p&&p(0)):ue._f.onChange&&ue._f.onChange(T);const Wt=S(H,st,mt),qs=!Yt(Wt)||Cn;if(!mt&&x.state.next({name:H,type:T.type,values:_t(u)}),hs)return(y.isValid||v.isValid)&&(t.mode==="onBlur"?mt&&C():mt||C()),qs&&x.state.next({name:H,...Cn?{}:Wt});if(!mt&&Cn&&x.state.next({...n}),t.resolver){const{errors:on}=await Q([H]);if(se(st),ce){const Rn=Fp(n.errors,a,H),An=Fp(on,a,Rn.name||H);de=An.error,H=An.name,Ve=Yt(on)}}else A([H],!0),de=(await xd(ue,h.disabled,u,j,t.shouldUseNativeValidation))[H],A([H]),se(st),ce&&(de?Ve=!1:(y.isValid||v.isValid)&&(Ve=await Le(a,!0)));ce&&(ue._f.deps&&O(ue._f.deps),M(H,Ve,de,Wt))}},te=(T,V)=>{if(ye(n.errors,V)&&T.focus)return T.focus(),1},O=async(T,V={})=>{let H,ce;const ue=hr(T);if(t.resolver){const se=await Re(yt(T)?T:ue);H=Yt(se),ce=T?!ue.some(de=>ye(se,de)):H}else T?(ce=(await Promise.all(ue.map(async se=>{const de=ye(a,se);return await Le(de&&de._f?{[se]:de}:de)}))).every(Boolean),!(!ce&&!n.isValid)&&C()):ce=H=await Le(a);return x.state.next({...!tn(T)||(y.isValid||v.isValid)&&H!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:H}:{},errors:n.errors}),V.shouldFocus&&!ce&&Ta(a,te,T?ue:h.mount),ce},K=T=>{const V={...d.mount?u:o};return yt(T)?V:tn(T)?ye(V,T):T.map(H=>ye(V,H))},fe=(T,V)=>({invalid:!!ye((V||n).errors,T),isDirty:!!ye((V||n).dirtyFields,T),error:ye((V||n).errors,T),isValidating:!!ye(n.validatingFields,T),isTouched:!!ye((V||n).touchedFields,T)}),ge=T=>{T&&hr(T).forEach(V=>Rt(n.errors,V)),x.state.next({errors:T?n.errors:{}})},Pe=(T,V,H)=>{const ce=(ye(a,T,{_f:{}})._f||{}).ref,ue=ye(n.errors,T)||{},{ref:se,message:de,type:Ve,...st}=ue;ut(n.errors,T,{...st,...V,ref:ce}),x.state.next({name:T,errors:n.errors,isValid:!1}),H&&H.shouldFocus&&ce&&ce.focus&&ce.focus()},Ue=(T,V)=>Wr(T)?x.state.subscribe({next:H=>T(re(void 0,V),H)}):re(T,V,!0),Ie=T=>x.state.subscribe({next:V=>{Kk(T.name,V.name,T.exact)&&Wk(V,T.formState||y,Nn,T.reRenderRoot)&&T.callback({values:{...u},...n,...V})}}).unsubscribe,We=T=>(d.mount=!0,v={...v,...T.formState},Ie({...T,formState:v})),Xe=(T,V={})=>{for(const H of T?hr(T):h.mount)h.mount.delete(H),h.array.delete(H),V.keepValue||(Rt(a,H),Rt(u,H)),!V.keepError&&Rt(n.errors,H),!V.keepDirty&&Rt(n.dirtyFields,H),!V.keepTouched&&Rt(n.touchedFields,H),!V.keepIsValidating&&Rt(n.validatingFields,H),!t.shouldUnregister&&!V.keepDefaultValue&&Rt(o,H);x.state.next({values:_t(u)}),x.state.next({...n,...V.keepDirty?{isDirty:G()}:{}}),!V.keepIsValid&&C()},vt=({disabled:T,name:V})=>{(en(T)&&d.mount||T||h.disabled.has(V))&&(T?h.disabled.add(V):h.disabled.delete(V))},sr=(T,V={})=>{let H=ye(a,T);const ce=en(V.disabled)||en(t.disabled);return ut(a,T,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:T}},name:T,mount:!0,...V}}),h.mount.add(T),H?vt({disabled:en(V.disabled)?V.disabled:t.disabled,name:T}):z(T,!0,V.value),{...ce?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:Ai(V.min),max:Ai(V.max),minLength:Ai(V.minLength),maxLength:Ai(V.maxLength),pattern:Ai(V.pattern)}:{},name:T,onChange:ae,onBlur:ae,ref:ue=>{if(ue){sr(T,V),H=ye(a,T);const se=yt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,de=Uk(se),Ve=H._f.refs||[];if(de?Ve.find(st=>st===se):se===H._f.ref)return;ut(a,T,{_f:{...H._f,...de?{refs:[...Ve.filter(Vc),se,...Array.isArray(ye(o,T))?[{}]:[]],ref:{type:se.type,name:T}}:{ref:se}}}),z(T,!1,void 0,se)}else H=ye(a,T,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(Ok(h.array,T)&&d.action)&&h.unMount.add(T)}}},lt=()=>t.shouldFocusError&&Ta(a,te,h.mount),fr=T=>{en(T)&&(x.state.next({disabled:T}),Ta(a,(V,H)=>{const ce=ye(a,H);ce&&(V.disabled=ce._f.disabled||T,Array.isArray(ce._f.refs)&&ce._f.refs.forEach(ue=>{ue.disabled=ce._f.disabled||T}))},0,!1))},an=(T,V)=>async H=>{let ce;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let ue=_t(u);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:de}=await Q();n.errors=se,ue=de}else await Le(a);if(h.disabled.size)for(const se of h.disabled)ut(ue,se,void 0);if(Rt(n.errors,"root"),Yt(n.errors)){x.state.next({errors:{}});try{await T(ue,H)}catch(se){ce=se}}else V&&await V({...n.errors},H),lt(),setTimeout(lt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Yt(n.errors)&&!ce,submitCount:n.submitCount+1,errors:n.errors}),ce)throw ce},Bs=(T,V={})=>{ye(a,T)&&(yt(V.defaultValue)?$(T,_t(ye(o,T))):($(T,V.defaultValue),ut(o,T,_t(V.defaultValue))),V.keepTouched||Rt(n.touchedFields,T),V.keepDirty||(Rt(n.dirtyFields,T),n.isDirty=V.defaultValue?G(T,_t(ye(o,T))):G()),V.keepError||(Rt(n.errors,T),y.isValid&&C()),x.state.next({...n}))},mr=(T,V={})=>{const H=T?_t(T):o,ce=_t(H),ue=Yt(T),se=ue?o:ce;if(V.keepDefaultValues||(o=H),!V.keepValues){if(V.keepDirtyValues){const de=new Set([...h.mount,...Object.keys(Ri(o,u))]);for(const Ve of Array.from(de))ye(n.dirtyFields,Ve)?ut(se,Ve,ye(u,Ve)):$(Ve,ye(se,Ve))}else{if(Ud&&yt(T))for(const de of h.mount){const Ve=ye(a,de);if(Ve&&Ve._f){const st=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Tl(st)){const mt=st.closest("form");if(mt){mt.reset();break}}}}for(const de of h.mount)$(de,ye(se,de))}u=_t(se),x.array.next({values:{...se}}),x.state.next({values:{...se}})}h={mount:V.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!y.isValid||!!V.keepIsValid||!!V.keepDirtyValues,d.watch=!!t.shouldUnregister,x.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:ue?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!is(T,o)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ue?{}:V.keepDirtyValues?V.keepDefaultValues&&u?Ri(o,u):n.dirtyFields:V.keepDefaultValues&&T?Ri(o,T):V.keepDirty?n.dirtyFields:{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},En=(T,V)=>mr(Wr(T)?T(u):T,V),Vs=(T,V={})=>{const H=ye(a,T),ce=H&&H._f;if(ce){const ue=ce.refs?ce.refs[0]:ce.ref;ue.focus&&(ue.focus(),V.shouldSelect&&Wr(ue.select)&&ue.select())}},Nn=T=>{n={...n,...T}},Ir={control:{register:sr,unregister:Xe,getFieldState:fe,handleSubmit:an,setError:Pe,_subscribe:Ie,_runSchema:Q,_getWatch:re,_getDirty:G,_setValid:C,_setFieldArray:D,_setDisabledField:vt,_setErrors:J,_getFieldArray:oe,_reset:mr,_resetDefaultValues:()=>Wr(t.defaultValues)&&t.defaultValues().then(T=>{En(T,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:pe,_disableForm:fr,_subjects:x,_proxyFormState:y,get _fields(){return a},get _formValues(){return u},get _state(){return d},set _state(T){d=T},get _defaultValues(){return o},get _names(){return h},set _names(T){h=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:We,trigger:O,register:sr,handleSubmit:an,watch:Ue,setValue:$,getValues:K,reset:En,resetField:Bs,clearErrors:ge,unregister:Xe,setError:Pe,setFocus:Vs,getFieldState:fe};return{...Ir,formControl:Ir}}var ts=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},qc=(e,t,n={})=>n.shouldFocus||yt(n.shouldFocus)?n.focusName||`${e}.${yt(n.focusIndex)?t:n.focusIndex}.`:"",Hc=(e,t)=>[...e,...hr(t)],Wc=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Kc(e,t,n){return[...e.slice(0,t),...hr(n),...e.slice(t)]}var Gc=(e,t,n)=>Array.isArray(e)?(yt(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Jc=(e,t)=>[...hr(t),...hr(e)];function Xk(e,t){let n=0;const a=[...e];for(const o of t)a.splice(o-n,1),n++;return ro(a).length?a:[]}var Qc=(e,t)=>yt(t)?[]:Xk(e,hr(t).sort((n,a)=>n-a)),Yc=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},Up=(e,t,n)=>(e[t]=n,e);function zp(e){const t=Dk(),{control:n=t.control,name:a,keyName:o="id",shouldUnregister:u,rules:d}=e,[h,p]=rt.useState(n._getFieldArray(a)),m=rt.useRef(n._getFieldArray(a).map(ts)),y=rt.useRef(h),v=rt.useRef(a),x=rt.useRef(!1);v.current=a,y.current=h,n._names.array.add(a),d&&n.register(a,d),rt.useEffect(()=>n._subjects.array.subscribe({next:({values:z,name:S})=>{if(S===v.current||!S){const M=ye(z,v.current);Array.isArray(M)&&(p(M),m.current=M.map(ts))}}}).unsubscribe,[n]);const _=rt.useCallback(z=>{x.current=!0,n._setFieldArray(a,z)},[n,a]),b=(z,S)=>{const M=hr(_t(z)),Q=Hc(n._getFieldArray(a),M);n._names.focus=qc(a,Q.length-1,S),m.current=Hc(m.current,M.map(ts)),_(Q),p(Q),n._setFieldArray(a,Q,Hc,{argA:Wc(z)})},j=(z,S)=>{const M=hr(_t(z)),Q=Jc(n._getFieldArray(a),M);n._names.focus=qc(a,0,S),m.current=Jc(m.current,M.map(ts)),_(Q),p(Q),n._setFieldArray(a,Q,Jc,{argA:Wc(z)})},k=z=>{const S=Qc(n._getFieldArray(a),z);m.current=Qc(m.current,z),_(S),p(S),!Array.isArray(ye(n._fields,a))&&ut(n._fields,a,void 0),n._setFieldArray(a,S,Qc,{argA:z})},C=(z,S,M)=>{const Q=hr(_t(S)),Re=Kc(n._getFieldArray(a),z,Q);n._names.focus=qc(a,z,M),m.current=Kc(m.current,z,Q.map(ts)),_(Re),p(Re),n._setFieldArray(a,Re,Kc,{argA:z,argB:Wc(S)})},A=(z,S)=>{const M=n._getFieldArray(a);Yc(M,z,S),Yc(m.current,z,S),_(M),p(M),n._setFieldArray(a,M,Yc,{argA:z,argB:S},!1)},D=(z,S)=>{const M=n._getFieldArray(a);Gc(M,z,S),Gc(m.current,z,S),_(M),p(M),n._setFieldArray(a,M,Gc,{argA:z,argB:S},!1)},W=(z,S)=>{const M=_t(S),Q=Up(n._getFieldArray(a),z,M);m.current=[...Q].map((Re,Le)=>!Re||Le===z?ts():m.current[Le]),_(Q),p([...Q]),n._setFieldArray(a,Q,Up,{argA:z,argB:M},!0,!1)},J=z=>{const S=hr(_t(z));m.current=S.map(ts),_([...S]),p([...S]),n._setFieldArray(a,[...S],M=>M,{},!0,!1)};return rt.useEffect(()=>{if(n._state.action=!1,vd(a,n._names)&&n._subjects.state.next({...n._formState}),x.current&&(!Ca(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!Ca(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([a]).then(z=>{const S=ye(z.errors,a),M=ye(n._formState.errors,a);(M?!S&&M.type||S&&(M.type!==S.type||M.message!==S.message):S&&S.type)&&(S?ut(n._formState.errors,a,S):Rt(n._formState.errors,a),n._subjects.state.next({errors:n._formState.errors}))});else{const z=ye(n._fields,a);z&&z._f&&!(Ca(n._options.reValidateMode).isOnSubmit&&Ca(n._options.mode).isOnSubmit)&&xd(z,n._names.disabled,n._formValues,n._options.criteriaMode===Pr.all,n._options.shouldUseNativeValidation,!0).then(S=>!Yt(S)&&n._subjects.state.next({errors:yy(n._formState.errors,S,a)}))}n._subjects.state.next({name:a,values:_t(n._formValues)}),n._names.focus&&Ta(n._fields,(z,S)=>{if(n._names.focus&&S.startsWith(n._names.focus)&&z.focus)return z.focus(),1}),n._names.focus="",n._setValid(),x.current=!1},[h,a,n]),rt.useEffect(()=>(!ye(n._formValues,a)&&n._setFieldArray(a),()=>{const z=(S,M)=>{const Q=ye(n._fields,S);Q&&Q._f&&(Q._f.mount=M)};n._options.shouldUnregister||u?n.unregister(a):z(a,!1)}),[a,n,o,u]),{swap:rt.useCallback(A,[_,a,n]),move:rt.useCallback(D,[_,a,n]),prepend:rt.useCallback(j,[_,a,n]),append:rt.useCallback(b,[_,a,n]),remove:rt.useCallback(k,[_,a,n]),insert:rt.useCallback(C,[_,a,n]),update:rt.useCallback(W,[_,a,n]),replace:rt.useCallback(J,[_,a,n]),fields:rt.useMemo(()=>h.map((z,S)=>({...z,[o]:m.current[S]||ts()})),[h,o])}}function qd(e={}){const t=rt.useRef(void 0),n=rt.useRef(void 0),[a,o]=rt.useState({isDirty:!1,isValidating:!1,isLoading:Wr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Wr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Yk(e),formState:a},e.formControl&&e.defaultValues&&!Wr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const u=t.current.control;return u._options=e,rt.useLayoutEffect(()=>u._subscribe({formState:u._proxyFormState,callback:()=>o({...u._formState}),reRenderRoot:!0}),[u]),rt.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),rt.useEffect(()=>{if(u._proxyFormState.isDirty){const d=u._getDirty();d!==a.isDirty&&u._subjects.state.next({isDirty:d})}},[u,a.isDirty]),rt.useEffect(()=>{e.values&&!is(e.values,n.current)?(u._reset(e.values,u._options.resetOptions),n.current=e.values,o(d=>({...d}))):u._resetDefaultValues()},[e.values,u]),rt.useEffect(()=>{e.errors&&!Yt(e.errors)&&u._setErrors(e.errors)},[e.errors,u]),rt.useEffect(()=>{u._state.mount||(u._setValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),rt.useEffect(()=>{e.shouldUnregister&&u._subjects.state.next({values:u._getWatch()})},[e.shouldUnregister,u]),t.current.formState=$k(a,u),t.current}async function Zk(e,t){var o;let n=e||`materia-${Date.now()}`,a=1;for(;;){const{data:u,error:d}=await Ce.from("materias").select("id").eq("slug",n).limit(1);if(d)throw d;if(!u||u.length===0||t&&((o=u[0])==null?void 0:o.id)===t)return n;a+=1,n=`${e}-${a}`}}function Bp(){var k;const{id:e}=Yi(),t=Da(),n=!!e,a=E.useMemo(()=>new Date().toISOString().split("T")[0],[]),{register:o,handleSubmit:u,formState:{errors:d},reset:h,setValue:p,watch:m}=qd({defaultValues:{status:"draft",date:a,title:"",subtitle:"",authorId:"",category:"",content:"",coverImage:""}}),[y,v]=E.useState(!1),[x,_]=E.useState([]),b=m("authorId");E.useEffect(()=>{(async()=>{const{data:C,error:A}=await Ce.from("equipe").select("id, nome, cargo, foto_url, ativo, ordem").eq("ativo",!0).order("ordem",{ascending:!0}).order("created_at",{ascending:!1});if(A){console.error(A);return}_(C||[])})()},[]),E.useEffect(()=>{e&&(async()=>{v(!0);const{data:C,error:A}=await yk(e);if(v(!1),A||!C){alert((A==null?void 0:A.message)||"No foi possvel carregar a matria.");return}const D=C;if(h({title:D.titulo||"",subtitle:D.resumo||"",authorId:D.autor_id||"",category:D.tags&&D.tags[0]?D.tags[0]:"",date:(D.published_at?new Date(D.published_at):new Date(D.created_at)).toISOString().split("T")[0],content:D.conteudo||"",coverImage:D.capa_url||"",status:D.status||"draft"}),!D.autor_id&&D.autor_nome&&((x==null?void 0:x.length)||0)>0){const W=x.find(J=>(J.nome||"").toLowerCase()===String(D.autor_nome).toLowerCase());W&&p("authorId",W.id)}})()},[e,h]);const j=async C=>{v(!0);try{const A=C.category?[C.category]:[],D=ly(C.title),W=await Zk(D,e),J=x.find(Q=>Q.id===C.authorId),z=(J==null?void 0:J.nome)||null,S={titulo:C.title,slug:W,resumo:C.subtitle||null,conteudo:C.content||null,capa_url:C.coverImage||null,tags:A,status:C.status,published_at:C.status==="published"?new Date(C.date).toISOString():null,autor_id:C.authorId||null,autor_nome:z},M=n&&e?await xk(e,S):await vk(S);if(v(!1),M.error){alert(M.error.message);return}t("/admin/materias")}catch(A){v(!1),alert((A==null?void 0:A.message)||"Erro ao salvar matria.")}};return l.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ze,{to:"/admin/materias",className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(Fa,{className:"h-5 w-5 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:n?"Editar Matria":"Nova Matria"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:n?"Atualize os detalhes da publicao.":"Preencha os campos para criar uma nova publicao."})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>t("/admin/materias"),className:"px-4 py-2 text-sm font-medium border rounded-md hover:bg-muted transition-colors",disabled:y,children:"Cancelar"}),l.jsxs("button",{onClick:u(j),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors shadow-sm",disabled:y,children:[l.jsx(Ul,{className:"h-4 w-4"}),y?"Salvando...":"Salvar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Informaes Principais"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ttulo"}),l.jsx("input",{...o("title",{required:"Ttulo  obrigatrio"}),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",placeholder:"Digite o ttulo da matria"}),d.title&&l.jsx("span",{className:"text-destructive text-xs",children:d.title.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Subttulo (Linha fina)"}),l.jsx("textarea",{...o("subtitle"),className:"w-full h-20 p-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all resize-none",placeholder:"Um breve resumo que aparece abaixo do ttulo"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Autor"}),l.jsxs("select",{...o("authorId"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",children:[l.jsx("option",{value:"",children:x.length?"Selecione um autor...":"Carregando equipe..."}),x.map(C=>l.jsxs("option",{value:C.id,children:[C.nome,C.cargo?`  ${C.cargo}`:""]},C.id))]}),!x.length&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cadastre membros em ",l.jsx("b",{children:"Admin  Equipe"})," para aparecerem aqui."]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Data de Publicao"}),l.jsx("input",{type:"date",...o("date"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Contedo"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Texto da Matria"}),l.jsx("textarea",{...o("content",{required:"Contedo  obrigatrio"}),className:"w-full min-h-[400px] p-4 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all font-mono text-sm leading-relaxed",placeholder:"Escreva o contedo da matria aqui usando Markdown ou HTML simples..."}),d.content&&l.jsx("span",{className:"text-destructive text-xs",children:d.content.message}),l.jsx("p",{className:"text-xs text-muted-foreground text-right",children:"Suporta Markdown bsico."})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Publicao"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Status"}),l.jsxs("select",{...o("status"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",children:[l.jsx("option",{value:"draft",children:"Rascunho"}),l.jsx("option",{value:"published",children:"Publicado"}),l.jsx("option",{value:"archived",children:"Arquivado"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Categoria"}),l.jsxs("select",{...o("category"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",children:[l.jsx("option",{value:"Cultura",children:"Cultura"}),l.jsx("option",{value:"Poltica",children:"Poltica"}),l.jsx("option",{value:"Educao",children:"Educao"}),l.jsx("option",{value:"Meio Ambiente",children:"Meio Ambiente"}),l.jsx("option",{value:"Projetos",children:"Projetos"}),l.jsx("option",{value:"Agenda",children:"Agenda"})]})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Imagem de Capa"}),l.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-muted/50 transition-colors cursor-pointer bg-muted/10",children:[l.jsx(us,{className:"h-8 w-8 text-muted-foreground mb-2"}),l.jsx("p",{className:"text-sm font-medium",children:"Clique para fazer upload"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG at 5MB"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ou URL da imagem"}),l.jsx("input",{...o("coverImage"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",placeholder:"https://..."})]}),b&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["Autor selecionado:"," ",l.jsx("b",{children:((k=x.find(C=>C.id===b))==null?void 0:k.nome)||""})]})]})]})]})]})}function eE(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9.\-_]+/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}function tE(e){if(!e.type.startsWith("image/"))throw new Error("Arquivo invlido: envie uma imagem (jpg/png/webp/gif).")}async function rE(e){const{bucket:t,folder:n="",file:a,fixedFileName:o,upsert:u=!0,validate:d=!0,maxSizeBytes:h=6*1024*1024}=e;if(!a)throw new Error("Nenhum arquivo selecionado.");if(d&&(tE(a),a.size>h))throw new Error(`Imagem muito grande. Mximo: ${Math.round(h/1024/1024)}MB.`);const p=(a.name.split(".").pop()||"png").toLowerCase(),y=`${o?o.replace(/\.[^.]+$/,""):`${Date.now()}-${eE(a.name.replace(/\.[^.]+$/,""))}`}.${p}`,v=n.trim().replace(/^\/+|\/+$/g,""),x=v?`${v}/${y}`:y,{error:_}=await Ce.storage.from(t).upload(x,a,{upsert:u,contentType:a.type,cacheControl:"3600"});if(_)throw new Error(_.message);const{data:b}=Ce.storage.from(t).getPublicUrl(x);if(!(b!=null&&b.publicUrl))throw new Error("Falha ao gerar URL pblica do arquivo.");return{publicUrl:b.publicUrl,path:x}}async function nE(e,t){var o;let n=e||`projeto-${Date.now()}`,a=1;for(;;){const{data:u,error:d}=await Ce.from("projetos").select("id").eq("slug",n).limit(1);if(d)throw d;if(!u||u.length===0||t&&((o=u[0])==null?void 0:o.id)===t)return n;a+=1,n=`${e}-${a}`}}async function sE(e){const{projetoId:t,file:n}=e,a=n.type.startsWith("video/"),u=(n.name.split(".").pop()||(a?"mp4":"jpg")).toLowerCase().replace(/[^a-z0-9]/g,"")||(a?"mp4":"jpg"),d=`galeria/${t}/${Date.now()}-${Math.random().toString(16).slice(2)}.${u}`,{error:h}=await Ce.storage.from("projetos").upload(d,n,{upsert:!1,cacheControl:"3600",contentType:n.type||(a?"video/mp4":"image/jpeg")});if(h)throw h;const{data:p}=Ce.storage.from("projetos").getPublicUrl(d),m=p==null?void 0:p.publicUrl;if(!m)throw new Error("No foi possvel obter a URL pblica do arquivo.");return{publicUrl:m,tipo:a?"video":"image"}}function Vp(){const{id:e}=Yi(),t=Da(),n=!!e,{register:a,handleSubmit:o,formState:{errors:u},reset:d,setValue:h,watch:p,control:m}=qd({defaultValues:{title:"",shortDescription:"",description:"",status:"Planejamento",beneficiaries:"",location:"",startDate:"",endDate:"",coverImage:"",objectives:[{value:""}],results:[{value:""}]}}),y=zp({control:m,name:"objectives"}),v=zp({control:m,name:"results"}),[x,_]=E.useState(!1),[b,j]=E.useState(!1),[k,C]=E.useState([]),[A,D]=E.useState(!1),W=p("coverImage"),J=E.useRef(null),z=E.useRef(null),S=E.useMemo(()=>!!e,[e]);async function M(G){const{data:re,error:oe}=await Ce.from("projeto_galeria").select("id, projeto_id, tipo, url, ordem, created_at").eq("projeto_id",G).order("ordem",{ascending:!0,nullsFirst:!0}).order("created_at",{ascending:!0});if(oe){console.warn("Erro ao carregar galeria do projeto:",oe.message),C([]);return}C(re||[])}E.useEffect(()=>{e&&(async()=>{var $,ae,te,O,K,fe;_(!0);const{data:G,error:re}=await _k(e);if(_(!1),re||!G){alert((re==null?void 0:re.message)||"No foi possvel carregar o projeto.");return}const oe=G,he=Array.isArray(($=oe==null?void 0:oe.meta)==null?void 0:$.objetivos)?oe.meta.objetivos:[],Y=Array.isArray((ae=oe==null?void 0:oe.meta)==null?void 0:ae.resultados)?oe.meta.resultados:[];d({title:oe.titulo||"",shortDescription:oe.resumo||"",description:oe.descricao||"",status:oe.publicado_transparencia?"Em andamento":"Planejamento",beneficiaries:((te=oe==null?void 0:oe.meta)==null?void 0:te.beneficiaries)||"",location:((O=oe==null?void 0:oe.meta)==null?void 0:O.location)||"",startDate:((K=oe==null?void 0:oe.meta)==null?void 0:K.startDate)||"",endDate:((fe=oe==null?void 0:oe.meta)==null?void 0:fe.endDate)||"",coverImage:oe.capa_url||"",objectives:(he.length?he:[""]).map(ge=>({value:ge})),results:(Y.length?Y:[""]).map(ge=>({value:ge}))}),await M(e)})()},[e,d]);const Q=async G=>{if(G){j(!0);try{const{publicUrl:re}=await rE({bucket:"projetos",folder:"capas",file:G,upsert:!0,validate:!0});h("coverImage",re,{shouldDirty:!0,shouldValidate:!0})}catch(re){alert((re==null?void 0:re.message)||"Erro ao enviar imagem de capa.")}finally{j(!1),J.current&&(J.current.value="")}}},Re=async G=>{if(e&&!(!G||G.length===0)){D(!0);try{const re=k.length;for(let oe=0;oe<G.length;oe+=1){const he=G[oe],{publicUrl:Y,tipo:$}=await sE({projetoId:e,file:he}),{error:ae}=await Ce.from("projeto_galeria").insert({projeto_id:e,tipo:$,url:Y,ordem:re+oe});if(ae)throw ae}await M(e)}catch(re){alert((re==null?void 0:re.message)||"Erro ao enviar mdia para a galeria.")}finally{D(!1),z.current&&(z.current.value="")}}},Le=async G=>{if(!e||!confirm("Remover este item da galeria?"))return;const{error:oe}=await Ce.from("projeto_galeria").delete().eq("id",G);if(oe){alert(oe.message);return}await M(e)},pe=async G=>{_(!0);try{const re=G.status!=="Planejamento",oe=ly(G.title),he=await nE(oe,e),Y=(G.objectives||[]).map(O=>((O==null?void 0:O.value)||"").trim()).filter(Boolean),$=(G.results||[]).map(O=>((O==null?void 0:O.value)||"").trim()).filter(Boolean),ae={titulo:G.title,slug:he,resumo:G.shortDescription||null,descricao:G.description||null,capa_url:G.coverImage||null,publicado_transparencia:re,published_at:re?new Date().toISOString():null,meta:{beneficiaries:(G.beneficiaries||"").trim()||null,location:(G.location||"").trim()||null,startDate:(G.startDate||"").trim()||null,endDate:(G.endDate||"").trim()||null,objetivos:Y,resultados:$}},te=n&&e?await kk(e,ae):await jk(ae);if(_(!1),te.error){alert(te.error.message);return}t("/admin/projetos")}catch(re){_(!1),alert((re==null?void 0:re.message)||"Erro ao salvar projeto.")}};return l.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ze,{to:"/admin/projetos",className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(Fa,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:n?"Editar Projeto":"Novo Projeto"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie os dados do projeto e a galeria."})]})]}),l.jsxs("button",{onClick:o(pe),disabled:x,className:"inline-flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:opacity-60",children:[l.jsx(Ul,{className:"w-4 h-4"}),x?"Salvando...":"Salvar Alteraes"]})]}),l.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"font-semibold",children:"Capa do Projeto"}),l.jsx("input",{ref:J,type:"file",accept:"image/*",className:"hidden",id:"cover-input",onChange:G=>{var re;return Q((re=G.target.files)==null?void 0:re[0])}}),l.jsxs("label",{htmlFor:"cover-input",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer hover:bg-muted",children:[l.jsx(us,{className:"w-4 h-4"}),b?"Enviando...":"Enviar capa"]})]}),W?l.jsx("img",{src:W,alt:"Capa",className:"w-full h-56 object-cover rounded-lg border"}):l.jsx("div",{className:"w-full h-56 rounded-lg border flex items-center justify-center text-sm text-muted-foreground",children:"Nenhuma capa definida"})]}),l.jsxs("div",{className:"rounded-xl border p-4 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Ttulo"}),l.jsx("input",{...a("title",{required:"Ttulo  obrigatrio"}),className:"w-full mt-1 px-3 py-2 rounded-lg border"}),u.title&&l.jsx("p",{className:"text-xs text-red-600 mt-1",children:u.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Resumo"}),l.jsx("input",{...a("shortDescription"),className:"w-full mt-1 px-3 py-2 rounded-lg border"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Descrio (Sobre o Projeto)"}),l.jsx("textarea",{...a("description"),className:"w-full mt-1 px-3 py-2 rounded-lg border min-h-[120px]"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Status"}),l.jsxs("select",{...a("status"),className:"w-full mt-1 px-3 py-2 rounded-lg border",children:[l.jsx("option",{value:"Planejamento",children:"Planejamento"}),l.jsx("option",{value:"Em andamento",children:"Em andamento"}),l.jsx("option",{value:"Concludo",children:"Concludo"}),l.jsx("option",{value:"Pausado",children:"Pausado"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Localizao"}),l.jsx("input",{...a("location"),className:"w-full mt-1 px-3 py-2 rounded-lg border"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Beneficirios"}),l.jsx("input",{...a("beneficiaries"),className:"w-full mt-1 px-3 py-2 rounded-lg border"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Incio"}),l.jsx("input",{...a("startDate"),className:"w-full mt-1 px-3 py-2 rounded-lg border"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium",children:"Fim (opcional)"}),l.jsx("input",{...a("endDate"),className:"w-full mt-1 px-3 py-2 rounded-lg border"})]}),l.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Objetivos"}),l.jsxs("button",{type:"button",onClick:()=>y.append({value:""}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border hover:bg-muted",children:[l.jsx(Oa,{className:"w-4 h-4"}),"Adicionar objetivo"]})]}),y.fields.map((G,re)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{...a(`objectives.${re}.value`),className:"w-full px-3 py-2 rounded-lg border",placeholder:`Objetivo ${re+1}`}),l.jsx("button",{type:"button",onClick:()=>y.remove(re),className:"p-2 rounded-lg border hover:bg-muted",children:l.jsx(La,{className:"w-4 h-4"})})]},G.id))]}),l.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Resultados Alcanados"}),l.jsxs("button",{type:"button",onClick:()=>v.append({value:""}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border hover:bg-muted",children:[l.jsx(Oa,{className:"w-4 h-4"}),"Adicionar resultado"]})]}),v.fields.map((G,re)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{...a(`results.${re}.value`),className:"w-full px-3 py-2 rounded-lg border",placeholder:`Resultado ${re+1}`}),l.jsx("button",{type:"button",onClick:()=>v.remove(re),className:"p-2 rounded-lg border hover:bg-muted",children:l.jsx(La,{className:"w-4 h-4"})})]},G.id))]}),l.jsxs("div",{className:"rounded-xl border p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-semibold",children:"Galeria do Projeto"}),l.jsx("input",{ref:z,type:"file",multiple:!0,accept:"image/*,video/*",className:"hidden",id:"gallery-input",disabled:!S,onChange:G=>Re(G.target.files)}),l.jsxs("label",{htmlFor:"gallery-input",className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg border cursor-pointer hover:bg-muted ${S?"":"opacity-50 pointer-events-none"}`,children:[l.jsx(us,{className:"w-4 h-4"}),A?"Enviando...":"Adicionar imagens/vdeos"]})]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Os itens aparecem apenas neste projeto (pgina pblica)."}),k.length===0?l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum item na galeria ainda."}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:k.map(G=>l.jsxs("div",{className:"rounded-xl border overflow-hidden",children:[G.tipo==="video"?l.jsx("video",{src:G.url,controls:!0,className:"w-full h-40 object-cover"}):l.jsx("img",{src:G.url,alt:"Imagem",className:"w-full h-40 object-cover"}),l.jsxs("div",{className:"p-2 flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:G.tipo==="video"?"Vdeo":"Imagem"}),l.jsx("button",{type:"button",onClick:()=>Le(G.id),className:"px-3 py-1 rounded-lg border hover:bg-muted text-sm",children:"Remover"})]})]},G.id))})]})]})]})}async function aE(){return Ce.from("roles").select("id,name").order("name",{ascending:!0})}async function iE(){return Ce.from("user_roles").select("user_id, role_id, role:roles(name)").order("user_id",{ascending:!0})}async function qp(e,t){const{data:n,error:a}=await Ce.from("roles").select("id,name").eq("name",t).limit(1);if(a)return{data:null,error:a};const o=n&&n[0];return o?Ce.from("user_roles").insert({user_id:e,role_id:o.id}):{data:null,error:new Error("Role no encontrada: "+t)}}async function oE(e,t){const{data:n,error:a}=await Ce.from("roles").select("id,name").eq("name",t).limit(1);if(a)return{data:null,error:a};const o=n&&n[0];return o?Ce.from("user_roles").delete().eq("user_id",e).eq("role_id",o.id):{data:null,error:new Error("Role no encontrada: "+t)}}function lE(){const[e,t]=E.useState(""),[n,a]=E.useState(!0),[o,u]=E.useState([]),[d,h]=E.useState([]);async function p(){var j;a(!0);const[_,b]=await Promise.all([aE(),iE()]);if(!_.error&&_.data&&u(_.data),!b.error&&b.data){const k=new Map;for(const A of b.data){const D=A.user_id,W=((j=A.role)==null?void 0:j.name)||A.role_name||A.role||"",J=k.get(D)||[];W!==""&&J.push(W),k.set(D,J)}const C=Array.from(k.entries()).map(([A,D])=>{const W=A.slice(0,8);return{user_id:A,name:W,email:A,role:D.length?D.join(", "):"",status:"Ativo"}});h(C)}a(!1)}E.useEffect(()=>{p()},[]);const m=E.useMemo(()=>{const _=e.trim().toLowerCase();return _?d.filter(b=>b.user_id.toLowerCase().includes(_)||b.role.toLowerCase().includes(_)):d},[d,e]),y=async()=>{const _=prompt("Cole o UUID do usurio (Supabase Auth user_id):");if(!_)return;const b=prompt(`Digite a role para atribuir (ex: admin, editor, autor):

Roles disponveis: `+(o.length?o.map(k=>k.name).join(", "):"carregando..."));if(!b)return;const j=await qp(_.trim(),b.trim());if(j.error){alert(j.error.message);return}await p()},v=async _=>{const b=prompt(`Digite: add ou remove
Depois voc vai escolher a role.

Exemplo: add`,"add");if(!b)return;const j=prompt(`Role (ex: admin, editor, autor):

Roles disponveis: `+(o.length?o.map(A=>A.name).join(", "):"carregando..."));if(!j)return;const C=await(b.toLowerCase().startsWith("r")?oE:qp)(_,j.trim());if(C.error){alert(C.error.message);return}await p()},x=async _=>{if(!confirm("Remover todas as roles deste usurio?"))return;const{error:b}=await Ce.from("user_roles").delete().eq("user_id",_);if(b){alert(b.message);return}await p()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Usurios"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie quem tem acesso ao painel administrativo."})]}),l.jsxs("button",{onClick:y,className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90",children:[l.jsx(Oa,{className:"mr-2 h-4 w-4"}),"Novo Usurio"]})]}),l.jsx("div",{className:"flex items-center gap-2 bg-card p-4 rounded-lg border shadow-sm",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(zl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"search",placeholder:"Buscar usurios...",value:e,onChange:_=>t(_.target.value),className:"w-full rounded-md border border-input bg-background pl-9 pr-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]})}),l.jsx("div",{className:"rounded-md border bg-card shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium",children:"Nome"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Email"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Funo"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Status"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:n?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:5,children:"Carregando..."})}):m.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:5,children:"Nenhum usurio encontrado."})}):m.map(_=>l.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[l.jsxs("td",{className:"px-6 py-4 font-medium text-foreground flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:_.name.charAt(0)}),_.name]}),l.jsx("td",{className:"px-6 py-4",children:_.email}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(t1,{className:"h-3 w-3 text-muted-foreground"}),_.role]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${_.status==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:_.status})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx("button",{onClick:()=>v(_.user_id),className:"p-2 hover:bg-muted rounded-full text-blue-600 hover:text-blue-700 transition-colors",title:"Editar",children:l.jsx(Bl,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>x(_.user_id),className:"p-2 hover:bg-muted rounded-full text-red-600 hover:text-red-700 transition-colors",title:"Excluir",children:l.jsx(La,{className:"h-4 w-4"})})]})})]},_.user_id))})]})})})]})}async function Xc({bucket:e,path:t,file:n}){const a=n.name.split(".").pop()||"jpg",o=`${t}.${a}`,{error:u}=await Ce.storage.from(e).upload(o,n,{upsert:!0,contentType:n.type});if(u)throw u;const{data:d}=Ce.storage.from(e).getPublicUrl(o);return d.publicUrl}const Zc="site";function uE(e){const t=e.includes("?")?"&":"?";return`${e}${t}v=${Date.now()}`}function cE(){const[e,t]=E.useState(!0),[n,a]=E.useState(!1),[o,u]=E.useState(null),d=E.useRef(null),h=E.useRef(null),p=E.useRef(null),[m,y]=E.useState({home_banner_image_url:"",home_banner_title:"",home_banner_subtitle:"",home_territory_image_url:"",home_territory_title:"",home_territory_subtitle:"",about_team_image_url:"",about_team_title:"",about_team_subtitle:""});function v(b,j){y(k=>({...k,[b]:j}))}E.useEffect(()=>{(async()=>{try{t(!0);const b=await Md();y(j=>({...j,home_banner_image_url:b.home_banner_image_url??"",home_banner_title:b.home_banner_title??"",home_banner_subtitle:b.home_banner_subtitle??"",home_territory_image_url:b.home_territory_image_url??"",home_territory_title:b.home_territory_title??"",home_territory_subtitle:b.home_territory_subtitle??"",about_team_image_url:b.about_team_image_url??"",about_team_title:b.about_team_title??"",about_team_subtitle:b.about_team_subtitle??""}))}catch(b){console.warn("Erro ao carregar settings (Admin Configuraes):",(b==null?void 0:b.message)||b),alert((b==null?void 0:b.message)||"Erro ao carregar configuraes.")}finally{t(!1)}})()},[]);async function x(b,j){if(j)try{u(b);const k=b==="banner"?await Xc({bucket:Zc,path:"home/banner/banner",file:j}):b==="territory"?await Xc({bucket:Zc,path:"home/territory/territory",file:j}):await Xc({bucket:Zc,path:"about/team/team",file:j}),C=uE(k);b==="banner"&&v("home_banner_image_url",C),b==="territory"&&v("home_territory_image_url",C),b==="about_team"&&v("about_team_image_url",C)}catch(k){alert((k==null?void 0:k.message)||"Erro ao enviar imagem.")}finally{u(null),b==="banner"&&d.current&&(d.current.value=""),b==="territory"&&h.current&&(h.current.value=""),b==="about_team"&&p.current&&(p.current.value="")}}async function _(){try{a(!0),await tk({home_banner_image_url:m.home_banner_image_url||null,home_banner_title:m.home_banner_title||null,home_banner_subtitle:m.home_banner_subtitle||null,home_territory_image_url:m.home_territory_image_url||null,home_territory_title:m.home_territory_title||null,home_territory_subtitle:m.home_territory_subtitle||null,about_team_image_url:m.about_team_image_url||null,about_team_title:m.about_team_title||null,about_team_subtitle:m.about_team_subtitle||null}),alert("Configuraes salvas!")}catch(b){alert((b==null?void 0:b.message)||"Erro ao salvar configuraes.")}finally{a(!1)}}return l.jsxs("div",{className:"space-y-6 max-w-4xl",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuraes"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie as informaes gerais do site e preferncias."})]}),l.jsxs("div",{className:"grid gap-6",children:[l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Informaes Gerais"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nome do Site"}),l.jsx("input",{defaultValue:"Rede Kalunga Comunicaes",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Email de Contato"}),l.jsx("input",{defaultValue:"contato@kalunga.org.br",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Telefone"}),l.jsx("input",{defaultValue:"+55 (62) 99999-9999",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Endereo"}),l.jsx("input",{defaultValue:"Cavalcante - GO",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Redes Sociais"}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Instagram"}),l.jsx("input",{placeholder:"@usuario",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Facebook"}),l.jsx("input",{placeholder:"facebook.com/pagina",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"YouTube"}),l.jsx("input",{placeholder:"youtube.com/canal",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Banner (Home)"}),l.jsx("input",{ref:d,type:"file",accept:"image/*",className:"hidden",onChange:b=>{var j;return x("banner",(j=b.target.files)==null?void 0:j[0])}}),l.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-muted/50 transition-colors cursor-pointer bg-muted/10",onClick:()=>{var b;o!=="banner"&&((b=d.current)==null||b.click())},children:m.home_banner_image_url?l.jsxs("div",{className:"w-full",children:[l.jsx("img",{src:m.home_banner_image_url,alt:"Banner da Home",className:"w-full h-40 object-cover rounded-md border bg-white"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Clique para ",o==="banner"?"enviar...":"trocar a imagem do banner"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(us,{className:"h-8 w-8 text-muted-foreground mb-2"}),l.jsx("p",{className:"text-sm font-medium",children:o==="banner"?"Enviando...":"Enviar imagem do banner"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o==="banner"?"Aguarde":"Clique para fazer upload"})]})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ttulo do Banner"}),l.jsx("input",{value:m.home_banner_title,onChange:b=>v("home_banner_title",b.target.value),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Subttulo do Banner"}),l.jsx("input",{value:m.home_banner_subtitle,onChange:b=>v("home_banner_subtitle",b.target.value),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"URL da imagem (opcional)"}),l.jsx("input",{value:m.home_banner_image_url,onChange:b=>v("home_banner_image_url",b.target.value),placeholder:"https://...",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Bloco acima do rodap (Home)"}),l.jsx("input",{ref:h,type:"file",accept:"image/*",className:"hidden",onChange:b=>{var j;return x("territory",(j=b.target.files)==null?void 0:j[0])}}),l.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-muted/50 transition-colors cursor-pointer bg-muted/10",onClick:()=>{var b;o!=="territory"&&((b=h.current)==null||b.click())},children:m.home_territory_image_url?l.jsxs("div",{className:"w-full",children:[l.jsx("img",{src:m.home_territory_image_url,alt:"Imagem do bloco acima do rodap",className:"w-full h-40 object-cover rounded-md border bg-white"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Clique para ",o==="territory"?"enviar...":"trocar a imagem do bloco"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(us,{className:"h-8 w-8 text-muted-foreground mb-2"}),l.jsx("p",{className:"text-sm font-medium",children:o==="territory"?"Enviando...":"Enviar imagem do bloco"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o==="territory"?"Aguarde":"Clique para fazer upload"})]})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ttulo"}),l.jsx("input",{value:m.home_territory_title,onChange:b=>v("home_territory_title",b.target.value),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Subttulo"}),l.jsx("input",{value:m.home_territory_subtitle,onChange:b=>v("home_territory_subtitle",b.target.value),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"URL da imagem (opcional)"}),l.jsx("input",{value:m.home_territory_image_url,onChange:b=>v("home_territory_image_url",b.target.value),placeholder:"https://...",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Quem Somos"}),l.jsx("input",{ref:p,type:"file",accept:"image/*",className:"hidden",onChange:b=>{var j;return x("about_team",(j=b.target.files)==null?void 0:j[0])}}),l.jsx("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-muted/50 transition-colors cursor-pointer bg-muted/10",onClick:()=>{var b;o!=="about_team"&&((b=p.current)==null||b.click())},children:m.about_team_image_url?l.jsxs("div",{className:"w-full",children:[l.jsx("img",{src:m.about_team_image_url,alt:"Imagem da Equipe (Quem Somos)",className:"w-full h-40 object-cover rounded-md border bg-white"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Clique para ",o==="about_team"?"enviar...":"trocar a imagem"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(us,{className:"h-8 w-8 text-muted-foreground mb-2"}),l.jsx("p",{className:"text-sm font-medium",children:o==="about_team"?"Enviando...":"Enviar imagem da equipe"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o==="about_team"?"Aguarde":"Clique para fazer upload"})]})}),l.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ttulo"}),l.jsx("input",{value:m.about_team_title,onChange:b=>v("about_team_title",b.target.value),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Subttulo"}),l.jsx("input",{value:m.about_team_subtitle,onChange:b=>v("about_team_subtitle",b.target.value),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]}),l.jsxs("div",{className:"space-y-2 md:col-span-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"URL da imagem (opcional)"}),l.jsx("input",{value:m.about_team_image_url,onChange:b=>v("about_team_image_url",b.target.value),placeholder:"https://...",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",disabled:e})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"*A imagem  configurvel, e os avatares/listagem vo espelhar automaticamente a equipe cadastrada."})]}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:_,disabled:n||e||!!o,className:"flex items-center gap-2 px-6 py-2.5 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors shadow-sm disabled:opacity-60",children:[l.jsx(Ul,{className:"h-4 w-4"}),n?"Salvando...":o?"Enviando...":"Salvar Alteraes"]})})]})]})}function dE(){const[e,t]=E.useState(""),[n,a]=E.useState(!0),[o,u]=E.useState([]);async function d(){a(!0);const{data:y,error:v}=await Ce.from("equipe").select("id, nome, cargo, foto_url, instagram, ativo, ordem, created_at").order("ordem",{ascending:!0}).order("created_at",{ascending:!1});if(a(!1),v){alert(v.message);return}u(y||[])}E.useEffect(()=>{d()},[]);const h=E.useMemo(()=>{const y=e.trim().toLowerCase();return y?o.filter(v=>(v.nome||"").toLowerCase().includes(y)||(v.cargo||"").toLowerCase().includes(y)):o},[o,e]);async function p(y,v){const{error:x}=await Ce.from("equipe").update({ativo:v}).eq("id",y);if(x)return alert(x.message);u(_=>_.map(b=>b.id===y?{...b,ativo:v}:b))}async function m(y){if(!confirm("Excluir este membro da equipe?"))return;const{error:v}=await Ce.from("equipe").delete().eq("id",y);if(v)return alert(v.message);u(x=>x.filter(_=>_.id!==y))}return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Equipe"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gerencie os perfis pblicos (Quem Somos) e a lista de autores para matrias."})]}),l.jsxs(ze,{to:"/admin/equipe/novo",className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow hover:bg-primary/90",children:[l.jsx(Oa,{className:"mr-2 h-4 w-4"}),"Novo membro"]})]}),l.jsx("div",{className:"flex items-center gap-2 bg-card p-4 rounded-lg border shadow-sm",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(zl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),l.jsx("input",{type:"search",placeholder:"Buscar por nome ou cargo...",value:e,onChange:y=>t(y.target.value),className:"w-full rounded-md border border-input bg-background pl-9 pr-4 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"})]})}),l.jsx("div",{className:"rounded-md border bg-card shadow-sm overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-muted/50 text-muted-foreground",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 font-medium",children:"Pessoa"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Cargo"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Ordem"}),l.jsx("th",{className:"px-6 py-3 font-medium",children:"Ativo"}),l.jsx("th",{className:"px-6 py-3 font-medium text-right",children:"Aes"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:n?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:5,children:"Carregando..."})}):h.length===0?l.jsx("tr",{children:l.jsx("td",{className:"px-6 py-4 text-muted-foreground",colSpan:5,children:"Nenhum membro encontrado."})}):h.map(y=>l.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4 font-medium text-foreground",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-full bg-muted overflow-hidden flex items-center justify-center",children:y.foto_url?l.jsx("img",{src:y.foto_url,alt:y.nome,className:"h-full w-full object-cover"}):l.jsx("span",{className:"text-xs text-muted-foreground",children:""})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-semibold",children:y.nome}),y.instagram&&l.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:y.instagram})]})]})}),l.jsx("td",{className:"px-6 py-4",children:y.cargo||""}),l.jsx("td",{className:"px-6 py-4",children:y.ordem??0}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>p(y.id,!y.ativo),className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${y.ativo?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,title:"Clique para alternar",children:y.ativo?"Ativo":"Inativo"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(ze,{to:`/admin/equipe/editar/${y.id}`,className:"p-2 hover:bg-muted rounded-full text-blue-600 hover:text-blue-700 transition-colors",title:"Editar",children:l.jsx(Bl,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>m(y.id),className:"p-2 hover:bg-muted rounded-full text-red-600 hover:text-red-700 transition-colors",title:"Excluir",children:l.jsx(La,{className:"h-4 w-4"})})]})})]},y.id))})]})})})]})}const Hp="site";async function hE(e){const t=e.name.split(".").pop()||"jpg",n=`equipe/${Date.now()}-${Math.random().toString(16).slice(2)}.${t}`,{error:a}=await Ce.storage.from(Hp).upload(n,e,{cacheControl:"3600",upsert:!0});if(a)throw a;const{data:o}=Ce.storage.from(Hp).getPublicUrl(n);return o.publicUrl}function Wp(){const{id:e}=Yi(),t=!!e&&e!=="novo",n=Da(),{register:a,handleSubmit:o,reset:u,setValue:d,watch:h,formState:{errors:p}}=qd({defaultValues:{nome:"",cargo:"",bio:"",instagram:"",ativo:!0,ordem:0,foto_url:"",email_login:"",senha_login:"",permissoes:{admin:!1,editor:!0,autor:!0}}}),m=h("foto_url"),[y,v]=E.useState(!1),[x,_]=E.useState(!1);E.useEffect(()=>{!t||!e||(async()=>{v(!0);const{data:k,error:C}=await Ce.from("equipe").select("nome, cargo, bio, instagram, ativo, ordem, foto_url, email_login").eq("id",e).single();if(v(!1),C||!k){alert((C==null?void 0:C.message)||"No foi possvel carregar o membro.");return}u({nome:k.nome||"",cargo:k.cargo||"",bio:k.bio||"",instagram:k.instagram||"",ativo:!!k.ativo,ordem:k.ordem??0,foto_url:k.foto_url||"",email_login:k.email_login||"",senha_login:"",permissoes:{admin:!1,editor:!0,autor:!0}})})()},[e,t,u]);const b=async k=>{if(k)try{_(!0);const C=await hE(k);d("foto_url",C,{shouldDirty:!0})}catch(C){alert((C==null?void 0:C.message)||"Erro no upload da foto.")}finally{_(!1)}},j=async k=>{v(!0);try{const C={nome:k.nome,cargo:k.cargo||null,bio:k.bio||null,instagram:k.instagram||null,ativo:!!k.ativo,ordem:Number(k.ordem||0),foto_url:k.foto_url||null,email_login:k.email_login||null,updated_at:new Date().toISOString()};let A=e;if(t&&e){const z=await Ce.from("equipe").update(C).eq("id",e);if(z.error)throw z.error}else{const z=await Ce.from("equipe").insert(C).select("id").single();if(z.error)throw z.error;A=z.data.id}const D=(k.email_login||"").trim(),W=(k.senha_login||"").trim(),J=!!D&&!!W;if(W&&W.length>0&&W.length<6)throw new Error("A senha precisa ter no mnimo 6 caracteres.");if(J){const z=[];k.permissoes.admin&&z.push("admin"),k.permissoes.editor&&z.push("editor"),k.permissoes.autor&&z.push("autor"),z.length||z.push("autor");try{const{data:S,error:M}=await Ce.functions.invoke("admin-upsert-user",{body:{equipe_id:A,email:k.email_login.trim(),password:k.senha_login.trim(),roles:z}});if(M)throw M;if((S==null?void 0:S.ok)===!1)throw new Error((S==null?void 0:S.error)||"Falha ao criar usurio.")}catch(S){throw new Error((S==null?void 0:S.message)||"Falha ao chamar Edge Function. Verifique se a funo 'admin-upsert-user' est deployada e com CORS liberado.")}}n("/admin/equipe")}catch(C){alert((C==null?void 0:C.message)||"Erro ao salvar membro.")}finally{v(!1)}};return l.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ze,{to:"/admin/equipe",className:"p-2 hover:bg-muted rounded-full transition-colors",children:l.jsx(Fa,{className:"h-5 w-5 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t?"Editar Membro":"Novo Membro"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:t?"Atualize os dados do perfil pblico.":"Cadastre um novo perfil da equipe."})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:()=>n("/admin/equipe"),className:"px-4 py-2 text-sm font-medium border rounded-md hover:bg-muted transition-colors",disabled:y,children:"Cancelar"}),l.jsxs("button",{onClick:o(j),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors shadow-sm",disabled:y,children:[l.jsx(Ul,{className:"h-4 w-4"}),y?"Salvando...":"Salvar"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Dados"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Nome"}),l.jsx("input",{...a("nome",{required:"Nome  obrigatrio"}),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"}),p.nome&&l.jsx("span",{className:"text-destructive text-xs",children:p.nome.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Cargo"}),l.jsx("input",{...a("cargo"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Bio"}),l.jsx("textarea",{...a("bio"),className:"w-full min-h-[160px] p-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Instagram"}),l.jsx("input",{...a("instagram"),placeholder:"https://instagram.com/...",className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Acesso ao Painel"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Email"}),l.jsx("input",{type:"email",...a("email_login"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",placeholder:"email@dominio.com"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Se voc preencher Email + Senha, o sistema cria/atualiza o usurio no Auth."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Senha"}),l.jsx("input",{type:"password",...a("senha_login"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",placeholder:"Defina uma senha inicial"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium",children:"Permisses"}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",...a("permissoes.admin")}),"Admin (ver tudo do ADM)"]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",...a("permissoes.editor")}),"Editor (matrias, projetos)"]}),l.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"checkbox",...a("permissoes.autor")}),"Autor (matrias)"]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Publicao"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ativo"}),l.jsx("input",{type:"checkbox",...a("ativo")})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ordem"}),l.jsx("input",{type:"number",...a("ordem",{valueAsNumber:!0}),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Menor nmero aparece primeiro no Quem Somos."})]})]}),l.jsxs("div",{className:"bg-card border rounded-xl p-6 shadow-sm space-y-4",children:[l.jsx("h3",{className:"font-semibold text-lg border-b pb-4 mb-4",children:"Foto"}),l.jsxs("label",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 flex flex-col items-center justify-center text-center hover:bg-muted/50 transition-colors cursor-pointer bg-muted/10",children:[l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:k=>{var C;return b((C=k.target.files)==null?void 0:C[0])}}),l.jsx(us,{className:"h-8 w-8 text-muted-foreground mb-2"}),l.jsx("p",{className:"text-sm font-medium",children:x?"Enviando...":"Clique para fazer upload"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, JPG at 5MB"})]}),m&&l.jsx("div",{className:"rounded-lg overflow-hidden border",children:l.jsx("img",{src:m,alt:"Prvia",className:"w-full h-48 object-cover"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Ou URL"}),l.jsx("input",{...a("foto_url"),className:"w-full h-10 px-3 rounded-md border bg-background focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all",placeholder:"https://..."})]})]})]})]})]})}async function vy(){const{data:e}=await Ce.auth.getSession(),t=e.session;if(!t)return[];const{data:n,error:a}=await Ce.from("user_roles").select("role:roles(name)").eq("user_id",t.user.id);return a?[]:(n||[]).map(u=>{var d;return(d=u==null?void 0:u.role)==null?void 0:d.name}).filter(Boolean)}function fE(e,t){return e.includes("admin_alfa")?!0:t.some(n=>e.includes(n))}async function mE(){const{data:e}=await Ce.auth.getSession();if(!e.session)throw El("/admin/login");const t=await vy();if(!t.length)throw El("/admin/login");return{roles:t}}function Br(e){return async()=>{const{data:t}=await Ce.auth.getSession();if(!t.session)throw El("/admin/login");const n=await vy();if(!fE(n,e))throw El("/admin");return{roles:n}}}const pE=jw([{path:"/admin",children:[{path:"login",Component:Ak},{path:"",loader:mE,Component:Z1,children:[{index:!0,Component:pk},{path:"materias",loader:Br(["admin","editor","autor"]),Component:Sk},{path:"materias/nova",loader:Br(["admin","editor","autor"]),Component:Bp},{path:"materias/editar/:id",loader:Br(["admin","editor","autor"]),Component:Bp},{path:"projetos",loader:Br(["admin","editor"]),Component:Rk},{path:"projetos/novo",loader:Br(["admin","editor"]),Component:Vp},{path:"projetos/editar/:id",loader:Br(["admin","editor"]),Component:Vp},{path:"equipe",loader:Br(["admin","editor"]),Component:dE},{path:"equipe/novo",loader:Br(["admin","editor"]),Component:Wp},{path:"equipe/editar/:id",loader:Br(["admin","editor"]),Component:Wp},{path:"usuarios",loader:Br(["admin_alfa"]),Component:lE},{path:"configuracoes",loader:Br(["admin_alfa"]),Component:cE}]}]},{path:"/",Component:Q1,children:[{index:!0,Component:nk},{path:"quem-somos",Component:sk},{path:"projetos",Component:ak},{path:"projetos/:id",Component:ok},{path:"materias",Component:uk},{path:"materias/:id",Component:dk},{path:"newsletter",Component:hk},{path:"contato",Component:fk},{path:"*",Component:mk}]}]);function gE(){return l.jsx(Dw,{router:pE})}ux.createRoot(document.getElementById("root")).render(l.jsx(gE,{}));
